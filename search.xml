<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>IOS和Mac如何配置DoH</title>
      <link href="/2020/12/22/20201222001.html"/>
      <url>/2020/12/22/20201222001.html</url>
      
        <content type="html"><![CDATA[<h1 id="什么是DoH"><a href="#什么是DoH" class="headerlink" title="什么是DoH"></a>什么是DoH</h1><p><code>DoH</code>是<code>DNS Over HTTPS</code>的缩写.我们在访问一个网站时,会根据本机设置的DNS去查询这个域名的ip,而这个过程传统使用UDP传输协议,并且在请求的过程中并没做任何的加密操作</p><h2 id="这样会导致什么样的影响呢"><a href="#这样会导致什么样的影响呢" class="headerlink" title="这样会导致什么样的影响呢?"></a>这样会导致什么样的影响呢?</h2><p>DNS污染、劫持。也就是我们访问的并不是我们想要的真实网站。尤其是在当今广告此猖狂的年代, 各个运营商经常会返回一些我们意想不到的广告或干扰,甚至因为一些这样的广告而被受骗。其次就是udp传输明文,这样就会被记录下自己的访问记录,自己的隐私数据就会被他人拿来利用分析。</p><h1 id="DNS劫持与HTTP劫持"><a href="#DNS劫持与HTTP劫持" class="headerlink" title="DNS劫持与HTTP劫持"></a>DNS劫持与HTTP劫持</h1><h3 id="DNS劫持：当DNS不那么老实"><a href="#DNS劫持：当DNS不那么老实" class="headerlink" title="DNS劫持：当DNS不那么老实"></a>DNS劫持：当DNS不那么老实</h3><p>打个比方：</p><p>从前有个叫小刚的，他也开了家杂货店；<br>小刚发现小明的杂货店有很多客户，分外眼红，便拿钱贿赂了村口大爷(DNS服务商)，于是，当顾客让村口大爷将其带到“小明杂货店”是，村口大爷不管三七二十一将其带到“小刚杂货店”。在网络中，则是DNS服务器故意给出错误的IP地址。</p><p>这显然是无计可施的，一般来说，遇到这种人品烂的掉渣的服务商，最好的办法就是换一家，好在这年头网络条件不错，大多数DNS都不搞这种事。</p><h3 id="HTTP劫持：当ISP不那么老实"><a href="#HTTP劫持：当ISP不那么老实" class="headerlink" title="HTTP劫持：当ISP不那么老实"></a>HTTP劫持：当ISP不那么老实</h3><p>假设你向村口大爷（DNS服务器）打了个电话，“我要去小明杂货店。”结果你的电话服务商窃听了这句话，得知了你的行程；甚至将其修改为“我要去小刚杂货店。”，然后你就不明不白的被带到了另一个地方。</p><p>在这种情况下，你的DNS服务商是老实可靠的，但你的ISP（网络服务提供商）则不那么可靠。当然，一般的ISP并没有那么猖狂，他们最多不过是往你身上塞几张奇怪的广告（想必大家都有这样的经历。）你有时候会不会发现你看到的广告就是最近曾经关注过的事物？</p><p>当然随着智能设备普及，对于窃听这件事情成本越来越低，也越来越高级。比如听筒窃听。网上有那么一个视频，如果你想要一个PS5，那就对着你老爸的手机一直说PS5…用不了几个小时，你老爸看淘宝的时候，都是PS5相关商品推荐，甚至是网页也都是相关广告。（当然DoH并不能解决声音窃听这件事情。）</p><a id="more"></a><h2 id="DoH的具体原理"><a href="#DoH的具体原理" class="headerlink" title="DoH的具体原理"></a>DoH的具体原理</h2><p>DoH的具体原理其实就是在DNS外面套一层HTTPS。（而且更慢了）即流程变成了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你的电脑 -&gt; DoH服务器 -&gt; DNS服务器 -&gt; DoH服务器 -&gt; 你的电脑</span><br></pre></td></tr></table></figure><p>以上流程中的一个箭头代表一个HTTPS加密链接，使得该过程中的所有流量皆受到强加密，这样一来，增加破译难度及破译成本。</p><h1 id="Mac或IOS如何配置"><a href="#Mac或IOS如何配置" class="headerlink" title="Mac或IOS如何配置"></a>Mac或IOS如何配置</h1><p>由于Mac和IOS目前官方没有推出类似华为的DNS加密配置（其实就是填入DoH服务地址）</p><h3 id="目前网上的配置方式："><a href="#目前网上的配置方式：" class="headerlink" title="目前网上的配置方式："></a>目前网上的配置方式：</h3><p>1、基于浏览器自身功能（Chrome：安全DNS–》自定义、Firefox：启动基于HTTPS的DNS）<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTUzNzIyOC9hcnRpY2xlL2RldGFpbHMvOTk2OTI3MjQ=" title="https://blog.csdn.net/weixin_45537228/article/details/99692724">链接<i class="fa fa-external-link"></i></span></p><p>2、<code>DNSCrypt-proxy</code>其实就是在电脑上开启一个代理<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnlhby5uby90ZWNoL2RvaC5odG1s" title="https://blog.yao.no/tech/doh.html">链接<i class="fa fa-external-link"></i></span></p><p>3、基于AdGuard，在远程服务器或本地电脑开启<code>AdGuard Home</code>服务。由于AdGuard本身支持DoH设置，所以这个方法还是比较好用的，但是废钱(需要有自己的服务器)。<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FkZ3VhcmRUZWFtL0FkZ3VhcmRIb21l" title="https://github.com/AdguardTeam/AdguardHome">官方GitHub<i class="fa fa-external-link"></i></span></p><p>当然还有很多方法可以实现，比如<code>DNSMap</code>之类这里不一一列举。</p><p>上面这几个方法都是基于电脑去做处理，而不能解决IOS的问题。</p><h3 id="那么如何让IOS和Mac都支持DoH呢？"><a href="#那么如何让IOS和Mac都支持DoH呢？" class="headerlink" title="那么如何让IOS和Mac都支持DoH呢？"></a>那么如何让IOS和Mac都支持DoH呢？</h3><p>答案是：描述文件<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9lbmNyeXB0ZWQtZG5z" title="https://github.com/paulmillr/encrypted-dns">GitHub地址<i class="fa fa-external-link"></i></span></p><p>GitHub库里提供了<code>AdGuard</code>、<code>Alibaba</code>、<code>Cloudflare</code>、<code>DnsPod</code>、<code>Google</code>、<code>OpenDNS</code>、<code>Quad9</code>等。</p><p>我个人使用了阿里的描述文件<span class="exturl" data-url="aHR0cHM6Ly9oZWxwLmFsaXl1bi5jb20vZG9jdW1lbnRfZGV0YWlsLzE3NjgyMS5odG1s" title="https://help.aliyun.com/document_detail/176821.html">官方说明文档<i class="fa fa-external-link"></i></span>当然你可以对描述文件进行二次编辑。</p><h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><p>将GitHun仓库中的描述文件下载到本地，双击你需要的描述文件即可。</p><h3 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h3><p>将描述文件发送到手机–&gt;打开–&gt;允许即可。</p><p>阿里云DoH：<code>https://dns.alidns.com/dns-query</code></p><p>个人阿里云DoH：<code>https://**userid**.alidns.com/dns-query</code></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
            <tag> DoH </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何克服焦虑</title>
      <link href="/2020/05/13/20200513001.html"/>
      <url>/2020/05/13/20200513001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>焦虑是每个人偶尔都会有的一种正常而且健康的情绪。但是焦虑可能会演变成一种心理障碍，降低你应对这种情感的能力。当你试图克服这种心理障碍时，不要尝试消除焦虑，而要建立自己的应对体系。拥有解决焦虑根源的能力才是克服焦虑的关键。焦虑可能会引发更加严重的心理健康问题，例如长期抑郁，所以不要让焦虑左右你。</p></blockquote><h1 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h1><h2 id="检查焦虑情绪"><a href="#检查焦虑情绪" class="headerlink" title="检查焦虑情绪"></a>检查焦虑情绪</h2><h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><p>意识到并承认自己的焦虑。不要因为焦虑而责怪自己，或者说丧气话，比如“我永远也摆脱不了它”，或者“我无能为力”等等。要相信自己有能力克服它，并且你最终也会战胜它。</p><h3 id="II"><a href="#II" class="headerlink" title="II"></a>II</h3><p>弄清焦虑的根源。不管你是惊恐发作，还是突然开始忧虑和恐惧，一定要弄清楚，到底是什么导致了你的焦虑。周围环境中的某个东西是你焦虑的主要来源吗？是某场意外引起的吗？是某个即将进行的活动或者会议造成了你的焦虑吗？只有弄清楚恐惧的根源，你才能更轻松地应对它。</p><h3 id="专家提示"><a href="#专家提示" class="headerlink" title="专家提示"></a>专家提示</h3><div class="note success">            <p>要明白，焦虑有时也是有益的。临床心理学家克洛伊卡迈克尔（Chloe Carmichael）博士说：“我们有时不愿意起床。这并不总是一件坏事。这其实是大自然母亲在用她的方式告诉你，你太累了，是时候休息了。知道自己什么时候需要休息是保持健康的关键。如果这种情况非常频繁，或者较你的生活习惯而言，发生得过于频繁的话，你可能需要找个人谈一谈。”</p>          </div><h3 id="III"><a href="#III" class="headerlink" title="III"></a>III</h3><p>判断你是否能够解决你的担忧。如果你知道自己怕的是什么，那么第二步就是判断自己能否解决这个问题，或者说这是不是只有时间（或者想象）才能应对的问题。如果你的恐惧大部分来源于你的想象，或者你现在无法处理，那么有意识地控制自己不要去想这些东西。如果你的担忧是一些需要着手解决的东西，那就采取措施，制定行动方案。</p><ul><li>你可以做什么来缓解这种恐惧或者担忧呢？</li><li>这是一种长期的，还是短期的解决方案？</li><li>我该如何防止这种担忧或者恐惧再次发生？</li></ul><a id="more"></a><h3 id="IV"><a href="#IV" class="headerlink" title="IV"></a>IV</h3><p>考虑最坏的情况。如果你因为恐惧耗费了大量心神，花点时间想一想，符合实际的最坏的结果到底是什么。假如说你在为一场大型演讲做准备，你因此而恐慌，停下来想一想“最坏的结果是什么”。不管你的反应有多夸张，辩证地去思考，你就会明白，即使结果再糟糕，也很少有事情是无法合理解决的。</p><h3 id="V"><a href="#V" class="headerlink" title="V"></a>V</h3><p>接受不确定性。如果不知道事情将如何发展，我们确实很难停止担忧。事事皆有不确定性，我们要学会接受这个事实。我们不知道事情将如何发展，或者结局会是什么。担心未知的东西会给你带来没有必要的恐惧， 但只要学会接受各种可能性，这个恐惧自然会消失。</p><h3 id="VI"><a href="#VI" class="headerlink" title="VI"></a>VI</h3><p>想想你的担心是否有用。担心总是有原因的，焦虑是对真实或者想象情景的一种恐惧反应。而当我们担心某些实际上对我们没有伤害的事时，问题自然就出现了。所以想一想你担心的目的，你的担忧有用吗？如果你因为合理的危险而担心，那担忧也是应当的。但是如果你毫无理由地担忧，那就是自己被忧虑打败了。记住这一点可以帮你摆脱焦虑的情绪。</p><h1 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h1><h2 id="避免认知扭曲"><a href="#避免认知扭曲" class="headerlink" title="避免认知扭曲"></a>避免认知扭曲</h2><h3 id="I-1"><a href="#I-1" class="headerlink" title="I"></a>I</h3><p>既要关注积极的一面，也要关注消极的一面。当你为某事而忧心时，很容易只关注消极的一面。任何事物都有坏的一面和好的一面，你所恐惧的东西也是如此。不要因为过分关注消极的事件，而完全忽略和它积极的方面。</p><h3 id="II-1"><a href="#II-1" class="headerlink" title="II"></a>II</h3><p>不要陷入“非黑即白”的思考模式。不管接下来会发生什么，事情的结果不可能是完全好，或者完全坏的。不要让自己忽略“黑”“白”之间的“灰色地带”，从而过分夸大某些东西。比方说，你没有被某个大学录取，你觉得自己是个完全的失败者，没有人想要你。这样的想法常常伴随着焦虑。但它其实是一种很荒谬的想法。</p><h3 id="III-1"><a href="#III-1" class="headerlink" title="III"></a>III</h3><p>不要让担忧灾难化。如果你所担心的事情并没有什么危害，甚至很大程度上只是你的想象，继续将它灾难化的话，只会让事情更糟。如果你害怕坐飞机，飞机一遇到气流，你便以为要坠机，这只会加剧你的忧虑。现实地看待所有的事情，不要只想着可能发生的事。</p><h3 id="IV-1"><a href="#IV-1" class="headerlink" title="IV"></a>IV</h3><p>不要过早下定论。没有事实依据，也没有亲身经历担忧或者恐惧之事时，过早地下结论并不是好事。如果你有不确定的事情，只要想着你并不知道会发生什么，那你的焦虑自然会减少。考虑所有可能的后果，而不要总是想着最恐怖、最不可能的结论。</p><h3 id="V-1"><a href="#V-1" class="headerlink" title="V"></a>V</h3><p>不要让情绪控制你的理智。人在恐惧和焦虑的时候，总是容易被情绪冲昏头。你的情绪也是如此，它们会让你误以为你处在极度的危险中，而忽略了现实的情况。除非你真的身处险境，否则不要相信恐惧所带来的危机感。当心所有和焦虑有关的负面情绪，比如紧张、愧疚和尴尬等等。</p><h3 id="VI-1"><a href="#VI-1" class="headerlink" title="VI"></a>VI</h3><p>不要所有的事情都怪自己。焦虑发作的时候，不要因为不可控的情况而责怪自己。假如有人闯进了你的家，你因此担心和害怕，很容易把这个事情一直放在心上，并因此责怪自己。这种想法毫无逻辑，只会让你感觉更糟。除非是你故意把小偷引到家里来，不然你就没有理由为他们的行为而负责。</p><h1 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h1><h2 id="试试已证实的减压法"><a href="#试试已证实的减压法" class="headerlink" title="试试已证实的减压法"></a>试试已证实的减压法</h2><h3 id="I-2"><a href="#I-2" class="headerlink" title="I"></a>I</h3><p>深呼吸。人在焦虑的时候，呼吸会加快，大脑供氧量也会减少。这会使得你思路混乱， 难以形成合理的推论。花点时间专注在腹式呼吸上。深呼吸4秒，然后屏气4秒，最后呼气4秒。如此重复1到2分钟，可以快速平复你的神经。如果你不知道该用哪个部位呼吸，将手放在肚子上，感受腹部随着呼吸而起伏。</p><h3 id="II-2"><a href="#II-2" class="headerlink" title="II"></a>II</h3><p>花点时间运动。不管你的焦虑是突然发作，还是长期以来的毛病，运动一定能起到缓解的作用。身体的活动能释放让你开心的内啡肽，并抑制释放压力的皮质醇。每到有压力的时候，运动运动或者散散步。经常运动除了能起到即时的治疗效果外，还能长期缓解你的焦虑。</p><h3 id="III-2"><a href="#III-2" class="headerlink" title="III"></a>III</h3><p>冥想,有意识地将意识从压力源上转移开，并集中在一些平和的事上，这样焦虑和恐惧会大大降低。焦虑发作的时候，专注于内心，然后重复一些积极的咒语或者祷告。把精神全部集中在这上面，最终焦虑会自然散去。</p><h3 id="IV-2"><a href="#IV-2" class="headerlink" title="IV"></a>IV</h3><p>保持健康的饮食。虽然把早饭和焦虑联系在一起，听起来有一些奇怪，但是你吃的东西确实对情绪有着很大的影响。有研究表明，不健康的饮食和高度焦虑、压力有着一定的联系。试着每天食用更多的水果、蔬菜和全谷物。检测自己是否对某种食物过敏，焦虑也是食物过敏的常见表现之一。</p><h3 id="V-2"><a href="#V-2" class="headerlink" title="V"></a>V</h3><p>去看医生。如果焦虑已经严重到无法克服的程度了，不要羞于启齿，直接去看医生。这就像你受伤了要去医院治疗一样。为了心理健康，你同样要去看心理医生。如果你有慢性焦虑症，或者焦虑总是反复发作，最好接受专业的心理诊断，并通过专门的疗法或者药物进行治疗。</p><h1 id="小提示"><a href="#小提示" class="headerlink" title="小提示"></a>小提示</h1><ul><li>不喝咖啡因含量高的饮品，它会刺激你的系统，不仅起不到放松的作用，还会累积更多的压力。</li><li>在服用任何抗压药之前，先试试所有简单的治疗手段。服用抗压药物很简单，但是要停止服用就不太可能了。</li><li>涂抹薰衣草精油放松，并舒缓神经。在耳垂附近滴一滴精油就能发挥神奇的作用。</li><li>找到能让你开心的东西，比如读书、电视节目、电影或歌曲。每当你焦虑时，就听听、读读、看看那个东西。</li></ul><h1 id="警告"><a href="#警告" class="headerlink" title="警告"></a>警告</h1><ul><li>为了避免和其它药物发挥冲突，即便是药效最弱的药，也要咨询医生后才能服用。</li><li>这些措施并不能代替专业的治疗，它们对于较轻的问题或许有一定的帮助。但严重的恐惧症要及时就医。因焦虑或者紧张而压力过大，可能会损害神经系统，影响血压。不及时治疗的话，你的恐惧症会对身体造成严重的影响，引发社交障碍，并剥夺你直面问题的信心。</li><li>如果这些建议都没有帮助，在社交场合，你的不安还是会通过行为表现出来。那这应该是一种需要治疗的焦虑症，而不是单纯的担心而已。</li></ul><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> how </category>
          
      </categories>
      
      
        <tags>
            
            <tag> how </tag>
            
            <tag> soup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何和猫咪交流</title>
      <link href="/2020/05/12/20200512001.html"/>
      <url>/2020/05/12/20200512001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>科学家已经发现，猫咪们其实有一套自己的交流方式，而这种交流并不简单，其中包含了数百种不同的声音，用以向主人表达它们的不同需求。如果可以弄懂猫咪想要和你“说”些什么，并且明白猫咪如何理解人类的交流方式，你就可以与你的猫咪更好地理解对方，建立更加亲密友好的关系。</p></blockquote><h1 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h1><h2 id="读懂猫咪的身体语言"><a href="#读懂猫咪的身体语言" class="headerlink" title="读懂猫咪的身体语言"></a>读懂猫咪的身体语言</h2><h3 id="I"><a href="#I" class="headerlink" title="I"></a>I</h3><p>观察猫咪的尾巴。和狗一样，猫也会通过尾部的动作来交流。了解猫咪声音语言的基础上再了解它们用尾巴传递出的信号，可以帮助你更准确地了解猫咪的需要。常见的尾部动作的含义如下：</p><ul><li>尾巴直直地竖起来，尾端稍稍卷起，意味着猫咪很开心。</li><li>如果猫咪的尾巴一抽一抽的，那么它很可能要么很兴奋，要么很紧张。</li><li>尾巴上的毛竖起来，或者显得蓬松而浓密，意味着猫咪感觉受到了威胁。</li><li>尾巴不停摆动，意味着猫咪见到你很高兴。</li><li>如果猫咪尾巴呈“N”字形，上面的毛竖起来，那么就意味着这时的猫咪极具进攻性。这种动作经常在打架或者自我防卫的时候出现。</li><li>尾巴上的毛竖起来，但是尾巴是垂下来的，那么就是指猫咪感觉受到了威胁，或者有进攻的想法。</li><li>尾巴低低地垂下来，藏在屁股后边，则意味着猫咪很害怕。</li></ul><h3 id="II"><a href="#II" class="headerlink" title="II"></a>II</h3><p>观察猫咪的眼睛。注视猫咪的眼睛有助于和它建立感情，并了解它的想法。但是要小心，直愣愣地盯着，眼都不眨的话，表示进攻，会让猫咪觉得不舒服的。</p><ul><li>如果猫咪瞳孔放大，那么它要么是觉得好玩、兴奋；要么就是害怕，或者有进攻的想法。你可以结合它的其他表现来弄清楚究竟是那种情况。</li><li>如果猫咪直视你的眼睛，意味着它很信任你，愿意呆在你身边。</li><li>猫咪慢慢地眨眼睛，也是表达感情的方式，意思是和你呆在一起很舒服。</li></ul><a id="more"></a><h3 id="III"><a href="#III" class="headerlink" title="III"></a>III</h3><p>留意猫咪的其他身体语言。既然猫咪对身体语言的掌握比人类更娴熟，那么自然会利用一些动作配合叫声来表达它的想法。</p><ul><li>猫咪抬起鼻子，脑袋稍稍歪向一边，意思是“我认识你。”有时候猫咪会坐在窗户边，用这种方式和你打招呼。</li><li>如果猫咪感到害怕、紧张焦虑，或者仅仅是为了好玩，耳朵会朝后贴在脑袋上。如果猫咪嗅到了什么让它感到好奇的东西，它也会这么做。</li><li>猫咪轻轻把舌头伸出来，舔下嘴唇，表示它有点担心、忧虑。</li></ul><h3 id="IV"><a href="#IV" class="headerlink" title="IV"></a>IV</h3><p>认识猫咪的交流习惯。其实许多猫咪的交流习惯是按照你在它身边时的行为养成的。而一些特定的行为对不同的猫咪普遍适用。</p><ul><li>猫咪在你身上蹭来蹭去意思是在你身上做标记，宣示主权。</li><li>用鼻子“亲吻”是猫科动物特有的表达感情的方式，所以如果猫咪用湿湿的鼻子碰你，就是对你表示好感，愿意和你在一起。</li><li>如果猫咪用脑袋、身体一侧，或者尾巴对着人或者其他动物蹭来蹭去，则是打招呼的意思。</li><li>如果猫咪顽皮地用脑袋撞你，也是友好的表示。</li><li>猫咪会嗅人的脸，用来识别和对方的熟悉程度。</li><li>猫咪两只前爪左右轮换地在你身上有节奏地踩，像按摩一样。这也是高兴、满足、玩耍的意思。如果猫咪这么做，意味着猫咪认识你，而且信任你。</li><li>猫咪舔人是对一个人表示信任的明确信号。这时猫咪很可能已经把你当做亲人看待了，就像母猫对待小猫一样。</li><li>如果你的猫咪企图“吃”你的头发，它其实很可能只是想帮你“拾掇拾掇”，也就是说猫咪很喜欢你，而且非常信任你。</li><li>有的猫咪还会模仿你的行为，表达对你的感情。你可以试着在地上“装死”来看看它的反应。猫咪可能会过来嗅一嗅你、碰碰你，然后也躺在地上装死。</li><li>如果你的猫咪咬你咬得稍稍用力了些，意思是让你暂时不要烦它。</li></ul><h1 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h1><h2 id="和你的猫咪交流"><a href="#和你的猫咪交流" class="headerlink" title="和你的猫咪交流"></a>和你的猫咪交流</h2><h3 id="I-1"><a href="#I-1" class="headerlink" title="I"></a>I</h3><p>试着回应你的猫咪。猫咪们总是不断地在学习如何和我们交流，因此你和它的互动越多，它学得也就越快。</p><ul><li>和猫咪说话的时候语调可以稍稍升高一些，以示友好，因为语调较低的声音往往意味着不悦和敌意。</li><li>反复说话可以帮助猫咪更好地配合。你可以每次睡觉之前都说“睡觉啦”，这样时间一长，猫咪就学会将特定的语言和你的行动联系起来，甚至在你睡觉之前就跑到床上了。</li></ul><h3 id="II-1"><a href="#II-1" class="headerlink" title="II"></a>II</h3><p>利用非语言交流方式。猫经过训练可以明白一些词，不过对于非语言类的交流方式，它们天生就明白。所以营造温馨的气氛很重要，让猫咪明白你对它的期待，时不时地给它一些小惊喜，都可以帮助你和猫咪建立更加亲密的友谊。</p><ul><li>和猫咪进行眼神交流的时候慢慢地眨眼，猫咪就会走近你让你摸它，因为这样做告诉猫咪你并没有恶意。</li><li>尽量不要死死盯着猫的眼睛，因为这是怀有敌意的表示。</li><li>如果你的猫咪想要坐在沙发上你的旁边，但是看起来它好像还没有下定决心，那么就拍一拍你身边的位置，然后用轻柔的语气邀请它过来。</li><li>表达你的意图的时候采用的语言要始终保持一致。许多主人都会犯一个错误，就是一边爱抚宠物，一边却在说“不许”。这样做会让猫咪感到很困惑。所以，如果你想让猫咪走开，就清楚地说“等一会”，或者轻轻地推它，而不要爱抚它，这样猫咪就知道你现在想一个人呆着。大部分猫都会从不同的方向尝试靠近你。所以记得说“等一会”的时候，要有足够的耐心。</li><li>无论如何，不要冲着猫咪大喊大叫，也不要动手打它，这样只会让猫咪感觉受到威胁，惹怒猫咪，结果只会适得其反。所以，只需要表现出你不高兴就可以了，猫咪完全可以感受到你的情绪。</li></ul><h3 id="III-1"><a href="#III-1" class="headerlink" title="III"></a>III</h3><p>向猫咪传达指令。记得训练猫咪的时候你的措辞、语气，以及你的肢体语言要保持一致，这样你和猫咪才能更清楚地理解对方。</p><ul><li>最好练习一种表达命令的特定语气，用来在猫咪做错事的时候和它交流。记得要选择一种和平时说话的语气区别开来，但同时你也可以运用自如的语气，这样每次教育猫咪的时候都可以使用。如果这么做，意味着你很少使用这种语气和它说话，但是每次这么说话都很严肃，那么你的猫咪就会学会将这种声音和它做错事联系起来了。</li><li>用快速利落的语气表达命令“不可以”，最好听起来有点像猫咪发出的嘶嘶声，这样一来由于这种声音接近“猫咪语言”，交流起来也就更容易。</li><li>只要有足够的耐心，假以时日，猫咪和狗一样，也是可以训练的。你甚至还可以训练它和你握手呢。</li></ul><h1 id="方法3"><a href="#方法3" class="headerlink" title="方法3"></a>方法3</h1><h2 id="听听猫咪在说什么"><a href="#听听猫咪在说什么" class="headerlink" title="听听猫咪在说什么"></a>听听猫咪在说什么</h2><h3 id="I-2"><a href="#I-2" class="headerlink" title="I"></a>I</h3><p>弄懂猫咪发出叫声的原因和方式。其实通常而言，发出叫声并不是猫咪交流的首选方式。猫咪的“第一语言”其实是一个相对复杂的系统，包含了气味、面部表情、肢体语言、触摸等等元素。不过猫咪们很快就意识到，我们根本不理解这些猫咪和同类交流的时候使用的语言，因此它们才用声音这种“人类语言”和人交流。猫咪通过观察什么样的声音会让主人做出什么样的行动，从而不断学习如何表达自己的需求。</p><h3 id="II-2"><a href="#II-2" class="headerlink" title="II"></a>II</h3><p>观察猫咪发出“喵喵”声时周围的情况。注意观察猫咪发出叫声的时候在做什么，这样就可以分辨出不同的叫声代表什么样的请求（或者抗议）。虽然不同的猫咪发出的叫声会有所差异，但确实存在几种类型的叫声，通常分别和特定的情绪相关，如猫咪发出的咕噜咕噜的声音或者嘶嘶声。</p><ul><li>短促的叫声通常用来打招呼、表示问候的意思。</li><li>一连串的叫声则代表猫咪打招呼的时候非常兴奋。如果你有一段时间和猫咪没有见面，猫咪就会发出这样一连串的叫声来欢迎你。</li><li>声调适中的叫声往往代表猫咪有某种需求，一般不是饿了就是渴了。</li><li>而拖长的叫声则代表猫咪的这种渴求比较强烈。</li><li>低沉的叫声表示抱怨、不开心，或者是发起攻击的前兆。</li><li>响亮，但比一般情况低沉的叫声通常意味着迫切的需求，有可能是饿得厉害。</li></ul><h3 id="III-2"><a href="#III-2" class="headerlink" title="III"></a>III</h3><p>一些其他常见的交流方式。虽然猫咪大多数时候通过喵喵叫和我们交流，但它们还是会发出其他的声音。</p><ul><li>猫咪通过喉咙震动发出的咕噜咕噜声表示想与人亲近或想要引起注意。虽然咕噜声代表很多种不同的需求，不过通常而言意味着猫咪感到很心满意足。</li><li>嘶嘶声是自我防御和进攻的明确信号。如果猫咪发出嘶嘶声，就表示它不高兴、感觉受到了威胁、惊吓，或者准备发起进攻。</li></ul><h3 id="IV-1"><a href="#IV-1" class="headerlink" title="IV"></a>IV</h3><p>留意其他几种特殊的声音。虽然这几种声音比喵喵声、嘶嘶声，和咕噜咕噜的声音少见，但是理解这几种声音有助于你和猫咪更好地交流。</p><ul><li>高声咆哮通常意味着愤怒、痛苦，或者恐惧。</li><li>而颤抖的叫声则意味着兴奋、紧张，或者困惑。</li><li>还有一种介于喵喵叫和咕噜咕噜声之间的叫声，如果音调是渐渐上扬的，那么就是友好问候的意思。母猫一般就用这种声音招呼小猫。</li><li>洪亮尖声的叫声，或者听起来像“呜呜呜喵”这样的声音，意味着突如其来的疼痛，比如你踩到猫咪的尾巴时，它就会发出这种叫声。</li></ul><h1 id="小提示"><a href="#小提示" class="headerlink" title="小提示"></a>小提示</h1><ul><li>猫咪有时候轻轻地咬你只是为了好玩，或者有点不耐烦。</li><li>盘腿坐在地上看着猫咪会让它觉得你欢迎它靠近，让你摸它。</li><li>大部分猫咪都喜欢人轻轻地挠它的下巴。你可以先在猫咪的脸上或者头顶上轻轻地挠一挠，作为试探。</li><li>放下猫咪的时候，尽量确保猫咪的爪子已经安稳地着地再放手。这样猫咪和你在一起才会有安全感，觉得你是可以信赖的，这样才不会突然就从你的怀里挣脱开。如果你一直这么做，也可以在它们年老的时候以这种方式让它免于受伤。</li><li>爱猫咪、尊重猫咪，这样猫咪也会好好对你，心情愉快，成为你的好伙伴。</li><li>如果猫咪大幅地摇尾巴，通常要么是生气了，要么是兴奋地想玩，所以这时候让它自己呆着就是了。</li><li>有的猫喜欢人挠腹部，不过大部分猫还是不太喜欢这种方式，因为这意味着把最脆弱的部分暴露给别人。所以要它克服这种恐惧需要耐心。大多数猫咪比起腹部，对前胸部分的保护意识没有那么强。你可以从猫咪的前胸位置开始轻轻地挠，然后慢慢取得它的信任。如果猫咪还年幼，这种方法就更合适了。</li><li>如果你的猫咪脾气比较暴躁，那么就尽量用温柔的声音和它说话，还要给它仔细梳毛，好好喂它，并且和它玩。</li><li>缅因猫尤其喜欢玩，所以如果你养了一只缅因猫，一定要常常陪它玩。</li><li>如果想知道猫咪是否想让你摸它，就伸出一只手，记得中指伸得慢一些。你的猫咪会用鼻子轻轻碰你的手，并且用脑袋蹭，这样你就知道它想让你摸摸它的头了。</li><li>猫咪发出咕噜声也不总是意味着它很高兴，也有可能是什么弄疼了它或者它很害怕。</li><li>亚洲品种的猫，如暹罗猫尤其喜欢用声音交流，而一些长毛猫则比较安静。当然了，例外总是有的。</li><li>好好待你的猫咪，要像对待家人一样，它也会好好回报你的。</li><li>如果你养了一只德文卷毛猫，那么也一定要多多和它玩，因为这种猫咪特别喜欢玩闹。</li><li>如果你的猫咪发出嘶嘶声，让它自己呆着就好，因为这时候的猫咪正在气头上呢。</li></ul><h1 id="警告"><a href="#警告" class="headerlink" title="警告"></a>警告</h1><ul><li>猫咪到了年纪最好都做绝育手术，这样它们就不会狂躁不安，也不会动不动生一窝小猫让你无力抚养。雄猫尤其应该性成熟之前就做手术，避免养成一些不好的行为习惯。</li><li>抱猫咪的时候要小心，抱起来的时候不要抱得太紧。如果把猫咪抱得太紧它会觉得你有敌意，搞不好就会抓伤你。</li><li>如果觉得受到了其他宠物的威胁，猫咪还会留下一点排泄物标记领地。此外，这也可能意味着猫咪患有尿路感染或者其他疾病。如果问题比较严重，就应该把猫咪和其他宠物隔离开，然后去看医生及时治疗。</li></ul><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> how </category>
          
      </categories>
      
      
        <tags>
            
            <tag> how </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Agile--敏捷</title>
      <link href="/2020/04/30/20200430001.html"/>
      <url>/2020/04/30/20200430001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>在这变幻莫测，信息爆炸的时代，我们每天接收都的信息量足够让我们的崩溃数十次。当然工作也是如此，时时刻刻面对这不确定信息和不稳定因素。那么我们如何处理以这些事情；如何响应这些事情。客观莫急，我会在后面很长时间里，在这里与大家不定期分享我个人对于敏捷的学习以及实践。</p></blockquote><h1 id="Agile【敏捷】"><a href="#Agile【敏捷】" class="headerlink" title="Agile【敏捷】"></a>Agile【敏捷】</h1><p>在2019年的后半年我才接触并意识到敏捷的存在。当时认为敏捷只是一种形式或一种概念。然后人们将某种行为或某种特定行动理解为敏捷。</p><p>最近在一次无意中接触到了敏捷更多的信息，瞬间感觉头顶往外冒凉气。可能是被我之前的无知吓到了。</p><p>敏捷不只可以用到开发、产品、项目、团队，甚至事业部、公司等等都可以用到敏捷思维，或用原文作者的词<code>敏捷框架</code>，这个框架更像是一个协议。当然我也只是看了一些零零碎碎的东西，后面我会继续搜集更多的资料扩展自己的理解以及认知。</p><p>我是从事开发的，所以我会先从开发角度去理解，然后会一步一步的理解并实践。</p><a id="more"></a><h1 id="什么是敏捷开发？"><a href="#什么是敏捷开发？" class="headerlink" title="什么是敏捷开发？"></a>什么是敏捷开发？</h1><h2 id="我的理解"><a href="#我的理解" class="headerlink" title="我的理解"></a>我的理解</h2><p>我对于敏捷开发的理解，也就是目前我的现状是这样的。一个团队，其中包含运营、产品、设计、服务端开发、前端开发、QA，这些人员在当前项目进行中，都属于当前项目所调配。且当前项目成员不受过多的外界因素所影响。当然目前来看我的这个理解其中有一小部分是对的，且这一小部分是OKR与敏捷结合的一部分。</p><h2 id="正确解释"><a href="#正确解释" class="headerlink" title="正确解释"></a>正确解释</h2><p>敏捷开发以用户的需求进化为核心，采用迭代、循序渐进的方法进行软件开发。在敏捷开发中，软件项目在构建初期被切分成多个子项目，各个子项目的成果都经过测试，具备可视、可集成和可运行使用的特征。换言之，就是把一个大项目分为多个相互联系，但也可独立运行的小项目，并分别完成，在此过程中软件一直处于可使用状态。</p><h1 id="敏捷宣言"><a href="#敏捷宣言" class="headerlink" title="敏捷宣言"></a>敏捷宣言</h1><blockquote><p>我的理解是宣言更像是概述或者是宗旨</p></blockquote><ul><li>最重要的是通过尽早和不断交付有价值的软件满足客户需要。</li><li>我们欢迎需求的变化，即使在开发后期。敏捷过程能够驾驭变化，保持客户的竞争优势。</li><li>经常交付可以工作的软件，从几星期到几个月，时间尺度越短越好。</li><li>业务人员和开发者应该在整个项目过程中始终朝夕在一起工作。</li><li>围绕斗志高昂的人进行软件开发，给开发者提供适宜的环境，满足他们的需要，并相信他们能够完成任务。</li><li>在开发小组中最有效率也最有效果的信息传达方式是面对面的交谈。</li><li>可以工作的软件是进度的主要度量标准。</li><li>敏捷过程提倡可持续开发。出资人、开发人员和用户应该总是维持不变的节奏。</li><li>对卓越技术与良好设计的不断追求将有助于提高敏捷性。</li><li>简单——尽可能减少工作量的艺术至关重要。</li><li>最好的架构、需求和设计都源自自我组织的团队。</li><li>每隔一定时间，团队都要总结如何更有效率，然后相应地调整自己的行为。</li></ul><h1 id="敏捷实践"><a href="#敏捷实践" class="headerlink" title="敏捷实践"></a>敏捷实践</h1><blockquote><p>对于敏捷建模目前我还有一些误解，还在学习中。</p></blockquote><p>敏捷建模（AM）在AM原则的基础上定义了一组核心实践（practice）和补充实践，其中的某些实践已经是极限编程（XP）中采用了的。而XP中的一些原则又是源于众所周知的软件工程学。</p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Agile </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Agile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>对于管理工具的执着是否值得</title>
      <link href="/2020/04/24/20200424001.html"/>
      <url>/2020/04/24/20200424001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>智能设备的普及也诞生了很多时间管理工具，如<code>番茄类</code>、<code>Todo类</code>、<code>Calendar</code>、<code>GTD</code>，当我们尝试过十几款这类工具之后，会发现自己可能已经陷入一个怪圈无法自拔。想象中可以借助工具提高的工作效率可能还不如使用工具之前。问题出在了哪里？人的问题？工具的问题？下面是我个人的体会，只代表个人对于这件事情的理解和见解。</p></blockquote><h1 id="自黑"><a href="#自黑" class="headerlink" title="自黑"></a>自黑</h1><p>自19年初开始，我就开始寻找各种各样的时间管理工具，当初的想法很单纯，只是想记录一下当天以及以后要做的事情并能够提醒自己即可。<br>期间尝试过很多知名或非知名，专业或非专业的工具。但是效果甚微，因为我的关注点在工具而不是事情。<br>有那么一段时间，一个事情会在至少3个工具上记录，但是这些都在几天之后遗忘甚至把工具删除。删除这些工具的原因也比较正常，就是不好用，使用成本过高或者没有达到自己想要的效果。</p><h1 id="现状"><a href="#现状" class="headerlink" title="现状"></a>现状</h1><p>从20年2月份开始，发现简简单单才是真。我想起了当初使用工具的原因及初衷，然后我选择了现在的我所谓的工具套件</p><ul><li>事件提醒：提醒事项（Mac自带）</li><li>文字记录：备忘录（Mac自带）</li><li>日历：Calendar 366 II（方便查看提醒事项和日期事件）</li><li>效率追踪：RescueTime（监控电脑使用时间及时间分类，会有日报及周报发到邮箱里）</li></ul><h2 id="理由"><a href="#理由" class="headerlink" title="理由"></a>理由</h2><p>为什么使用这些工具，因为简单、方便。</p><ul><li><code>提醒事项</code>和<code>备忘录</code>可以与我手机实时同步且是原生软件稳定性更好。</li><li><code>Calendar 366</code>其实是在菜单栏中把<code>提醒事项</code>和<code>日历</code>内容放到一起且可操作。</li><li><code>RescueTime</code>是分析自己每天都在做什么。<br>就是这些，因为我的诉求也很简单。</li></ul><a id="more"></a><h1 id="表象问题"><a href="#表象问题" class="headerlink" title="表象问题"></a>表象问题</h1><p>工具，可能只是效率问题一个极其浅层次的外延表象。</p><p>我们大脑里总有一个观念，认为只要是道理都是对的，只要照着说明书给出的具体步骤，那么我也能复制别人的成功。但却往往忽视自己与方法的匹配度，忽视自己面临的真实场景，忽视自己的个性与使用习惯。很简单，即使这辆汽车速度再快，对于航海的人，它是没有意义的。</p><p>所以第一个问题，我要问自己，我的生活是否已经繁忙到需要用日程管理？是否已经复杂到需要使用工具去管理时间及任务？还是说，我是在用工具来套生活，将生活中的小事都不合时宜的丢了进去，只是因为高效人士都是这么做的。</p><h1 id="夭折的效率"><a href="#夭折的效率" class="headerlink" title="夭折的效率"></a>夭折的效率</h1><p>为什么你的待办清单总是有很多任务做不完？为什么他的清单总是空空如也？其实总结一个字<code>贪婪</code>。<br>有人会好奇，为什么两者都是贪婪？</p><p>首先要清楚清单是做什么用的？是提醒我们未来可预见时间内要做的任务和当天要做的任务。当然我们可以对这些任务进行分类，进行优先级区分这些都可以，也没问题。<br>想一想周末你的清单里有什么。是否还有任务在那里挂着等待这你去点击完成。计划每个任务不是给别人看的，而是自己要实实在在的做了这些任务且很好的完成。<br>将清单塞的满满，不是为了让你在别人面前夸夸自谈，不是为了让你赚取别人的赞扬。鱼和熊掌不可兼得，量力而行。</p><p>空空如也是因为你的清单没有当天计划，更没有未来计划。</p><p>你的效率已经被贪婪扼杀在摇篮中。</p><h1 id="钥匙"><a href="#钥匙" class="headerlink" title="钥匙"></a>钥匙</h1><p>工作中如何提升效率？</p><ul><li>确认目标：将自己的目标与团队共享</li><li>定义优先级：拆解任务，并明确任务的轻重缓急</li><li>梳理痛点：对自己的任务归类整理，知道自己面临的痛点</li><li>借助工具：依据痛点，有针对性的选择工具</li></ul><h2 id="确认目标-amp-定义优先级"><a href="#确认目标-amp-定义优先级" class="headerlink" title="确认目标 &amp; 定义优先级"></a>确认目标 &amp; 定义优先级</h2><p>目标与优先级这两个步骤，一是将自己的任务比对上级任务与业务方向，如果发现偏差及时沟通及时调整；其次是根据价值程度划定优先级。目标拆解后的事儿肯定很多，但不是什么简单做什么，而是根据价值决定首先应该做什么。</p><p>当然很多时候，我们还是会迫不得已做些无关目标的事。但整体上，目标与优先级可以使我们变得更觉察，不会是只要看到事都想去解决它。</p><p>从源头上控制事项产生，这是任何效率工具都无法达成的效果。</p><h2 id="梳理场景痛点"><a href="#梳理场景痛点" class="headerlink" title="梳理场景痛点"></a>梳理场景痛点</h2><p>完成上面的步骤，基本上我已经知道自己需要完成的任务。接下来我会把任务按性质进行归类，目的是使自己明白，我在工作中主要面临哪些场景，以及是否存在问题或痛点 。</p><ul><li>沟通场景的痛点：文字语音表达不清楚；一件事反复说</li><li>输出场景的痛点：注意力频繁被打断；工作界面不易聚焦</li><li>查询场景的痛点：信息搜索太慢；阅读信息很浮躁</li></ul><h2 id="借力工具"><a href="#借力工具" class="headerlink" title="借力工具"></a>借力工具</h2><p>挑选工具前，先想想哪些事情可以因为工具提升效率，哪些事情其实与工具无关。千万不要盲目跟风。</p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html页面支持暗黑模式</title>
      <link href="/2019/12/25/20191225001.html"/>
      <url>/2019/12/25/20191225001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>自19年开始，Android和IOS平台，都开始玩暗黑模式。当然这没什么不好，但是当我们的页面被用户在暗黑模式打开之后，会被那传统大白色瞬间闪瞎双眼。<br>下面会简单的说一下如何让页面支持暗黑模式。</p></blockquote><h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>其实，我们只是需要使用到css中的<code>prefers-color-scheme</code>媒体查询。</p><ol><li><code>no-preference</code>表示用户未制定操作系统主题。作为布尔值时，为<code>false</code>输出。</li><li><code>light</code>表示用户的操作系统是浅色主题。</li><li><code>dark</code>表示用户的操作系统是深色主题。</li></ol><h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><ol><li>这篇文章发布的时候，微信还无法拿到<code>prefers-color-scheme</code>参数，所以当我们在微信中打开页面目前不支持暗黑模式。</li><li>此方法只是一个简单demo，可以使用该方法拓展出其他实现方式。</li><li><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQ1NTL0BtZWRpYS9wcmVmZXJzLWNvbG9yLXNjaGVtZQ==" title="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme说明<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXQubWVhb28uY24vbGlnaHRfZGFyay5odG1s" title="https://git.meaoo.cn/light_dark.html">DEMO地址<i class="fa fa-external-link"></i></span></li></ol><a id="more"></a><h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面适应黑暗模式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">"back"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"models"</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>测试文字<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.back</span> &#123;<span class="attribute">background</span>: white; <span class="attribute">color</span>:  <span class="number">#555</span>;<span class="attribute">text-align</span>: center&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (prefers-color-scheme: dark) &#123;</span><br><span class="line">  <span class="selector-class">.back</span> &#123;<span class="attribute">background</span>:  <span class="number">#333</span>; <span class="attribute">color</span>: white;&#125;</span><br><span class="line">  <span class="selector-class">.models</span> &#123;<span class="attribute">border</span>:solid <span class="number">1px</span> <span class="number">#00ff00</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (prefers-color-scheme: light) &#123;</span><br><span class="line">  <span class="selector-class">.back</span> &#123;<span class="attribute">background</span>: white; <span class="attribute">color</span>:  <span class="number">#555</span>;&#125;</span><br><span class="line">  <span class="selector-class">.models</span> &#123;<span class="attribute">border</span>:solid <span class="number">1px</span> <span class="number">#2b85e4</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oh-my-zsh中git快捷对照表</title>
      <link href="/2019/10/23/20191023001.html"/>
      <url>/2019/10/23/20191023001.html</url>
      
        <content type="html"><![CDATA[<h2 id="oh-my-zsh中git快捷对照表"><a href="#oh-my-zsh中git快捷对照表" class="headerlink" title="oh-my-zsh中git快捷对照表"></a>oh-my-zsh中git快捷对照表</h2><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">alias g=&apos;git&apos;</span><br><span class="line"> </span><br><span class="line">alias ga=&apos;git add&apos;</span><br><span class="line">alias gaa=&apos;git add --all&apos;</span><br><span class="line">alias gapa=&apos;git add --patch&apos;</span><br><span class="line">alias gau=&apos;git add --update&apos;</span><br><span class="line">alias gap=&apos;git apply&apos;</span><br><span class="line"></span><br><span class="line">alias gb=&apos;git branch&apos;</span><br><span class="line">alias gba=&apos;git branch -a&apos;</span><br><span class="line">alias gbd=&apos;git branch -d&apos;</span><br><span class="line">alias gbda=&apos;git branch --no-color --merged | command grep -vE &quot;^(\*|\s*(master|develop|dev)\s*$)&quot; | command xargs -n 1 git branch -d&apos;</span><br><span class="line">alias gbl=&apos;git blame -b -w&apos;</span><br><span class="line">alias gbnm=&apos;git branch --no-merged&apos;</span><br><span class="line">alias gbr=&apos;git branch --remote&apos;</span><br><span class="line">alias gbs=&apos;git bisect&apos;</span><br><span class="line">alias gbsb=&apos;git bisect bad&apos;</span><br><span class="line">alias gbsg=&apos;git bisect good&apos;</span><br><span class="line">alias gbsr=&apos;git bisect reset&apos;</span><br><span class="line">alias gbss=&apos;git bisect start&apos;</span><br><span class="line"></span><br><span class="line">alias gc=&apos;git commit -v&apos;</span><br><span class="line">alias gc!=&apos;git commit -v --amend&apos;</span><br><span class="line">alias gcn!=&apos;git commit -v --no-edit --amend&apos;</span><br><span class="line">alias gca=&apos;git commit -v -a&apos;</span><br><span class="line">alias gca!=&apos;git commit -v -a --amend&apos;</span><br><span class="line">alias gcan!=&apos;git commit -v -a --no-edit --amend&apos;</span><br><span class="line">alias gcans!=&apos;git commit -v -a -s --no-edit --amend&apos;</span><br><span class="line">alias gcam=&apos;git commit -a -m&apos;</span><br><span class="line">alias gcsm=&apos;git commit -s -m&apos;</span><br><span class="line">alias gcb=&apos;git checkout -b&apos;</span><br><span class="line">alias gcf=&apos;git config --list&apos;</span><br><span class="line">alias gcl=&apos;git clone --recursive&apos;</span><br><span class="line">alias gclean=&apos;git clean -fd&apos;</span><br><span class="line">alias gpristine=&apos;git reset --hard &amp;&amp; git clean -dfx&apos;</span><br><span class="line">alias gcm=&apos;git checkout master&apos;</span><br><span class="line">alias gcd=&apos;git checkout develop&apos;</span><br><span class="line">alias gcmsg=&apos;git commit -m&apos;</span><br><span class="line">alias gco=&apos;git checkout&apos;</span><br><span class="line">alias gcount=&apos;git shortlog -sn&apos;</span><br><span class="line">compdef _git gcount</span><br><span class="line">alias gcp=&apos;git cherry-pick&apos;</span><br><span class="line">alias gcpa=&apos;git cherry-pick --abort&apos;</span><br><span class="line">alias gcpc=&apos;git cherry-pick --continue&apos;</span><br><span class="line">alias gcs=&apos;git commit -S&apos;</span><br><span class="line"></span><br><span class="line">alias gd=&apos;git diff&apos;</span><br><span class="line">alias gdca=&apos;git diff --cached&apos;</span><br><span class="line">alias gdcw=&apos;git diff --cached --word-diff&apos;</span><br><span class="line">alias gdct=&apos;git describe --tags `git rev-list --tags --max-count=1`&apos;</span><br><span class="line">alias gdt=&apos;git diff-tree --no-commit-id --name-only -r&apos;</span><br><span class="line">alias gdw=&apos;git diff --word-diff&apos;</span><br><span class="line"></span><br><span class="line">alias gf=&apos;git fetch&apos;</span><br><span class="line">alias gfa=&apos;git fetch --all --prune&apos;</span><br><span class="line">alias gfo=&apos;git fetch origin&apos;</span><br><span class="line"></span><br><span class="line">alias gg=&apos;git gui citool&apos;</span><br><span class="line">alias gga=&apos;git gui citool --amend&apos;</span><br><span class="line"></span><br><span class="line">alias ggpur=&apos;ggu&apos;</span><br><span class="line"></span><br><span class="line">alias ggpull=&apos;git pull origin $(git_current_branch)&apos;</span><br><span class="line"></span><br><span class="line">alias ggpush=&apos;git push origin $(git_current_branch)&apos;</span><br><span class="line"></span><br><span class="line">alias ggsup=&apos;git branch --set-upstream-to=origin/$(git_current_branch)&apos;</span><br><span class="line">alias gpsup=&apos;git push --set-upstream origin $(git_current_branch)&apos;</span><br><span class="line"></span><br><span class="line">alias ghh=&apos;git help&apos;</span><br><span class="line"></span><br><span class="line">alias gignore=&apos;git update-index --assume-unchanged&apos;</span><br><span class="line">alias gignored=&apos;git ls-files -v | grep &quot;^[[:lower:]]&quot;&apos;</span><br><span class="line">alias git-svn-dcommit-push=&apos;git svn dcommit &amp;&amp; git push github master:svntrunk&apos;</span><br><span class="line"></span><br><span class="line">alias gk=&apos;\gitk --all --branches&apos;</span><br><span class="line">alias gke=&apos;\gitk --all $(git log -g --pretty=%h)&apos;</span><br><span class="line"></span><br><span class="line">alias gl=&apos;git pull&apos;</span><br><span class="line">alias glg=&apos;git log --stat&apos;</span><br><span class="line">alias glgp=&apos;git log --stat -p&apos;</span><br><span class="line">alias glgg=&apos;git log --graph&apos;</span><br><span class="line">alias glgga=&apos;git log --graph --decorate --all&apos;</span><br><span class="line">alias glgm=&apos;git log --graph --max-count=10&apos;</span><br><span class="line">alias glo=&apos;git log --oneline --decorate&apos;</span><br><span class="line">alias glol=&quot;git log --graph --pretty=&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos;&quot;</span><br><span class="line">alias glod=&quot;git log --graph --pretty=&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset&apos;&quot;</span><br><span class="line">alias glods=&quot;git log --graph --pretty=&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset&apos; --date=short&quot;</span><br><span class="line">alias glola=&quot;git log --graph --pretty=&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --all&quot;</span><br><span class="line">alias glog=&apos;git log --oneline --decorate --graph&apos;</span><br><span class="line">alias gloga=&apos;git log --oneline --decorate --graph --all&apos;</span><br><span class="line">alias glp=&quot;_git_log_prettily&quot;</span><br><span class="line">compdef _git glp=git-log</span><br><span class="line"></span><br><span class="line">alias gm=&apos;git merge&apos;</span><br><span class="line">alias gmom=&apos;git merge origin/master&apos;</span><br><span class="line">alias gmt=&apos;git mergetool --no-prompt&apos;</span><br><span class="line">alias gmtvim=&apos;git mergetool --no-prompt --tool=vimdiff&apos;</span><br><span class="line">alias gmum=&apos;git merge upstream/master&apos;</span><br><span class="line">alias gma=&apos;git merge --abort&apos;</span><br><span class="line"></span><br><span class="line">alias gp=&apos;git push&apos;</span><br><span class="line">alias gpd=&apos;git push --dry-run&apos;</span><br><span class="line">alias gpoat=&apos;git push origin --all &amp;&amp; git push origin --tags&apos;</span><br><span class="line">compdef _git gpoat=git-push</span><br><span class="line">alias gpu=&apos;git push upstream&apos;</span><br><span class="line">alias gpv=&apos;git push -v&apos;</span><br><span class="line"></span><br><span class="line">alias gr=&apos;git remote&apos;</span><br><span class="line">alias gra=&apos;git remote add&apos;</span><br><span class="line">alias grb=&apos;git rebase&apos;</span><br><span class="line">alias grba=&apos;git rebase --abort&apos;</span><br><span class="line">alias grbc=&apos;git rebase --continue&apos;</span><br><span class="line">alias grbd=&apos;git rebase develop&apos;</span><br><span class="line">alias grbi=&apos;git rebase -i&apos;</span><br><span class="line">alias grbm=&apos;git rebase master&apos;</span><br><span class="line">alias grbs=&apos;git rebase --skip&apos;</span><br><span class="line">alias grh=&apos;git reset&apos;</span><br><span class="line">alias grhh=&apos;git reset --hard&apos;</span><br><span class="line">alias grmv=&apos;git remote rename&apos;</span><br><span class="line">alias grrm=&apos;git remote remove&apos;</span><br><span class="line">alias grset=&apos;git remote set-url&apos;</span><br><span class="line">alias grt=&apos;cd $(git rev-parse --show-toplevel || echo &quot;.&quot;)&apos;</span><br><span class="line">alias gru=&apos;git reset --&apos;</span><br><span class="line">alias grup=&apos;git remote update&apos;</span><br><span class="line">alias grv=&apos;git remote -v&apos;</span><br><span class="line"></span><br><span class="line">alias gsb=&apos;git status -sb&apos;</span><br><span class="line">alias gsd=&apos;git svn dcommit&apos;</span><br><span class="line">alias gsi=&apos;git submodule init&apos;</span><br><span class="line">alias gsps=&apos;git show --pretty=short --show-signature&apos;</span><br><span class="line">alias gsr=&apos;git svn rebase&apos;</span><br><span class="line">alias gss=&apos;git status -s&apos;</span><br><span class="line">alias gst=&apos;git status&apos;</span><br><span class="line">alias gsta=&apos;git stash save&apos;</span><br><span class="line">alias gstaa=&apos;git stash apply&apos;</span><br><span class="line">alias gstc=&apos;git stash clear&apos;</span><br><span class="line">alias gstd=&apos;git stash drop&apos;</span><br><span class="line">alias gstl=&apos;git stash list&apos;</span><br><span class="line">alias gstp=&apos;git stash pop&apos;</span><br><span class="line">alias gsts=&apos;git stash show --text&apos;</span><br><span class="line">alias gsu=&apos;git submodule update&apos;</span><br><span class="line"></span><br><span class="line">alias gts=&apos;git tag -s&apos;</span><br><span class="line">alias gtv=&apos;git tag | sort -V&apos;</span><br><span class="line"></span><br><span class="line">alias gunignore=&apos;git update-index --no-assume-unchanged&apos;</span><br><span class="line">alias gunwip=&apos;git log -n 1 | grep -q -c &quot;\-\-wip\-\-&quot; &amp;&amp; git reset HEAD~1&apos;</span><br><span class="line">alias gup=&apos;git pull --rebase&apos;</span><br><span class="line">alias gupv=&apos;git pull --rebase -v&apos;</span><br><span class="line">alias glum=&apos;git pull upstream master&apos;</span><br><span class="line"></span><br><span class="line">alias gwch=&apos;git whatchanged -p --abbrev-commit --pretty=medium&apos;</span><br><span class="line">alias gwip=&apos;git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit --no-verify -m &quot;--wip-- [skip ci]&quot;&apos;</span><br></pre></td></tr></table></figure><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十渡-团建</title>
      <link href="/2019/09/01/20190901001.html"/>
      <url>/2019/09/01/20190901001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2019年9月1日<br>地点：十渡</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/001.jpg" alt></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/002.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/003.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/004.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/005.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/006.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/007.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2019/09/01/008.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac OS 设置Git补全</title>
      <link href="/2018/10/31/20181031001.html"/>
      <url>/2018/10/31/20181031001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>最近遇到一个操作不是很爽的事情，在Mac OS上，使用Git竟然没有补全，对于我这记性不好的人来说，简直就是噩梦。所以下面介绍如何在Mac上让在使用Git的时候，按tab有补全。</p></blockquote><h1 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h1><ol><li>brew，不要问我brew是啥，这玩意儿类似于CentOS上的yum，到<span class="exturl" data-url="aHR0cHM6Ly9icmV3LnNoLw==" title="https://brew.sh/">brew官网<i class="fa fa-external-link"></i></span>进行下载安装，官网有多种语言，包括中文，不要告诉我你看不懂中文。</li><li>Git，这里说的Git是客户端，到<span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS8=" title="https://git-scm.com/">Git客户端<i class="fa fa-external-link"></i></span>进行下载。<a id="more"></a></li></ol><h1 id="正式开始"><a href="#正式开始" class="headerlink" title="正式开始"></a>正式开始</h1><h2 id="安装bash-completion"><a href="#安装bash-completion" class="headerlink" title="安装bash-completion"></a>安装<code>bash-completion</code></h2><ol><li>查看自己是否安装过<code>bash-completion</code> 在终端输入<code>$ brew list</code>如果列出的有<code>bash-completion</code>就不需要进行安装了,如果没有，就老老实实继续安装。</li><li><code>$ brew install bash-completion</code>进行安装，过程可能会比较慢，耐心等待。</li><li>安装完成之后查看<code>$ find ~/.bash_profiled</code>，如果有，就OK，如果没有就创建一个<code>$ mkfile -n 0 ~/.bash_profiled</code>。</li><li><code>bash-completion</code>的事情现在告一段落。</li></ol><h2 id="配置Git"><a href="#配置Git" class="headerlink" title="配置Git"></a>配置Git</h2><ol><li>操作下面步骤前，请先确保自己的Git可用，如果不可用，直接进行<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpdC9naXQuZ2l0" title="https://github.com/git/git.git">下载<i class="fa fa-external-link"></i></span>，如果有，就<code>$ git clone https://github.com/git/git.git</code>。</li><li>等代码下载或Clone好之后，进入下载的文件目录<code>contrib/completion</code> 或 <code>$ cd ./git/contrib/completion</code>。</li><li>进入目录后将<code>git-completion.bash</code>拷贝到你的账号Home目录下，然后将文件重命名为<code>.git-completion.bash</code>或者输入命令进行拷贝并重命名<code>$ cp git-completion.bash ~/.git-completion.bash</code>。</li><li>查看是否在Home目录下是否有<code>.bashrc</code>文件，或者执行命令<code>$ find ~/.bashrc</code>进行查找，如果没有创建<code>$ mkfile -n 0 ~/.bashrc</code>。</li><li>在<code>.bashrc</code>文件中，添加内容<code>source ~/.git-completion.bash</code>，保存。</li><li>终端执行<code>$ source ~/.git-completion.bash</code>，必须执行，否则不会起作用</li><li>在<code>.bash_profile</code>文件中，添加内容</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ -f ~/.git-completion.bash ]; then</span><br><span class="line">   . ~/.git-completion.bash</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h1 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h1><p>关闭所有终端，再打开，试试看是不是有Git的补全了。</p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决Kanboard修改富文本编辑器遗留问题</title>
      <link href="/2018/09/03/20180903001.html"/>
      <url>/2018/09/03/20180903001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>之前一篇文章介绍了对Kanboard系统的添加任务时的文本编辑器进行改进。前面留下了一个问题，那就是由于使用Base64对图片进行直接存储，这就导致数据库字段需要一个很大的空间进行存储，最关键的是，对数据库会造成不必要的压力。点击这个，到<a href="https://www.meaoo.cn/2018/08/17/20180817001.html">Kanboard修改富文本编辑器</a>文章</p></blockquote><h1 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h1><p>  其实问题解决办法很简单，就是直接将富文本编辑器的图片上传到七牛即可。</p><h2 id="富文本编辑器的配置"><a href="#富文本编辑器的配置" class="headerlink" title="富文本编辑器的配置"></a>富文本编辑器的配置</h2><p>  前文中介绍到，我使用的是<span class="exturl" data-url="aHR0cDovL3d3dy53YW5nZWRpdG9yLmNvbS8=" title="http://www.wangeditor.com/">wangEditor<i class="fa fa-external-link"></i></span>,所以我们来研究一下<span class="exturl" data-url="aHR0cHM6Ly93d3cua2FuY2xvdWQuY24vd2FuZ2Z1cGVuZy93YW5nZWRpdG9yMy8zMzI1OTk=" title="https://www.kancloud.cn/wangfupeng/wangeditor3/332599">WangEditor的官方文档<i class="fa fa-external-link"></i></span>，这个官方文档介绍的还是比较详细的，仔细看看基本没有问题，下面我们看一下<span class="exturl" data-url="aHR0cHM6Ly93d3cua2FuY2xvdWQuY24vd2FuZ2Z1cGVuZy93YW5nZWRpdG9yMy8zMzU3ODI=" title="https://www.kancloud.cn/wangfupeng/wangeditor3/335782">图片上传<i class="fa fa-external-link"></i></span>的文档,我使用的是上传图片到服务器，不要问我为什么，因为我懒，我怕了在Kanboard中修改js，当然WangEditor官方也提供了直接上传七牛的方法，因为我懒的原因，我选择将图片上传到服务器再进行处理。</p><h3 id="富文本编辑器的配置文件"><a href="#富文本编辑器的配置文件" class="headerlink" title="富文本编辑器的配置文件"></a>富文本编辑器的配置文件</h3>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">KB.component(<span class="string">'wang-edit'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">     <span class="keyword">this</span>.render = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> E = <span class="built_in">window</span>.wangEditor</span><br><span class="line">         <span class="keyword">var</span> editor = <span class="keyword">new</span> E(<span class="string">'#wang-editor'</span>);</span><br><span class="line"> </span><br><span class="line">         editor.customConfig.menus = [</span><br><span class="line">             <span class="string">'head'</span>,  <span class="comment">// 标题</span></span><br><span class="line">             <span class="string">'bold'</span>,  <span class="comment">// 粗体</span></span><br><span class="line">             <span class="string">'fontSize'</span>,  <span class="comment">// 字号</span></span><br><span class="line">             <span class="string">'fontName'</span>,  <span class="comment">// 字体</span></span><br><span class="line">             <span class="string">'italic'</span>,  <span class="comment">// 斜体</span></span><br><span class="line">             <span class="string">'underline'</span>,  <span class="comment">// 下划线</span></span><br><span class="line">             <span class="string">'strikeThrough'</span>,  <span class="comment">// 删除线</span></span><br><span class="line">             <span class="string">'foreColor'</span>,  <span class="comment">// 文字颜色</span></span><br><span class="line">             <span class="string">'link'</span>,  <span class="comment">// 插入链接</span></span><br><span class="line">             <span class="string">'list'</span>,  <span class="comment">// 列表</span></span><br><span class="line">             <span class="string">'justify'</span>,  <span class="comment">// 对齐方式</span></span><br><span class="line">             <span class="string">'quote'</span>,  <span class="comment">// 引用</span></span><br><span class="line">             <span class="string">'image'</span>,  <span class="comment">// 插入图片</span></span><br><span class="line">             <span class="string">'table'</span>  <span class="comment">// 表格</span></span><br><span class="line">         ]</span><br><span class="line">         <span class="comment">// editor.customConfig.uploadImgShowBase64 = true</span></span><br><span class="line">         <span class="comment">// editor.customConfig.debug = true</span></span><br><span class="line">         </span><br><span class="line">         <span class="comment">//图片上传路由，这里我使用的是TaskCreationController进行的修改，路径这样写就可以了，</span></span><br><span class="line">         <span class="comment">//当然你也可以自行创建一个Controller，这都没问题</span></span><br><span class="line">         editor.customConfig.uploadImgServer = <span class="string">'?controller=TaskCreationController&amp;action=upload'</span></span><br><span class="line">         <span class="comment">//自定义fileName，也就是你php接收上传文件的名字</span></span><br><span class="line">         editor.customConfig.uploadFileName = <span class="string">'file'</span></span><br><span class="line">         <span class="comment">//超时设置，之前使用了默认的10秒，但是貌似总是会出现上传超时问题，这里设置成了60秒</span></span><br><span class="line">         editor.customConfig.uploadImgTimeout = <span class="number">60000</span></span><br><span class="line">         editor.customConfig.onchange = <span class="function"><span class="keyword">function</span> (<span class="params">html</span>) </span>&#123;</span><br><span class="line">             <span class="comment">// html 即变化之后的内容</span></span><br><span class="line">            $(<span class="string">"#description"</span>).val(html);</span><br><span class="line">         &#125;</span><br><span class="line"> </span><br><span class="line">         <span class="comment">//这个参数设置的是选择本地文件上传的时候，上传的数量，我试了几次，选择多个，我后台只拿到了随机的一个，所以我这里目前设置为1，后续有时间进行改进</span></span><br><span class="line">         editor.customConfig.uploadImgMaxLength = <span class="number">1</span></span><br><span class="line">         <span class="comment">//上传完成的图片插入到富文本编辑器中</span></span><br><span class="line">         editor.customConfig.uploadImgHooks = &#123;</span><br><span class="line">             customInsert: <span class="function"><span class="keyword">function</span> (<span class="params">insertImg, result, editor</span>) </span>&#123;</span><br><span class="line">                 <span class="keyword">var</span> url = result.url</span><br><span class="line">                 insertImg(url)</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line"> </span><br><span class="line">         editor.create();</span><br><span class="line">     &#125;;</span><br><span class="line"> &#125;);</span><br><span class="line"> </span><br><span class="line"> KB.on(<span class="string">'dom.ready'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>  <a id="more"></a><p>  将之前我们设置的<code>editor.customConfig.uploadImgShowBase64 = true</code>进行注释，我们不再用Base64进行图片保存了。因为之前那个版本着急上线，使用了这个不好的解决办法。<br>  这里的上传方法，我直接写到了<code>TaskCreationController</code>里面，当然你也可以自行创建一个Controller，这都没问题</p><h3 id="TaskCreationController的Upload上传方法修改"><a href="#TaskCreationController的Upload上传方法修改" class="headerlink" title="TaskCreationController的Upload上传方法修改"></a>TaskCreationController的Upload上传方法修改</h3>  <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 添加任务富文本编辑器中上传图片到七牛</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">upload</span><span class="params">()</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//图片上传到临时目录中，由于在服务器上data目录已经有了读写权限，就继续使用data目录即可</span></span><br><span class="line">    <span class="keyword">if</span>(!is_dir(<span class="string">"data/files/upload"</span>))&#123;</span><br><span class="line">        mkdir(<span class="string">"data/files/upload"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> ($_FILES[<span class="string">"file"</span>][<span class="string">"error"</span>] &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"Error: "</span> . $_FILES[<span class="string">"file"</span>][<span class="string">"error"</span>] . <span class="string">"&lt;br /&gt;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//获取文件类型</span></span><br><span class="line">        $fileType = pathinfo($_FILES[<span class="string">"file"</span>][<span class="string">"name"</span>])[<span class="string">'extension'</span>];</span><br><span class="line">        <span class="comment">//拼接文件名</span></span><br><span class="line">        $fileName = time().mt_rand(<span class="number">1000</span>,<span class="number">9999</span>).mt_rand(<span class="number">100</span>,<span class="number">999</span>).<span class="string">"."</span>.$fileType;</span><br><span class="line"> </span><br><span class="line">        <span class="comment">//移动缓存目录中的文件到data目录中，</span></span><br><span class="line">        move_uploaded_file($_FILES[<span class="string">"file"</span>][<span class="string">"tmp_name"</span>], <span class="string">"data/files/upload/"</span> . $fileName);</span><br><span class="line">        $filePath = <span class="string">"upload/"</span> . $fileName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//uploadFileToQiNiu我自己又写了个小方法，方便使用</span></span><br><span class="line">    $uploadStatus = <span class="keyword">$this</span>-&gt;taskFileModel-&gt;uploadFileToQiNiu($filePath);</span><br><span class="line"> </span><br><span class="line">     <span class="comment">//配置路径，方便前台直接调用</span></span><br><span class="line">    $urlPath = QINIU_URL.$filePath;</span><br><span class="line"> </span><br><span class="line">     <span class="comment">//由于WangEditor的回传格式要求，只能这样写了。</span></span><br><span class="line">    <span class="keyword">if</span>($uploadStatus)&#123;</span><br><span class="line">        $arr[<span class="string">'errno'</span>] = <span class="number">0</span>;</span><br><span class="line">        $arr[<span class="string">'url'</span>]= $urlPath;</span><br><span class="line">        print_r(json_encode($arr));</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        $arr[<span class="string">'errno'</span>] = <span class="number">1</span>;</span><br><span class="line">        print_r(json_encode($arr));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="uploadFileToQiNiu方法"><a href="#uploadFileToQiNiu方法" class="headerlink" title="uploadFileToQiNiu方法"></a>uploadFileToQiNiu方法</h3><p>  方法中的<code>QINIU_ACCESS</code>和<code>QINIU_SECRTE</code>都是在Kanboard配置文件中配置好的</p>  <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 上传图片到七牛</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $filePath</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> \Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">uploadFileToQiNiu</span><span class="params">($filePath)</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">    $auth = <span class="keyword">new</span> Auth(QINIU_ACCESS,QINIU_SECRTE);</span><br><span class="line">    $bucket = QINIU_BUCKET;</span><br><span class="line">    $policy = <span class="keyword">null</span>;</span><br><span class="line">    $upToken = $auth-&gt;uploadToken($bucket);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 要上传文件的本地路径</span></span><br><span class="line">    <span class="comment">// 上传到七牛后保存的文件名</span></span><br><span class="line">    $key = $filePath;</span><br><span class="line">    $filePath = <span class="string">"data/files/"</span>.$filePath;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 初始化 UploadManager 对象并进行文件的上传。</span></span><br><span class="line">    $uploadMgr = <span class="keyword">new</span> UploadManager();</span><br><span class="line">    <span class="comment">// 调用 UploadManager 的 putFile 方法进行文件的上传。</span></span><br><span class="line">    <span class="keyword">list</span>($ret, $err) = $uploadMgr-&gt;putFile($upToken,$key,$filePath);</span><br><span class="line">    <span class="keyword">if</span> ($err !== <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//上传完成，删除本地服务器上的文件，不删也可以，看业务需求</span></span><br><span class="line">        unlink($filePath);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="七牛SDK安装"><a href="#七牛SDK安装" class="headerlink" title="七牛SDK安装"></a>七牛SDK安装</h3><p>   七牛SDK安装，官方提供了两种方式进行安装</p><ol><li>到七牛官方GitHub进行安装,<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Fpbml1L3BocC1zZGsvcmVsZWFzZXM=" title="https://github.com/qiniu/php-sdk/releases">点击进入七牛官方GitHub托管SDK（PHP版本）<i class="fa fa-external-link"></i></span></li><li>使用Composer进行安装，<span class="exturl" data-url="aHR0cHM6Ly9wYWNrYWdpc3Qub3JnL3BhY2thZ2VzL3Fpbml1L3BocC1zZGs=" title="https://packagist.org/packages/qiniu/php-sdk">点击进入七牛官方Packagist官方地址<i class="fa fa-external-link"></i></span></li></ol><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>  在使用Composer安装SDK之后，会出现整个站点报错，原因是Composer安装的时候将原有的<code>autoload.php</code>及其他几个文件代码覆盖掉了。这时候需要你的版本控制器来手动修复了</p><h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><p>  到这里，富文本编辑器上传图片问题就解决了。</p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Kanboard </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
            <tag> Kanboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kanboard修改富文本编辑器</title>
      <link href="/2018/08/17/20180817001.html"/>
      <url>/2018/08/17/20180817001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>近期有这样的一个需求，需要把<span class="exturl" data-url="aHR0cHM6Ly9rYW5ib2FyZC5vcmcv" title="https://kanboard.org/">kanboard<i class="fa fa-external-link"></i></span>进行改进，需要在添加任务的时候，可以添加图片。由于<span class="exturl" data-url="aHR0cHM6Ly9rYW5ib2FyZC5vcmcv" title="https://kanboard.org/">kanboard<i class="fa fa-external-link"></i></span>使用的是markddown进行文本编辑，那么问题来了，怎样进行markddown的图片上传呢，解决方案是有的，比如简书，已经实现了markddown图片粘贴上传。但是呢，我是个比较懒的人，那么还有一个解决方案，使用富文本编辑器。下文介绍如何将kanboard中的markddown编辑器修改为富文本编辑器。</p></blockquote><h1 id="选材"><a href="#选材" class="headerlink" title="选材"></a>选材</h1><p>现今富文本编辑器已经有很多了，而且都很完善，那么选择哪个富文本编辑器的问题就来了。需求有两个：</p><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><ol><li>可以直接粘贴图片到富文本编辑器</li><li>改动代码越少越好</li></ol><h2 id="入选"><a href="#入选" class="headerlink" title="入选"></a>入选</h2><p>经过一系列的筛选，现在有两个富文本编辑器入选</p><ol><li><span class="exturl" data-url="aHR0cDovL3VlZGl0b3IuYmFpZHUuY29t" title="http://ueditor.baidu.com">百度的UEditor<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy53YW5nZWRpdG9yLmNvbS8=" title="http://www.wangeditor.com/">wangEditor<i class="fa fa-external-link"></i></span></li></ol><h2 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h2><p>由于百度UEditor已经在2016年的5月就不再维护，并且需要引入资源略多，虽说只有js资源和css资源，但是还是略多。<br>最后选择使用wangEditor富文本编辑器，为啥呢，因为只需要引入js文件即可。</p> <a id="more"></a><h1 id="改版"><a href="#改版" class="headerlink" title="改版"></a>改版</h1><p>选材已经搞完，那么就开始动工了。</p><h2 id="引入JS"><a href="#引入JS" class="headerlink" title="引入JS"></a>引入JS</h2><p>将wangEditor的JS文件，引入kanboard</p><ol><li>将JS粘贴到<code>assets/js</code>目录下</li><li>打开模板的<code>app/Template/layout.php</code>页面，在所有js资源加载的最后，引入wangEditor的js，如下图：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/2.png" alt="页面引入JS"></li></ol><h2 id="错误解决"><a href="#错误解决" class="headerlink" title="错误解决"></a>错误解决</h2><p>之前引入JS之后，刷新一下页面试试，应该会报下面的错误，如下图：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/1.png" alt="报错"><br>该错误是由于kanboard的<code>CSP</code>机制导致的，什么是CSP？<span class="exturl" data-url="aHR0cHM6Ly9yZXNlYXJjaC5nb29nbGUuY29tL3B1YnMvcHViNDU1NDIuaHRtbD9zcG09YTJjNGUuMTExNTM5NDAuYmxvZ2NvbnQ2MTE0NC45LjUwOTI3ZDc2aExTYmVEJmZyb209dGltZWxpbmUmaXNhcHBpbnN0YWxsZWQ9MA==" title="https://research.google.com/pubs/pub45542.html?spm=a2c4e.11153940.blogcont61144.9.50927d76hLSbeD&from=timeline&isappinstalled=0">点击查看什么是CSP<i class="fa fa-external-link"></i></span>。当然解决办法也很简单。</p><ol><li>找到kanboard中csp的配置，位置在<code>app/ServiceProvider/ClassProvider.php</code>中，找到最下面的<code>register</code>方法，将<code>cspRules</code>数组中的设置，改为下面的代码</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'default-src'</span> =&gt; <span class="string">"'self' 'unsafe-inline' 'unsafe-eval'"</span>,</span><br><span class="line"><span class="string">'style-src'</span> =&gt; <span class="string">"'self' 'unsafe-inline'"</span>,</span><br><span class="line"><span class="string">'script-src'</span> =&gt; <span class="string">"'self' 'unsafe-inline' 'unsafe-eval'"</span>,</span><br><span class="line"><span class="string">'font-src'</span> =&gt; <span class="string">'* data:'</span>,</span><br><span class="line"><span class="string">'img-src'</span> =&gt; <span class="string">'* data:'</span>,</span><br></pre></td></tr></table></figure><p>再次刷新，报错没有了。继续解决下面的问题。</p><h1 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h1><p>有人会问了，显示还不简单，直接复制进去就完事儿了。<br>其实吧，显示这个事情真的还是比较费劲的。请继续往下看。</p><h2 id="尝试"><a href="#尝试" class="headerlink" title="尝试"></a>尝试</h2><p>由于富文本编辑器需要使用JS进行渲染，那么首先要解决的就是，在添加任务的面板上，让kanboard执行js。是的，让面板执行js，因为kanboard不执行页面的js</p><ol><li>首先找到添加任务的面板位置，<code>app/Template/task_creation/show.php</code>文件。找到class为<code>task-form-main-column</code>的div，然后在里面随便添加点什么，看看是不是该面板。代码如下：</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"task-form-main-column"</span>&gt;</span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTitleField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionTemplateDropdown($project[<span class="string">'id'</span>]) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTagField($project) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span>&gt;</span>测试<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;hook-&gt;render(<span class="string">'template:task:form:first-column'</span>, <span class="keyword">array</span>(<span class="string">'values'</span> =&gt; $values, <span class="string">'errors'</span> =&gt; $errors)) <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中，<code>&lt;span&gt;测试&lt;/span&gt;</code>是我自己添加的，显示效果如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/3.png" alt="显示测试"></p><ol start="2"><li>下面添加js执行，看看是否执行了。添加代码如下</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"task-form-main-column"</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTitleField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionTemplateDropdown($project[<span class="string">'id'</span>]) <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTagField($project) <span class="meta">?&gt;</span></span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"application/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">     <span class="built_in">console</span>.log(<span class="string">'这是测试的输出'</span>);</span></span><br><span class="line"><span class="actionscript">     alert(<span class="string">'测试一个'</span>);</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;hook-&gt;render(<span class="string">'template:task:form:first-column'</span>, <span class="keyword">array</span>(<span class="string">'values'</span> =&gt; $values, <span class="string">'errors'</span> =&gt; $errors)) <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>那么这样的执行结果如何？请看下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/4.png" alt="控制台"><br>空空如也的控制台输出，这说明了什么？kanboard压根就没有执行这段代码。是因为kanboard不执行吗？不是的，因为这是添加任务的面板是ajax调用出来的。证明是什么呢？如下代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"application/javascript"</span>&gt;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">'这是测试的输出'</span>);</span><br><span class="line">     alert(<span class="string">'测试一个'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>将这段代码复制到<code>app/Template/layout.php</code>中，也就是咱们前面添加wangEditor的下面，看看是否执行，如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/5.png" alt="正常运行"></p><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>根据上面的运行结果，得出结论，常规的JS加载是不可用的，那么我们能不能学学插件里的JS是怎么写的，插件的JS是如何加载的。如下图，日历组件的js加载<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/6.png" alt="日历组件加载"><br>可以看到，组件是通过<code>KB.component</code>进行的注册，然后再方法内的<code>this.render</code>中进行的方法调用。<br>根据上面的做法，我们需要自己写一个加载富文本编辑器的JS，并且我们需要直接粘贴图片，我现在又不希望再做一个图片上传的方法，那么，我们就可以将富文本编辑器的图片直接转成base64进行存储及显示，代码如下</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">KB.component(<span class="string">'wang-edit'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    this.render = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> E = window.wangEditor</span><br><span class="line">        <span class="keyword">var</span> editor = <span class="keyword">new</span> E(<span class="string">'#wang-editor'</span>);</span><br><span class="line"></span><br><span class="line">        editor.customConfig.menus = [</span><br><span class="line">            <span class="string">'head'</span>,  <span class="comment">// 标题</span></span><br><span class="line">            <span class="string">'bold'</span>,  <span class="comment">// 粗体</span></span><br><span class="line">            <span class="string">'fontSize'</span>,  <span class="comment">// 字号</span></span><br><span class="line">            <span class="string">'fontName'</span>,  <span class="comment">// 字体</span></span><br><span class="line">            <span class="string">'italic'</span>,  <span class="comment">// 斜体</span></span><br><span class="line">            <span class="string">'underline'</span>,  <span class="comment">// 下划线</span></span><br><span class="line">            <span class="string">'strikeThrough'</span>,  <span class="comment">// 删除线</span></span><br><span class="line">            <span class="string">'foreColor'</span>,  <span class="comment">// 文字颜色</span></span><br><span class="line">            <span class="string">'link'</span>,  <span class="comment">// 插入链接</span></span><br><span class="line">            <span class="string">'list'</span>,  <span class="comment">// 列表</span></span><br><span class="line">            <span class="string">'justify'</span>,  <span class="comment">// 对齐方式</span></span><br><span class="line">            <span class="string">'quote'</span>,  <span class="comment">// 引用</span></span><br><span class="line">            <span class="string">'image'</span>,  <span class="comment">// 插入图片</span></span><br><span class="line">            <span class="string">'table'</span>  <span class="comment">// 表格</span></span><br><span class="line">        ]</span><br><span class="line">        editor.customConfig.uploadImgShowBase64 = <span class="keyword">true</span></span><br><span class="line">        editor.create();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>注意，记住咱们的js注册名，<code>wang-edit</code>然后将这个JS引入，位置放到之前引入富文本编辑器下面。</p><h1 id="富文本编辑器显示"><a href="#富文本编辑器显示" class="headerlink" title="富文本编辑器显示"></a>富文本编辑器显示</h1><h2 id="富文本编辑器加载"><a href="#富文本编辑器加载" class="headerlink" title="富文本编辑器加载"></a>富文本编辑器加载</h2><p>文本编辑器加载，位置在<code>app/Template/task_creation/show.php</code>文件。找到class为<code>task-form-main-column</code>的div，代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"task-form-main-column"</span>&gt;</span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTitleField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionField($values, $errors) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderDescriptionTemplateDropdown($project[<span class="string">'id'</span>]) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;task-&gt;renderTagField($project) <span class="meta">?&gt;</span></span></span><br><span class="line"> <span class="php"><span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;hook-&gt;render(<span class="string">'template:task:form:first-column'</span>, <span class="keyword">array</span>(<span class="string">'values'</span> =&gt; $values, <span class="string">'errors'</span> =&gt; $errors)) <span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其中的<code>&lt;?= $this-&gt;task-&gt;renderDescriptionField($values, $errors) ?&gt;</code>是文本编辑器加载的地方.</p><ol><li>我们根据这个加载的方法，找到php中加载的地方。位置是<code>app/Helper/TaskHelper.php</code>，再搜索<code>renderDescriptionField</code>方法，即可找到，会发现，该方法中是直接返回的另外一个方法发加载，代码为<code>return $this-&gt;helper-&gt;form-&gt;textEditor(&#39;description&#39;, $values, $errors, array(&#39;tabindex&#39; =&gt; 2));</code></li><li>那么我们继续找，方法为<code>textEditor</code>的，位置为<code>app/Helper/FormHelper.php</code>,然后找到<code>textEditorEE</code>方法，代码如下</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">textEditor</span><span class="params">($name, $values = array<span class="params">()</span>, array $errors = array<span class="params">()</span>, array $attributes = array<span class="params">()</span>)</span></span>&#123;</span><br><span class="line">  $params = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'name'</span> =&gt; $name,</span><br><span class="line">    <span class="string">'text'</span> =&gt; <span class="keyword">isset</span>($values[$name]) ? $values[$name] : <span class="string">''</span>,</span><br><span class="line">    <span class="string">'css'</span> =&gt; <span class="keyword">$this</span>-&gt;errorClass($errors, $name),</span><br><span class="line">    <span class="string">'required'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'required'</span>]) &amp;&amp; $attributes[<span class="string">'required'</span>],</span><br><span class="line">    <span class="string">'tabindex'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'tabindex'</span>]) ? $attributes[<span class="string">'tabindex'</span>] : <span class="string">'-1'</span>,</span><br><span class="line">    <span class="string">'labelPreview'</span> =&gt; t(<span class="string">'Preview'</span>),</span><br><span class="line">    <span class="string">'labelWrite'</span> =&gt; t(<span class="string">'Write'</span>),</span><br><span class="line">    <span class="string">'placeholder'</span> =&gt; t(<span class="string">'Write your text in Markdown'</span>),</span><br><span class="line">    <span class="string">'autofocus'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'autofocus'</span>]) &amp;&amp; $attributes[<span class="string">'autofocus'</span>],</span><br><span class="line">    <span class="string">'suggestOptions'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">      <span class="string">'triggers'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'#'</span> =&gt; <span class="keyword">$this</span>-&gt;helper-&gt;url-&gt;to(<span class="string">'TaskAjaxController'</span>, <span class="string">'suggest'</span>, <span class="keyword">array</span>(<span class="string">'search'</span> =&gt; <span class="string">'SEARCH_TERM'</span>)),</span><br><span class="line">       )</span><br><span class="line">      ),</span><br><span class="line">   );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">isset</span>($values[<span class="string">'project_id'</span>])) &#123;</span><br><span class="line">   $params[<span class="string">'suggestOptions'</span>][<span class="string">'triggers'</span>][<span class="string">'@'</span>] = <span class="keyword">$this</span>-&gt;helper-&gt;url-&gt;to(<span class="string">'UserAjaxController'</span>, <span class="string">'mention'</span>, <span class="keyword">array</span>(<span class="string">'project_id'</span> =&gt; $values[<span class="string">'project_id'</span>], <span class="string">'search'</span> =&gt; <span class="string">'SEARCH_TERM'</span>));</span><br><span class="line">   &#125;</span><br><span class="line">   $html = <span class="string">'&lt;div class="js-text-editor" data-params=\''</span>.json_encode($params, JSON_HEX_APOS).<span class="string">'\'&gt;&lt;/div&gt;'</span>;</span><br><span class="line">   $html .= <span class="keyword">$this</span>-&gt;errorList($errors, $name);</span><br><span class="line">   <span class="keyword">return</span> $html;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>我们需要做的是，只需要改一行代码，<br>将</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$html = &apos;&lt;div class=&quot;js-text-editor&quot; data-params=\&apos;&apos;.json_encode($params, JSON_HEX_APOS).&apos;\&apos;&gt;&lt;/div&gt;&apos;;</span><br></pre></td></tr></table></figure><p>改为富文本编辑器加载的div，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$html = &apos;&lt;div class=&quot;js-wang-edit&quot; id=&quot;wang-editor&quot; style=&quot;width: 100%&quot;&gt;&lt;/div&gt;&apos;;</span><br></pre></td></tr></table></figure><p>这样就可以了，我们再运行页面看看。注意，class为<code>js-wang-edit</code>因为咱们之前的js注册名为<code>wang-edit</code><br>这里class引入的时候，在前面加上<code>js-</code>后面写上js的注册名，这些配置好之后，运行图如下：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/7.png" alt="运行图"></p><h2 id="关键任务测试"><a href="#关键任务测试" class="headerlink" title="关键任务测试"></a>关键任务测试</h2><p>富文本编辑器加载成，那么试试这次的关键任务，截图直接粘贴到富文本编辑器，效果如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/8.png" alt="效果图"></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>然后点击保存按钮，你会发现，之前的功夫都白费了。因为内容根本就没有添加到数据库。</p><h2 id="解决-1"><a href="#解决-1" class="headerlink" title="解决"></a>解决</h2><p>这个问题是肯定会出现的，如果你仔细的话，会发现，提交的数据中，<code>description</code>字段为空，然后再看之前的编辑器，内容其实是一个<code>textarea</code>容器，那么解决办法来了</p><ol><li>在渲染富文本编辑器的下面添加上一个隐藏的<code>textarea</code>，id为<code>description</code>,name为<code>description</code>，另外将<code>$params[&#39;text&#39;]</code>加载进去，这个参数取到的是之前的内容，代码如下</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">textEditor</span><span class="params">($name, $values = array<span class="params">()</span>, array $errors = array<span class="params">()</span>, array $attributes = array<span class="params">()</span>)</span></span>&#123;</span><br><span class="line">  $params = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">'name'</span> =&gt; $name,</span><br><span class="line">    <span class="string">'text'</span> =&gt; <span class="keyword">isset</span>($values[$name]) ? $values[$name] : <span class="string">''</span>,</span><br><span class="line">    <span class="string">'css'</span> =&gt; <span class="keyword">$this</span>-&gt;errorClass($errors, $name),</span><br><span class="line">    <span class="string">'required'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'required'</span>]) &amp;&amp; $attributes[<span class="string">'required'</span>],</span><br><span class="line">    <span class="string">'tabindex'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'tabindex'</span>]) ? $attributes[<span class="string">'tabindex'</span>] : <span class="string">'-1'</span>,</span><br><span class="line">    <span class="string">'labelPreview'</span> =&gt; t(<span class="string">'Preview'</span>),</span><br><span class="line">    <span class="string">'labelWrite'</span> =&gt; t(<span class="string">'Write'</span>),</span><br><span class="line">    <span class="string">'placeholder'</span> =&gt; t(<span class="string">'Write your text in Markdown'</span>),</span><br><span class="line">    <span class="string">'autofocus'</span> =&gt; <span class="keyword">isset</span>($attributes[<span class="string">'autofocus'</span>]) &amp;&amp; $attributes[<span class="string">'autofocus'</span>],</span><br><span class="line">    <span class="string">'suggestOptions'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">      <span class="string">'triggers'</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">'#'</span> =&gt; <span class="keyword">$this</span>-&gt;helper-&gt;url-&gt;to(<span class="string">'TaskAjaxController'</span>, <span class="string">'suggest'</span>, <span class="keyword">array</span>(<span class="string">'search'</span> =&gt; <span class="string">'SEARCH_TERM'</span>)),</span><br><span class="line">       )</span><br><span class="line">      ),</span><br><span class="line">   );</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">isset</span>($values[<span class="string">'project_id'</span>])) &#123;</span><br><span class="line">   $params[<span class="string">'suggestOptions'</span>][<span class="string">'triggers'</span>][<span class="string">'@'</span>] = <span class="keyword">$this</span>-&gt;helper-&gt;url-&gt;to(<span class="string">'UserAjaxController'</span>, <span class="string">'mention'</span>, <span class="keyword">array</span>(<span class="string">'project_id'</span> =&gt; $values[<span class="string">'project_id'</span>], <span class="string">'search'</span> =&gt; <span class="string">'SEARCH_TERM'</span>));</span><br><span class="line">   &#125;</span><br><span class="line">   $html = <span class="string">'&lt;div class="js-wang-edit" id="wang-editor" style="width: 100%"&gt;&lt;p&gt;'</span>.$params[<span class="string">'text'</span>].<span class="string">'&lt;/p&gt;&lt;/div&gt;'</span>;</span><br><span class="line">   $html .= <span class="string">'&lt;textarea  name="description" id="description" style="display: none"&gt;'</span>.$params[<span class="string">'text'</span>].<span class="string">'&lt;/textarea&gt;'</span>;</span><br><span class="line">   $html .= <span class="keyword">$this</span>-&gt;errorList($errors, $name);</span><br><span class="line">   <span class="keyword">return</span> $html;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="数据库出问题"><a href="#数据库出问题" class="headerlink" title="数据库出问题"></a>数据库出问题</h2><p>这时候我们再试试，没问题，文字可以保存，图片可以保存进去。但是，如果你幸运的话，会看到这么一个错误，<code>Internal Error: SQL error: SQLSTATE[22001]: String data, right truncated: 1046 Data too long for column &#39;description&#39; as row 1</code>，报错很明显，数据库的字段不够长。</p><h2 id="解决数据库问题"><a href="#解决数据库问题" class="headerlink" title="解决数据库问题"></a>解决数据库问题</h2><ol><li>修改tasks表的报错,sql代码如下</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`kanboard`</span>.<span class="string">`tasks`</span> </span><br><span class="line"><span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> <span class="string">`description`</span> longtext <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="literal">NULL</span> <span class="keyword">AFTER</span> <span class="string">`title`</span>;</span><br></pre></td></tr></table></figure><ol start="2"><li>修改user_has_unread_notifications表的报错，sql代码如下</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`kanboard`</span>.<span class="string">`user_has_unread_notifications`</span> </span><br><span class="line"><span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> <span class="string">`event_data`</span> longtext <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">AFTER</span> <span class="string">`event_name`</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>修改project_activities表的报错，sql代码如下</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`kanboard`</span>.<span class="string">`project_activities`</span> </span><br><span class="line"><span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> <span class="string">`data`</span> longtext <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci <span class="literal">NULL</span> <span class="keyword">AFTER</span> <span class="string">`task_id`</span>;</span><br></pre></td></tr></table></figure><p>再次运行，会有一个惊喜的发现，问题解决了。</p><h2 id="邮件内容问题"><a href="#邮件内容问题" class="headerlink" title="邮件内容问题"></a>邮件内容问题</h2><p>邮件提醒的内容可能会让你更惊喜，如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/9.png" alt="邮件提醒"><br>是的，邮件提醒中是这样的，因为html没有解析</p><h2 id="邮件内容解决"><a href="#邮件内容解决" class="headerlink" title="邮件内容解决"></a>邮件内容解决</h2><p>这个解决办法是临时的，也是最暴力的，就是在发送邮件的时候，将内容描述去掉,代码目录在<code>app/Model/UserUnreadNotificationModel.php</code>中的<code>create</code>方法，我们使用<code>unset($event_data[&#39;description&#39;]);</code>将<code>description</code>去掉即可，这个会在下个版本进行改进</p><h2 id="任务展示问题"><a href="#任务展示问题" class="headerlink" title="任务展示问题"></a>任务展示问题</h2><p>当前面这些都解决了，图片也添加进去了，你开开心心的点开任务的时候，会发现如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/17/10.png" alt="展示页面"></p><h2 id="任务展示问题解决"><a href="#任务展示问题解决" class="headerlink" title="任务展示问题解决"></a>任务展示问题解决</h2><ol><li>找到任务展示文件<code>app/Template/task/show.php</code>文件</li><li>找到<code>empty($task[&#39;description&#39;])</code>这个的判断，代码如下</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (!<span class="keyword">empty</span>($task[<span class="string">'description'</span>])): <span class="meta">?&gt;</span></span><br><span class="line"> <span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;hook-&gt;render(<span class="string">'template:task:show:before-description'</span>, <span class="keyword">array</span>(<span class="string">'task'</span> =&gt; $task, <span class="string">'project'</span> =&gt; $project)) <span class="meta">?&gt;</span></span><br><span class="line"> <span class="meta">&lt;?</span>= <span class="keyword">$this</span>-&gt;render(<span class="string">'task/description'</span>, <span class="keyword">array</span>(<span class="string">'task'</span> =&gt; $task)) <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>上面代码是进行的markdown的解析，由于富文本编辑器存入数据库的就是html所以我们就不用解析，直接展示即可，代码如下</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">if</span> (!<span class="keyword">empty</span>($task[<span class="string">'description'</span>])): <span class="meta">?&gt;</span></span><br><span class="line">   <span class="meta">&lt;?</span>= $task[<span class="string">'description'</span>] <span class="meta">?&gt;</span></span><br><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">endif</span> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="全都乱了"><a href="#全都乱了" class="headerlink" title="全都乱了"></a>全都乱了</h2><p>等上面的事情都好了之后，你的心情的美美的，当你打开评论的时候会发现，全乱了，评论的面板也变成了富文本编辑器，所有的编辑地方都变成了富文本编辑器。这个时候我们需要将之前改的<code>textEditor</code>方法进行一个封装，因为<code>renderDescriptionField</code>方法只是任务创建和修改的方法，不会影响其他的，将<code>renderDescriptionField</code>中的方法改成我们自己封装的方法即可。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>上面的解决方法只是临时的，需要改进的地方是，图片上传使用的是base64，会对数据库造成大批量的字节写入，拖垮数据库，需要将图片上传改用cdn存储<br>已经有了解决方法，点击链接跳转<a href="https://www.meaoo.cn/2018/09/03/20180903001.html">解决Kanboard修改富文本编辑器遗留问题</a></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Kanboard </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
            <tag> Kanboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>袁世凯故居</title>
      <link href="/2018/07/27/20180727001.html"/>
      <url>/2018/07/27/20180727001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>设备： iPhone X<br>地点：河南.项城<br>时间：2018年7月27日</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/001.JPG" alt></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/002.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/003.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/004.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/005.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/006.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/007.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/008.JPG" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/27/009.JPG" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows下Jetbrains系列插件安装问题</title>
      <link href="/2018/07/16/20180716001.html"/>
      <url>/2018/07/16/20180716001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Jetbrains Intellij 是本人目前为止，使用过的最好用的IDE，但是也有很多让人郁闷的地方，比如今天咱们要说的，插件下载问题。</p></blockquote><h1 id="插件下载失败"><a href="#插件下载失败" class="headerlink" title="插件下载失败"></a>插件下载失败</h1><p> 当你满怀希望的到IDE的 Plugins 中进行插件下载的是，你会发现，过了半天，会弹出一个请求超时的错误信息。<br> 网上有很多伙伴解释了原因，在2018年之前，Jetbrains使用的请求还是<code>http</code>的请求，但是在2018版本的时候，将<code>http://plugins.jetbrains.com/</code>改为了<code>https://plugins.jetbrains.com/</code>这会带来什么，目前我还不太清楚，<br> 但是，带来的影响是，086区的小伙伴们，无法快乐的进行插件下载了。当然，也包括插件更新。具体的报错如下图：<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/1.png" alt="插件安装请求中"></p><p> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/2.png" alt="插件安装失败"></p> <a id="more"></a><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><h2 id="解决办法一"><a href="#解决办法一" class="headerlink" title="解决办法一"></a>解决办法一</h2><p> 第一个办法比较暴力，比较简单，那就是到<code>http://plugins.jetbrains.com/</code>官方的插件库里进行下载，<br> 需要注意的是，下载的是，注意你的版本与下载的版本，<br> 自己IDE的版本查看方式，如下图：<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/8.png" alt="查看本地IDE版本"><br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/6.png" alt="查看版本"></p><p> 然后到官网，搜索自己想要的插件，下载的时候，也要注意对应的版本，如下图：<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/7.png" alt="官网版本"></p><h2 id="解决办法二"><a href="#解决办法二" class="headerlink" title="解决办法二"></a>解决办法二</h2><p> 虽然这个方法叫解决办法二，但是，一点也不二。解决办法对于可以去001区的小伙伴，非常友好。请带上你以往去001区的装备，进行如下设置。</p><h3 id="设置Proxy"><a href="#设置Proxy" class="headerlink" title="设置Proxy"></a>设置<code>Proxy</code></h3><p> 在<code>Brows Ropositories</code>的左下角，找到<code>HTTP Proxy Setings</code>，一般情况下，端口都是<code>1080</code>，当然如果你修改了端口，请输入自己的端口。具体设置如下图：<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/10.png" alt="Proxy设置"></p><h3 id="开心的下载插件"><a href="#开心的下载插件" class="headerlink" title="开心的下载插件"></a>开心的下载插件</h3><p> 这时候，你就可以开心的下载插件了，如下图：<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/07/16/5.png" alt="下载插件"></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用NRM进行NPM的源管理</title>
      <link href="/2018/06/26/20180626001.html"/>
      <url>/2018/06/26/20180626001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>由于国内使用npm官方源安装包的时候比较慢，基本上在国内开发都会修改npm源地址</p></blockquote><h1 id="查看NPM源地址，在终端输入以下命令"><a href="#查看NPM源地址，在终端输入以下命令" class="headerlink" title="查看NPM源地址，在终端输入以下命令"></a>查看NPM源地址，在终端输入以下命令</h1> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config list</span><br></pre></td></tr></table></figure><p> 会看到官方的npm源<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">metrics-registry = &quot;https://registry.npmjs.org/&quot;</span><br></pre></td></tr></table></figure></p><h1 id="常用源"><a href="#常用源" class="headerlink" title="常用源"></a>常用源</h1><h2 id="源地址"><a href="#源地址" class="headerlink" title="源地址"></a>源地址</h2><p> 国内常用的镜像地址如淘宝</p><p> <code>npm：https://registry.npm.taobao.org/</code></p><h2 id="修改registry"><a href="#修改registry" class="headerlink" title="修改registry"></a>修改registry</h2><p> 修改registry地址很简单，在终端输入</p><p> <code>npm set registry https://registry.npm.taobao.org/</code></p><h2 id="删除源"><a href="#删除源" class="headerlink" title="删除源"></a>删除源</h2><p> 如果某天不想使用，就rm删掉即可</p><p> <code>npm config rm registry</code></p><p> 这样做当然没问题，一点问题都没有。那么问题来了，如果我想在几个源之间随意切换，就要不断的设置，和删除。</p><a id="more"></a><h1 id="NRM来了"><a href="#NRM来了" class="headerlink" title="NRM来了"></a>NRM来了</h1><p> 于是有了nrm</p><blockquote><p>nrm是专门用来管理和快速切换私人配置的registry</p></blockquote><h2 id="安装-建议全局安装"><a href="#安装-建议全局安装" class="headerlink" title="安装 (建议全局安装)"></a>安装 (建议全局安装)</h2><p> <code>npm install nrm -g --save</code></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p> nrm有一些默认配置，用<code>nrm ls</code>命令查看默认配置，带*号即为当前使用的配置<br> <code>nrm ls</code>输出结果如下图</p><p> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626163947.png" alt="TIM截图20180626163947"></p><h3 id="输出当前源"><a href="#输出当前源" class="headerlink" title="输出当前源"></a>输出当前源</h3><p> <code>nrm current</code></p><h3 id="切换源"><a href="#切换源" class="headerlink" title="切换源"></a>切换源</h3><p> 切到源<code>http://r.cnpmjs.org/</code>，命令：<code>nrm use 源的别名</code>，即</p><p> <code>nrm use cnpm</code></p><p> 执行成功提示如下<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626164204.png" alt="TIM截图20180626164204"></p><h3 id="添加自定义源"><a href="#添加自定义源" class="headerlink" title="添加自定义源"></a>添加自定义源</h3><p> <code>nrm add</code></p><p> 如<code>http://registry.npm.meaoo.cn</code>(随便写的)，起个别名叫meaoo</p><p> <code>nrm add meaoo http://registry.npm.meaoo.cn</code></p><p> 添加成功，如下图<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626164421.png" alt="TIM截图20180626164421"></p><p> 接着查看nrm配置，如下图<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626164506.png" alt="TIM截图20180626164506"></p><h3 id="源测试"><a href="#源测试" class="headerlink" title="源测试"></a>源测试</h3><p> 测试一下某个源是速度是否够快，<code>nrm test 源别名</code></p><p> <code>nrm test cnpm</code></p><p> 结果如下图<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626164716.png" alt="TIM截图20180626164716"></p><h3 id="删除源-1"><a href="#删除源-1" class="headerlink" title="删除源"></a>删除源</h3><p> 删除nrm内的某个源，<code>nrl del 源别名</code></p><p> <code>nrm del meaoo</code></p><p> 运行成功，如下图<br> <img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/06/20180626164830.png" alt="TIM截图20180626164830"></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Free Public DNS Server</title>
      <link href="/2018/06/01/20180601001.html"/>
      <url>/2018/06/01/20180601001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>访问网页，会莫名其妙被加入一些广告？那你可能需要更换一下DNS，这里不再讲解如何更换DNS，因为当你搜索到这篇文章的时候，你已经知道了如何更换DNS，即时你不知道如何更换，那就去百度或者Google一下，更换DNS的文章满天飞。这里主要介绍一些，主流的DNS</p></blockquote><h1 id="国外主流DNS服务器IP-Global-Public-DNS-Server"><a href="#国外主流DNS服务器IP-Global-Public-DNS-Server" class="headerlink" title="国外主流DNS服务器IP[Global Public DNS Server]"></a>国外主流DNS服务器IP[Global Public DNS Server]</h1><h2 id="Google-Public-DNS"><a href="#Google-Public-DNS" class="headerlink" title="Google Public DNS"></a><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vc3BlZWQvcHVibGljLWRucy9kb2NzL3VzaW5n" title="https://developers.google.com/speed/public-dns/docs/using">Google Public DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>Google 提供的公共免费 DNS，应该是最流行的 公共 DNS 了</p><p>IPv4</p><p><code>8.8.8.8</code><br><code>8.8.4.4</code></p><p>IPv6</p><p><code>2001:4860:4860::8888</code><br><code>2001:4860:4860::8844</code></p>          </div><h2 id="Cloudflare-DNS"><a href="#Cloudflare-DNS" class="headerlink" title="Cloudflare DNS"></a><span class="exturl" data-url="aHR0cHM6Ly8xLjEuMS4xL3poLUhhbnMv" title="https://1.1.1.1/zh-Hans/">Cloudflare DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>Cloudflare DNS 是 Cloudflare 与 APNIC 联合推出的号称全球最快的 DNS 服务。APNIC 是一个管理亚太与大洋洲地区 IP 地址分配的非盈利性组织，1.1.1.1 归 APNIC 所有，现在交给 Cloudflare 来提供 DNS 服务</p><p>IPv4</p><p><code>1.1.1.1</code><br><code>1.0.0.1</code></p><p>IPv6</p><p><code>2606:4700:4700::1111</code><br><code>2606:4700:4700::1001</code></p>          </div><a id="more"></a><h2 id="IBM-Public-DNS"><a href="#IBM-Public-DNS" class="headerlink" title="IBM Public DNS"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cucXVhZDkubmV0Lw==" title="https://www.quad9.net/">IBM Public DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>IBM 提供的公共免费 DNS</p><p>IPv4</p><p><code>9.9.9.9</code></p><p>IPv6</p><p><code>2620:fe::fe</code><br><code>2620:fe::9</code></p>          </div><h2 id="诺顿-Norton-DNS（诺顿DNS将于2018年11月15日停止服务）"><a href="#诺顿-Norton-DNS（诺顿DNS将于2018年11月15日停止服务）" class="headerlink" title="诺顿 Norton DNS（诺顿DNS将于2018年11月15日停止服务）"></a><span class="exturl" data-url="aHR0cHM6Ly9kbnMubm9ydG9uLmNvbS9jb25maWd1cmVSb3V0ZXIuaHRtbA==" title="https://dns.norton.com/configureRouter.html">诺顿 Norton DNS（诺顿DNS将于2018年11月15日停止服务）<i class="fa fa-external-link"></i></span></h2><h3 id="诺顿DNS将于2018年11月15日停止服务，下图为官网截图"><a href="#诺顿DNS将于2018年11月15日停止服务，下图为官网截图" class="headerlink" title="诺顿DNS将于2018年11月15日停止服务，下图为官网截图"></a>诺顿DNS将于2018年11月15日停止服务，下图为官网截图</h3><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/08/27/1.png" alt="诺顿停止服务"></p><div class="note success">            <p>Norton 是老牌 IT 安全品牌，隶属于 Symantec 公司，Norton 推出的这几个 DNS 可以按照安全级别不同选择使用。<br>诺顿DNS将于2018年11月15日停止服务</p><h3 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h3><p><code>199.85.126.10</code><br><code>199.85.127.10</code></p><h3 id="安全-防成人内容"><a href="#安全-防成人内容" class="headerlink" title="安全+防成人内容"></a>安全+防成人内容</h3><p><code>199.85.126.20</code><br><code>199.85.127.20</code></p><h3 id="安全-防成人内容-其他"><a href="#安全-防成人内容-其他" class="headerlink" title="安全+防成人内容+其他"></a>安全+防成人内容+其他</h3><p><code>199.85.126.30</code><br><code>199.85.127.30</code></p>          </div><h2 id="OpenDNS"><a href="#OpenDNS" class="headerlink" title="OpenDNS"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cub3BlbmRucy5jb20vc2V0dXBndWlkZS8=" title="https://www.opendns.com/setupguide/">OpenDNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>OpenDNS 是由老牌通信设备商 Cisco 提供的公共免费 DNS 服务<br><code>208.67.222.222</code><br><code>208.67.220.220</code></p>          </div><h2 id="Yandex-DNS"><a href="#Yandex-DNS" class="headerlink" title="Yandex DNS"></a><span class="exturl" data-url="aHR0cHM6Ly9kbnMueWFuZGV4LmNvbS8=" title="https://dns.yandex.com/">Yandex DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>Yandex DNS 是俄国最大的搜索引擎</p><h3 id="基础版（快速可靠）"><a href="#基础版（快速可靠）" class="headerlink" title="基础版（快速可靠）"></a>基础版（快速可靠）</h3><p><code>77.88.8.8</code><br><code>77.88.8.1</code></p><h3 id="安全版（病毒和钓鱼防御）"><a href="#安全版（病毒和钓鱼防御）" class="headerlink" title="安全版（病毒和钓鱼防御）"></a>安全版（病毒和钓鱼防御）</h3><p><code>77.88.8.88</code><br><code>77.88.8.2</code></p><h3 id="家庭版（防成人内容）"><a href="#家庭版（防成人内容）" class="headerlink" title="家庭版（防成人内容）"></a>家庭版（防成人内容）</h3><p><code>77.88.8.7</code><br><code>77.88.8.3</code></p>          </div><h2 id="COMODO-SecureDNS"><a href="#COMODO-SecureDNS" class="headerlink" title="COMODO SecureDNS"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuY29tb2RvLmNvbS9zZWN1cmUtZG5zLw==" title="https://www.comodo.com/secure-dns/">COMODO SecureDNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>COMODO 是美国知名的 IT 安全服务商<br><code>8.26.56.26</code><br><code>8.20.247.20</code></p>          </div><h2 id="Freenom"><a href="#Freenom" class="headerlink" title="Freenom"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuZnJlZW5vbS53b3JsZA==" title="https://www.freenom.world">Freenom<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>Freenom 是西班牙免费域名提供商。<br><code>80.80.80.80</code><br><code>80.80.81.81</code></p>          </div><h1 id="国内主流DNS服务器IP-Chinese-Public-DNS-Server"><a href="#国内主流DNS服务器IP-Chinese-Public-DNS-Server" class="headerlink" title="国内主流DNS服务器IP[Chinese Public DNS Server]"></a>国内主流DNS服务器IP[Chinese Public DNS Server]</h1><h2 id="CNNIC-DNS"><a href="#CNNIC-DNS" class="headerlink" title="CNNIC DNS"></a><span class="exturl" data-url="aHR0cDovL3d3dy5zZG5zLmNuLw==" title="http://www.sdns.cn/">CNNIC DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>CNNIC与国内外电信运营商合作采用 BGP Global AnyCast 技术分布式部署的专业公共DNS平台<br><code>1.2.4.8</code><br><code>210.2.4.8</code></p>          </div><h2 id="腾讯-DNS"><a href="#腾讯-DNS" class="headerlink" title="腾讯 DNS"></a><span class="exturl" data-url="aHR0cHM6Ly93d3cuZG5zcG9kLmNuL3Byb2R1Y3RzL3B1YmxpYy5kbnM=" title="https://www.dnspod.cn/products/public.dns">腾讯 DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>由 DNSPod 提供的公共免费 DNS，后来 DNSPod 被腾讯(Tencent)收购，现在属于腾讯公司所有，稳定性和连通性也是不错的，经测试国外也可以使用<br><code>119.29.29.29</code><br><code>119.28.28.28</code></p>          </div><h2 id="阿里-DNS"><a href="#阿里-DNS" class="headerlink" title="阿里 DNS"></a><span class="exturl" data-url="aHR0cDovL3d3dy5hbGlkbnMuY29tLw==" title="http://www.alidns.com/">阿里 DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>这组 DNS 是由阿里巴巴提供的，国内连通性还是不错的，国外部分地区连通性不是特别好，具体可以测试一下<br><code>223.5.5.5</code><br><code>223.6.6.6</code></p>          </div><h2 id="百度-DNS"><a href="#百度-DNS" class="headerlink" title="百度 DNS"></a><span class="exturl" data-url="aHR0cDovL2R1ZG5zLmJhaWR1LmNvbS9pbnRyby9wdWJsaWNkbnMv" title="http://dudns.baidu.com/intro/publicdns/">百度 DNS<i class="fa fa-external-link"></i></span></h2><div class="note success">            <p>中国最大的搜索引擎百度提供的公共 DNS，经测试国外连通性也是不错的</p><p>IPv4</p><p><code>180.76.76.76</code></p><p>IPv6</p><p><code>2400:da00::6666</code></p>          </div><h1 id="DNSPerf查看DNS全球状态"><a href="#DNSPerf查看DNS全球状态" class="headerlink" title="DNSPerf查看DNS全球状态"></a><span class="exturl" data-url="aHR0cDovL3d3dy5kbnNwZXJmLmNvbS8=" title="http://www.dnsperf.com/">DNSPerf<i class="fa fa-external-link"></i></span>查看DNS全球状态</h1><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCart使用SMTP发送邮件配置</title>
      <link href="/2018/05/08/20180508001.html"/>
      <url>/2018/05/08/20180508001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>自从使用OpenCart开始，就遇到一个问题，邮件无法发送。与是就选择了回避，但是，避不可避，就解决吧。</p></blockquote><h1 id="本地调试"><a href="#本地调试" class="headerlink" title="本地调试"></a>本地调试</h1><p><code>Error: EHLO not accepted from server!</code>当使用到发送邮件的时候，会出现这么一个错误。与是根据错误提示路径，找到如下地址<br><code>/opencart/system/library/mail/smtp.php</code><br>,发现是<code>substr</code>的问题导致的。于是，输出<code>$reply</code>参数，发现是空的，竟然是空的。<br>然后找代码</p><ol><li><code>$reply</code>的值是<code>$line</code>拼接出来的</li><li><code>$line</code>是由<code>fgets($handle, 515)</code>拿到的</li><li><code>$handle</code>是<code>fsockopen($hostname, $this-&gt;smtp_port, $errno, $errstr, $this-&gt;smtp_timeout);</code>得到的</li></ol><p>当打印<code>$handle</code>的时候，会发现，是报错的。</p><a id="more"></a><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><ol><li>进入管理平台，进行设置，位置如下<code>系统设置--&gt;网店设置--&gt;选择要设置的网店--&gt;商店--&gt;E-Mail</code>参数，需要与<code>邮件</code>内配置的邮件相同，如下图</li></ol><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/05/08/53816299.jpg" alt="商店设置"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/05/08/40488174.jpg" alt="邮件设置"></p><ol start="2"><li>然后设置<code>邮件标签内容</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">选择邮件引擎：`smtp`</span><br><span class="line"></span><br><span class="line">SMTP主机：`smtp.163.com`（我用的是163邮箱）</span><br><span class="line"></span><br><span class="line">SMTP用户名：`test@163.com`（即你的邮箱）</span><br><span class="line"></span><br><span class="line">SMTP密码：`test`</span><br><span class="line"></span><br><span class="line">SMTP端口：`25`</span><br><span class="line"></span><br><span class="line">SMTP超时：`5`</span><br></pre></td></tr></table></figure><h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>测试结果成功，如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/05/08/74193999.jpg" alt="邮件发送"></p><h1 id="发布线上"><a href="#发布线上" class="headerlink" title="发布线上"></a>发布线上</h1><p>发布线上一定注意，如果你是阿里云之类的，请使用ssl请求地址，也就是发送邮件的端口需要使用465，因为大部分云服务器厂商为了安全，将25端口关闭。但是使用465端口，需要使用ssl请求，所以需要在邮件发送地址前，加上<code>ssl://</code>配置如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">选择邮件引擎：`smtp`</span><br><span class="line"></span><br><span class="line">SMTP主机：`ssl://smtp.163.com`（我用的是163邮箱）</span><br><span class="line"></span><br><span class="line">SMTP用户名：`test@163.com`（即你的邮箱）</span><br><span class="line"></span><br><span class="line">SMTP密码：`test`</span><br><span class="line"></span><br><span class="line">SMTP端口：`465`</span><br><span class="line"></span><br><span class="line">SMTP超时：`5`</span><br></pre></td></tr></table></figure><p>一定要在<code>SMTP主机</code>地址前面，加上<code>ssl:</code>，如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/05/08/30254734.jpg" alt="服务器配置"></p><h2 id="结果-1"><a href="#结果-1" class="headerlink" title="结果"></a>结果</h2><p>结果如下图，邮件发送成功<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/05/08/63986707.jpg" alt="服务器发送成功"></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OpenCart </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> OpenCart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCart 解决部分资源无法访问，导致商品详情打开慢的问题</title>
      <link href="/2018/04/19/20180419001.html"/>
      <url>/2018/04/19/20180419001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>OpenCart由于是国外开发者进行开发。所以部分资源国内无法访问，导致商城性能下降，部分页面打开缓慢。</p></blockquote><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>首页加载速度正常，进入商品详情页面，加载速度过慢。</p><h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>打开调试，会发现，有三个资源是无法访问的</p><ol><li><span class="exturl" data-url="aHR0cDovL3BsYXRmb3JtLnR3aXR0ZXIuY29tL3dpZGdldHMuanM=" title="http://platform.twitter.com/widgets.js">widgets.js<i class="fa fa-external-link"></i></span> 出自 twitter</li><li><span class="exturl" data-url="aHR0cHM6Ly9jb25uZWN0LmZhY2Vib29rLm5ldC96aF9DTi9zZGsuanM=" title="https://connect.facebook.net/zh_CN/sdk.js">sdk.js<i class="fa fa-external-link"></i></span> 出自 facebook</li><li><span class="exturl" data-url="aHR0cHM6Ly9hc3NldHMucGludGVyZXN0LmNvbS9qcy9waW5pdC5qcw==" title="https://assets.pinterest.com/js/pinit.js">pinit.js<i class="fa fa-external-link"></i></span> 出自 pinterest</li></ol><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/19/35752668.jpg" alt="资源报错"></p><a id="more"></a><h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>当你在全文进行这三个资源搜索的时候，你会发现，找不到，如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/19/78422757.jpg" alt="搜索不到"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/19/6522015.jpg" alt="搜索不到"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/19/35041357.jpg" alt="搜索不到"></p><p>不光你找不到，大家都找不到，因为这三个文件是被另外一个js加载的，<span class="exturl" data-url="aHR0cDovL3M3LmFkZHRoaXMuY29tL2pzLzMwMC9hZGR0aGlzX3dpZGdldC5qcyNwdWJpZD1yYS01MTVlZWFmNTQ2OTMxMzBl" title="http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-515eeaf54693130e">addthis_widget.js<i class="fa fa-external-link"></i></span>,当然，这个是可以找到的，位置在<code>catalog--&gt;viwe--&gt;theme--&gt;default--&gt;template--&gt;product--&gt;product.twig</code>然后，找到下面这段代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- AddThis Button BEGIN --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"addthis_toolbox addthis_default_style"</span> <span class="attr">data-url</span>=<span class="string">"&#123;&#123; share &#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"addthis_button_facebook_like"</span> <span class="attr">fb:like:layout</span>=<span class="string">"button_count"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"addthis_button_tweet"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"addthis_button_pinterest_pinit"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"addthis_counter addthis_pill_style"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-515eeaf54693130e"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- AddThis Button END --&gt;</span></span><br></pre></td></tr></table></figure><p>然后，给这段代码进行注释，再刷新一下你的商品详情页面试试。是不是一片清净。</p><h1 id="另外"><a href="#另外" class="headerlink" title="另外"></a>另外</h1><div class="note warning">            <p>不要看到Google的东西就要注释，先试试能不能用 </p>          </div><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpz" title="https://www.google-analytics.com/analytics.js">Google Analytics<i class="fa fa-external-link"></i></span>这是谷歌统计，一般人会认为，谷歌的东西，在国内，肯定不能用。我想问，你试了吗？试完再说这话好吗？点击链接，如果你能打开，就可以用，如果你打不开，就不能用，很简单。<span class="exturl" data-url="aHR0cHM6Ly93d3cuZ29vZ2xlLWFuYWx5dGljcy5jb20vYW5hbHl0aWNzLmpz" title="https://www.google-analytics.com/analytics.js">Google Analytics 链接<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuczo0MDAsNDAwaSwzMDAsNzAw" title="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,300,700">Google Fonts<i class="fa fa-external-link"></i></span>这是谷歌字体，同样，点开链接试试。<span class="exturl" data-url="aHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU9wZW4rU2Fuczo0MDAsNDAwaSwzMDAsNzAw" title="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,300,700">Google Fonts 链接<i class="fa fa-external-link"></i></span></li></ol><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OpenCart </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> Web </tag>
            
            <tag> OpenCart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCart 中文语言包下载，安装及配置</title>
      <link href="/2018/04/18/20180418001.html"/>
      <url>/2018/04/18/20180418001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>最新版本的语言包是在opencart最新英文版的基础上全新翻译而成，许多翻译的词汇与之前版本比有较大改变，目的是为了更为切合opencart的功能而准确予以表达，不当之处，恳请各位不吝赐教。<br>下载后解压压缩包里面有两个文件夹，admin是后台语言包，catalog文件是前台语言包。请把它们上传到你的OpenCart 网站目录根。登录到你的网店后台。<br>注意： 请确保你现在的OpenCart版本与将要安装的语言包版本相符</p></blockquote><blockquote><p> 支持版本  3.0.0.0, 3.0.1.1, 3.0.1.2, 3.0.2.0, 3.0.3.0b</p></blockquote><h1 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h1><p><span class="exturl" data-url="aHR0cHM6Ly9naXRsYWIuY29tL21lYW9vL2Jsb2dTaGFyZS90cmVlL21hc3Rlci9PcGVuQ2FydExhbmd1YWdl" title="https://gitlab.com/meaoo/blogShare/tree/master/OpenCartLanguage">中文语言包下载地址<i class="fa fa-external-link"></i></span></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ol><li>从如下两个网站其一下载本语言包，下载后名称为: <code>oc_3x.ocmod.zip</code>，不要解压！不要解压！不要解压！<a id="more"></a></li><li>登录您的网站后台，打开如下路径：【extensions】-&gt;【installer】，如下界面：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/18/13366996.jpg" alt="上传页面"></li><li>点击上面的upload，选择刚才下载的安装包</li><li>安装成功后如下提示：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/18/27751851.jpg" alt="安装成功页面"></li></ol><h1 id="设置语言"><a href="#设置语言" class="headerlink" title="设置语言"></a>设置语言</h1><ol><li>安装完毕后，访问后续路径【system】-&gt;【localisation】-&gt;[languages]，点击界面右上角的新增按钮，如下图所示：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/18/31375727.jpg" alt="设置语言"></li><li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">新增页面如下图所示填写相关信息：</span><br><span class="line">Language Name: 简体中文</span><br><span class="line">Code: zh-cn</span><br><span class="line">Locale: zh-CN,zh-CN.UTF-8,zh-cn</span><br><span class="line">Status: Enabled</span><br><span class="line">Sort Order: 随意数字</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/18/14125079.jpg" alt="设置参数"></p><h1 id="设置后台默认语言"><a href="#设置后台默认语言" class="headerlink" title="设置后台默认语言"></a>设置后台默认语言</h1><ol><li>设置路径为【system】-&gt;【settings】-&gt;[Edit Store]-&gt;Local Tab Page，如下图所示：<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/18/38494037.jpg" alt="设置后台默认语言"></li><li>保存，安装完毕</li></ol><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OpenCart </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> OpenCart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataGrip 数据导出与导入</title>
      <link href="/2018/04/03/20180403001.html"/>
      <url>/2018/04/03/20180403001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuamV0YnJhaW5zLmNvbS9kYXRhZ3JpcC8=" title="https://www.jetbrains.com/datagrip/">DataGrip<i class="fa fa-external-link"></i></span>是由<span class="exturl" data-url="aHR0cHM6Ly93d3cuamV0YnJhaW5zLmNvbQ==" title="https://www.jetbrains.com">JetBarins<i class="fa fa-external-link"></i></span>出品，当然DataGrip也顺理成章成为了一个精品，这款软件是数据库管理与开发，各种智能提醒，各种数据库连接，让你更快速，更高效的完成任务。好了，不说废话。目前阶段，我也是初学者，对于这款软件的强大，也只是摸索了点皮毛。下面介绍一下，最基本的，数据导出与导入。</p></blockquote><h1 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h1><p>DataGrip有多种数据导出模式，常用的有两种：</p><ol><li><p><code>Dump Data to File</code></p></li><li><p><code>Dump with &#39;mysqldump&#39;</code></p><a id="more"></a></li></ol><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/35024503.jpg" alt="图片"></p><p><code>Dump Data to File</code>模式，该模式是导出各种单个文件，比如，SQL，HTML，TSV，CSV等文件，当然这是我们在对某个表进行操作的时候使用的。</p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/14763241.jpg" alt="图片"></p><p><code>Dump with &#39;mysqldump&#39;</code>模式，该模式是使用MySql的<code>mysqldump</code>组件进行数据导出，该方法导出的SQL文件，可以选择，是否包含数据或者是只导出数据结构。该模式是我们常用的数据库导出。下面对该模式进行说明。</p><ol><li><code>Path to mysqldump</code>选择你的<code>mysqldump</code>在本地磁盘的位置</li><li><code>Statements</code>选择模式</li><li><code>Databases</code>需要导出的数据库(不可选择，默认当前右键选中的)</li><li><code>Tables</code>需要导出的表(不可选择，默认当前右键选中的)</li><li>多选框，根据自己需求进行选择，一般默认即可</li><li><code>Out path</code>导出路径</li></ol><h2 id="导出数据结构及数据"><a href="#导出数据结构及数据" class="headerlink" title="导出数据结构及数据"></a>导出数据结构及数据</h2><blockquote><p>如果第一次导出，应该会出现<code>Can&#39;t create/write to file</code>这个错误，这时候，需要在<code>Out path</code>后面，手动添加上，需要导出的文件，例如下图，<code>test.sql</code>即可</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/4512311.jpg" alt="图片"></p><h2 id="导出结构"><a href="#导出结构" class="headerlink" title="导出结构"></a>导出结构</h2><blockquote><p>导出结构与上面基本一致，只是在下面命令行的表名前面，添加一个<code>-d</code>记住，后面要添加一个空格，如下图</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/94891105.jpg" alt="图片"></p><h1 id="导入数据"><a href="#导入数据" class="headerlink" title="导入数据"></a>导入数据</h1><p>导入数据刚开始，是一直困惑我的问题，因为<code>Import Data from File</code>这个功能貌似不是那么回事，后来发现，一个很神奇的东西。<br>操作步骤如下</p><ol><li>将sql文件，拖拽到DataGrip中</li><li>在需要导入数据的sql的tab上，右键</li><li>点击最下面的<code>Run</code></li><li>选择需要操作的库</li><li>完成</li></ol><h2 id="这些说着很复杂，其实操作起来，很方便。如下图所示"><a href="#这些说着很复杂，其实操作起来，很方便。如下图所示" class="headerlink" title="这些说着很复杂，其实操作起来，很方便。如下图所示"></a>这些说着很复杂，其实操作起来，很方便。如下图所示</h2><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/68499406.jpg" alt></p><h2 id="然后选择需要操作的库"><a href="#然后选择需要操作的库" class="headerlink" title="然后选择需要操作的库"></a>然后选择需要操作的库</h2><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/04/03/86483153.jpg" alt></p><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
            <tag> DataGrip </tag>
            
            <tag> JetBarins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>全国城市地理坐标</title>
      <link href="/2018/03/13/20180313001.html"/>
      <url>/2018/03/13/20180313001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>最近，在开发中遇到了需要全国城市坐标的问题，所以，这里分享一下全国城市坐标。如果有不对的地方，请及时联系我。</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9naXRsYWIuY29tL21lYW9vL2Jsb2dTaGFyZS90cmVlL21hc3Rlci9jaXR5R2VvZ3JhcGhpY2FsQ29vcmRpbmF0ZXM=" title="https://gitlab.com/meaoo/blogShare/tree/master/cityGeographicalCoordinates">GitLab下载地址<i class="fa fa-external-link"></i></span></p> <a id="more"></a><h3 id="新添加部分文件中没有的城市坐标"><a href="#新添加部分文件中没有的城市坐标" class="headerlink" title="新添加部分文件中没有的城市坐标"></a>新添加部分文件中没有的城市坐标</h3> <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">"菏泽市":[115.45,35.25],</span><br><span class="line">"襄阳市":[112.15,32.04],</span><br><span class="line">"毕节市":[105.31,27.30],</span><br><span class="line">"铜仁市":[109.19,27.73],</span><br><span class="line">"黔西南布依族苗族自治州":[105.37,25.33],</span><br><span class="line">"普洱市":[100.97,22.80],</span><br><span class="line">"克孜勒苏柯尔克孜自治州":[76.21,39.81],</span><br><span class="line">"济源市":[112.61,35.07],</span><br><span class="line">"仙桃市":[113.46,30.36],</span><br><span class="line">"潜江市":[112.90,30.42],</span><br><span class="line">"天门市":[113.17,30.65],</span><br><span class="line">"三沙市":[112.34,16.84],</span><br><span class="line">"琼海市":[110.48,19.26],</span><br><span class="line">"昌江黎族自治县":[109.04,19.29]</span><br></pre></td></tr></table></figure><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><p>上面解决办法如果有疑问，请与我联系。我会在第一时间与你去的联系。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kanboard导出CSV文件，中文乱码解决</title>
      <link href="/2018/02/10/20180210001.html"/>
      <url>/2018/02/10/20180210001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>最近在搞Kanboard二次开发，代码结构与WordPress类似，略微复杂一些。这里先介绍一下Kanboard导出CSV文件出现中文乱码问题解决办法。可能外国友人没有考虑到中文乱码问题，或者是就是需要留给本地开发者进行的一个调整。</p></blockquote><h1 id="Kanboard"><a href="#Kanboard" class="headerlink" title="Kanboard"></a>Kanboard</h1><p>Kanboard是目前比较先进的一个看板系统，如果你不知道看板系统是啥，那也不用去百度了。因为你目前可能还用不到。<span class="exturl" data-url="aHR0cHM6Ly9rYW5ib2FyZC5vcmcv" title="https://kanboard.org/">官网<i class="fa fa-external-link"></i></span>感兴趣的可以了解一下。对于工作计划还是比较有帮助的。并且Kanboard是<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2thbmJvYXJkL2thbmJvYXJkL2Jsb2IvbWFzdGVyL0xJQ0VOU0U=" title="https://github.com/kanboard/kanboard/blob/master/LICENSE">MIT<i class="fa fa-external-link"></i></span>开源协议。</p><h1 id="为什么要导出CSV格式，而不是Excel？"><a href="#为什么要导出CSV格式，而不是Excel？" class="headerlink" title="为什么要导出CSV格式，而不是Excel？"></a>为什么要导出CSV格式，而不是Excel？</h1><p>原因很简单，为了兼容数据量过大导致的一些问题。使用PHP导出Excel，数据量大于10万之后，就会出现无法导出的问题。那么为什么CSV可以？因为CSV是纯文本导出，也就是数据格式是下面这样的</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"张三,男,22岁,北京\r\n"</span></span><br><span class="line"><span class="string">"李四,男,12岁,北京\r\n"</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>所以，在大数据量的情况下，也可以很好的输出。但是，这样会出现中文乱码问题，如下图。因为Excel默认使用GBK来进行解析，所以需要我们来指定BOM头，来告诉Excel需要使用utf-8来进行解析。</p><p><img src="http://cdn.meaoo.cn/2018-02-11/72081916.jpg" alt></p><h1 id="怎样写入BOM头"><a href="#怎样写入BOM头" class="headerlink" title="怎样写入BOM头"></a>怎样写入BOM头</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$handle = fopen ( <span class="string">"php://output"</span> , <span class="string">'w'</span> );</span><br><span class="line">fwrite($handle,chr(<span class="number">0xEF</span>).chr(<span class="number">0xBB</span>).chr(<span class="number">0xBF</span>)); <span class="comment">//写入BOM头</span></span><br></pre></td></tr></table></figure><p>写入BOM头之后，输出结果如下图</p><p><img src="http://cdn.meaoo.cn/2018-02-11/62268820.jpg" alt></p><h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ob_end_clean (); <span class="comment">//清空缓冲区并关闭输出缓冲</span></span><br><span class="line"></span><br><span class="line">header(<span class="string">'Content-Disposition: attachment; filename="test.csv"'</span>);  <span class="comment">//下载文件标识字段，文件名，根据实际情况改写</span></span><br><span class="line">header(<span class="string">'Content-Transfer-Encoding: binary'</span>); <span class="comment">//二进制编码进行传输</span></span><br><span class="line">header(<span class="string">'Content-Type: application/octet-stream'</span>); <span class="comment">//二进制流文件定义</span></span><br><span class="line">header(<span class="string">'Content-type: text/csv; charset=utf-8'</span>);<span class="comment">//文件格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//测试数据</span></span><br><span class="line">$userlist = <span class="keyword">array</span> ( </span><br><span class="line">  <span class="keyword">array</span> ( <span class="string">'张三'</span> , <span class="string">'男'</span> , <span class="number">45</span> ) , </span><br><span class="line">  <span class="keyword">array</span> ( <span class="string">'李四'</span> , <span class="string">'男'</span> , <span class="number">35</span> ) , </span><br><span class="line">  <span class="keyword">array</span> ( <span class="string">'韩梅梅'</span> , <span class="string">'女'</span> , <span class="number">25</span> ) , </span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">$handle = fopen ( <span class="string">"php://output"</span> , <span class="string">'w'</span> );</span><br><span class="line"></span><br><span class="line">fwrite($handle,chr(<span class="number">0xEF</span>).chr(<span class="number">0xBB</span>).chr(<span class="number">0xBF</span>)); <span class="comment">//写入BOM头</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//循环写入</span></span><br><span class="line"><span class="keyword">foreach</span> ( $userlist <span class="keyword">as</span> $k =&gt; $row ) &#123;</span><br><span class="line">    fputcsv ( $handle , $row ); <span class="comment">//将数据进行CSV格式化，写入内存</span></span><br><span class="line">&#125;</span><br><span class="line">fclose ( $handle );</span><br><span class="line">$output = ob_get_clean ();</span><br><span class="line"><span class="keyword">echo</span> $output; <span class="comment">//输出  进行下载</span></span><br><span class="line"><span class="keyword">exit</span>();</span><br></pre></td></tr></table></figure><h1 id="在Kanborard中怎么用？"><a href="#在Kanborard中怎么用？" class="headerlink" title="在Kanborard中怎么用？"></a>在Kanborard中怎么用？</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径</span></span><br><span class="line"><span class="comment">// app-&gt;Core-&gt;Csv.php 中的 write方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">write</span> <span class="params">( $filename , array $rows )</span> </span>&#123;</span><br><span class="line">    $fp = fopen ( $filename , <span class="string">'w'</span> );</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//写入BOM头，解决utf8中文字出现乱码问题</span></span><br><span class="line">    fwrite ( $fp , chr ( <span class="number">0xEF</span> ) . chr ( <span class="number">0xBB</span> ) . chr ( <span class="number">0xBF</span> ) ); <span class="comment">//这行是新加的</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> ( is_resource ( $fp ) ) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> ( $rows <span class="keyword">as</span> $row ) &#123;</span><br><span class="line">            fputcsv ( $fp , $row , <span class="keyword">$this</span>-&gt;delimiter , <span class="keyword">$this</span>-&gt;enclosure );</span><br><span class="line">        &#125;</span><br><span class="line">        fclose ( $fp );</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">$this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h1><p>上面解决办法如果有疑问，请与我联系。我会在第一时间与你去的联系。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Kanboard </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
            <tag> Kanboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>北京南站乘火车发现的两件趣事</title>
      <link href="/2017/09/29/20170929001.html"/>
      <url>/2017/09/29/20170929001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>对于北京南站最近实行的按键策略，真是没得说，那叫一个人多。没有20分钟，都无法通过安检。当然这也是对大家出行安全考虑，也就体谅一下工作人员吧。接下来，我发现了一个很有趣的事情，也不知道这件事情该归为<code>人的惰性问题</code>还是<code>右手法则问题</code>，下面让我给你絮叨絮叨。</p></blockquote><h3 id="北京南站，地下一层趣事"><a href="#北京南站，地下一层趣事" class="headerlink" title="北京南站，地下一层趣事"></a>北京南站，地下一层趣事</h3><p>北京南站的地下分布</p><ol><li>地下三层（14号线）</li><li>地下二层（4号线）</li><li>地下一层（地铁出入口，火车到达人员出口，南北进站口通道）</li></ol><p>这里的趣事，就是乘坐地铁，到火车站候车室，这一段的事情。乘坐地铁从地下二三层到地下一层，一共有4个出口。出来之后，很多人都会选择一个距离自己比较近的出口，刷卡，出站。<br>当然，这完全没有问题。问题在于，你的出站口方向是否正确，决定了你进入候车室所需要的时间。这四个地铁出口，分布图如下，如果按照就进出口的话（也就是我画红圈的三个），大部分人会选择前往北口进入候车厅。当然，事实也是如此。</p><a id="more"></a><h5 id="北京南站地下一层，地铁出口示意图"><a href="#北京南站地下一层，地铁出口示意图" class="headerlink" title="北京南站地下一层，地铁出口示意图"></a>北京南站地下一层，地铁出口示意图</h5><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/25518881.jpg" alt></p><p>当人们到达安检口的时候，就会抱怨，人太多，安检慢，之类的。<br>那么，我会跟你说，北口的人肯定多，原因是什么？？为什么北口的安检口那么多，但是还是会有那么人。<br>原因是上面所说的，大部分乘客选择北口，导致人数剧增。<code>但是</code>！！这只是一部分因素，另外一个因素是，北口有一个<code>大公交站</code>！！！<br>对，没错，北广场有一个公交站，一部分人会选择直接过马路，从北口一层进入候车厅，但是，过马路有栏杆啊，要么绕远，要么翻栏杆。<br>然后，人们发现，原来人家公交站，早就修好了楼梯，让你走地下通道，后面的事情，大家可以想一下啦。又来了一波人。不堵车才怪。</p><p>当然，有人该说了，你只说北口，南口怎么样？？<br>答案是，南口的进站速度，要比北口快至少5倍。<br>原因是，如果按照就进出地铁站的话，南口只有一个地铁口。并且是14号线的。当然，南广场也有公交站，但是！！！南广场只有两个公交站牌。人能多到哪里去？？</p><h5 id="北京南站，卫星图"><a href="#北京南站，卫星图" class="headerlink" title="北京南站，卫星图"></a>北京南站，卫星图</h5><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/81508058.jpg" alt></p><h3 id="北京南站，候车厅趣事"><a href="#北京南站，候车厅趣事" class="headerlink" title="北京南站，候车厅趣事"></a>北京南站，候车厅趣事</h3><p>当人们好不容易来到候车厅的时候，一般会选择去取票，当然也有一部分人会在地下一层就取票了。取票的时候，你会发现，为啥取票的人那么多呢？？这是为什么？？<br>那么我告诉你，可能你进入候车厅的方式不对！！是的，就是方式不对！！<br>当大部分人从最拥堵的安检口，也就是北口进入候车厅的时候，做电梯上来，继续往前走，很神奇的会选择右手走，然后找取票口。<br>当然，如果你走左边，过不了多久，你也会去右边，也就是西边。为什么会选择西边？？因为西边有<code>售票口</code>，有<code>改签口</code>。<code>东边没有</code>。当你到了取票口的时候，大部分时候，我想你是绝望的。因为人真的很多。<br>然后，你会选择自动取票机，当然，这个决定是很正确的，因为你像东边扭头，就可以看到也有一群人，在自动售票机那取票，或者买票。<br>人数肯定少很多，那么只能妥协，选择自动售票机。但是你的选择错了。<br>因为东边的自动售票机，等待人数基本在2个左右，而西边的自动售票机一般是4个以上。<br>下面有图，可以感受一下。</p><h5 id="北京南站，候车厅，西取票口"><a href="#北京南站，候车厅，西取票口" class="headerlink" title="北京南站，候车厅，西取票口"></a>北京南站，候车厅，西取票口</h5><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/3921957.jpg" alt></p><h5 id="北京南站，候车厅，东取票口"><a href="#北京南站，候车厅，东取票口" class="headerlink" title="北京南站，候车厅，东取票口"></a>北京南站，候车厅，东取票口</h5><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/90703130.jpg" alt></p><p>当然，候车厅有四个,另外两个怎么样？？？答案也是一样的，因为另外两个对称的取票口，情况是一样的。<br>西边的取票口紧挨着人工取票口和改签的地方。下面有候车厅示意图。</p><h5 id="北京南站南，候车厅示意图"><a href="#北京南站南，候车厅示意图" class="headerlink" title="北京南站南，候车厅示意图"></a>北京南站南，候车厅示意图</h5><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/33170075.jpg" alt></p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>上面这些趣事只是个人目前认知的观点。当然，如果更多的人发现这个有趣的事情，可能会在某一些时间内，这个事情会达到一个平衡点，但是，这个平衡点维持不了多长时间，肯能会出现目前相反的状况。当然只是我的一个预测。<br>大家权当娱乐即可。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E-mail：blog.meaoo<span class="meta">@icloud</span>.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BAE搭建ThinkPHP</title>
      <link href="/2017/09/22/20170922001.html"/>
      <url>/2017/09/22/20170922001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>对于像我这样，整天忧愁服务器贵，不想出那么高昂的服务器费用（虽说只有每年将近700元），但是又想搞一个自己的博客，或者说是搞一个小网站之类的，那么，神器来了。百度现在有一个叫BAE的产品，可以理解为一个虚拟机，但是又比虚拟机更廉价，每天只需要0.1或0.2元，对于这样的费用，我觉得还是可以接受的。下面，将告诉你如何在BAE上，使用PHP搭建自己的网站。另，本网站就是在BAE上运行的。</p></blockquote><h3 id="需要准备的东西"><a href="#需要准备的东西" class="headerlink" title="需要准备的东西"></a>需要准备的东西</h3><ol><li>在<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC5iYWlkdS5jb20v" title="https://cloud.baidu.com/">百度云<i class="fa fa-external-link"></i></span>，买一个BAE服务容器。</li><li>准备<span class="exturl" data-url="aHR0cDovL3d3dy50aGlua3BocC5jbi8=" title="http://www.thinkphp.cn/">ThinkPHP<i class="fa fa-external-link"></i></span>(这里只讲解ThinkPHP5是怎么搞的，当然ThinkPHP3.*版本的也一样)</li></ol><a id="more"></a><h3 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h3><p>1.百度搜索“<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC5iYWlkdS5jb20v" title="https://cloud.baidu.com/">百度云<i class="fa fa-external-link"></i></span>”就会有相应的网址，当然你点这个链接进去也是可以的。<br>2.然后进入管理平台，用百度账号就可以了。<br>3.如下图，在产品里，找到应用引擎BAE。如下图<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/98283651.jpg" alt><br>4.添加部署，这里用BAE基础版，因为专业版的价钱和直接买服务器的价钱是差不多的。<br>5.然后选择配置，如下图，当然你也可以选择自己的配置。<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/27422574.jpg" alt><br>6.下一步，支付，就可以了。</p><h4 id="注意-BAE是每天结算，所以建议最好预存钱进去，要不然某一天忘记了，导致网站停止，那就没得玩了。"><a href="#注意-BAE是每天结算，所以建议最好预存钱进去，要不然某一天忘记了，导致网站停止，那就没得玩了。" class="headerlink" title="注意 BAE是每天结算，所以建议最好预存钱进去，要不然某一天忘记了，导致网站停止，那就没得玩了。"></a>注意 BAE是每天结算，所以建议最好预存钱进去，要不然某一天忘记了，导致网站停止，那就没得玩了。</h4><h3 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h3><p>1.进入控制台，设置发布<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/89781629.jpg" alt><br>2.设置发布，建议设置成自动发布，这样就不需要，每次更新，都要到控制台进行手动发布。当然，这个看个人爱好。<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/87068233.jpg" alt><br>3.使用Git或者SVN进行代码提交。</p><h3 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h3><p>1.BAE默认会有一个<code>app.conf</code>的配置文件，这个非常重要，千万不要删除。这是一个BAE的配置文件，具体可以看BAE的官方手册，介绍的很详细。<br>2.把ThinkPHP5的<code>public</code>目录下<code>index.php</code>文件复制到web根目录，然后进行修改。修改如下。<br>原<code>index.php</code>写法</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// [ 应用入口文件 ]</span></span><br><span class="line"><span class="comment">// 定义应用目录</span></span><br><span class="line">define(<span class="string">'APP_PATH'</span>, <span class="keyword">__DIR__</span> . <span class="string">'/../application/'</span>);</span><br><span class="line"><span class="comment">// 绑定当前访问到index模块</span></span><br><span class="line">define(<span class="string">'BIND_MODULE'</span>,<span class="string">'index'</span>);</span><br><span class="line"><span class="comment">// 加载框架引导文件</span></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/../thinkphp/start.php'</span>;</span><br></pre></td></tr></table></figure><p>新<code>index.php</code>写法，其实只是修改一下路径</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// [ 应用入口文件 ]</span></span><br><span class="line"><span class="comment">// 定义应用目录</span></span><br><span class="line">define(<span class="string">'APP_PATH'</span>, <span class="keyword">__DIR__</span> . <span class="string">'/application/'</span>);</span><br><span class="line"><span class="comment">// 绑定当前访问到index模块</span></span><br><span class="line">define(<span class="string">'BIND_MODULE'</span>,<span class="string">'index'</span>);</span><br><span class="line"><span class="comment">// 加载框架引导文件</span></span><br><span class="line"><span class="keyword">require</span> <span class="keyword">__DIR__</span> . <span class="string">'/thinkphp/start.php'</span>;</span><br></pre></td></tr></table></figure><p>3.<code>app.conf</code>默认配置如下</p><p>原<code>app.conf</code>配置写法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//原app.conf配置写法</span><br><span class="line">handlers:</span><br><span class="line">  - url : /</span><br><span class="line">    script: index.php</span><br><span class="line"></span><br><span class="line">  - expire : .jpg modify 10 years</span><br><span class="line">  - expire : .swf modify 10 years</span><br><span class="line">  - expire : .png modify 10 years</span><br><span class="line">  - expire : .gif modify 10 years</span><br><span class="line">  - expire : .jpg modify 10 years</span><br><span class="line">  - expire : .ico modify 10 years</span><br></pre></td></tr></table></figure><p>修改<code>app.conf</code>配置写法，对你没看错，只加一个重写规则就OK了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">handlers:</span><br><span class="line">  - url : /</span><br><span class="line">    script: index.php</span><br><span class="line"></span><br><span class="line">  - expire : .jpg modify 10 years</span><br><span class="line">  - expire : .swf modify 10 years</span><br><span class="line">  - expire : .png modify 10 years</span><br><span class="line">  - expire : .gif modify 10 years</span><br><span class="line">  - expire : .jpg modify 10 years</span><br><span class="line">  - expire : .ico modify 10 years</span><br><span class="line">  - regex_url: ^/(.*?)$</span><br><span class="line">    script: /index.php?s=$1</span><br></pre></td></tr></table></figure><h4 id="注意-app-conf内的空格需要写对，关于写法，官方也有说明，这里不再赘述。"><a href="#注意-app-conf内的空格需要写对，关于写法，官方也有说明，这里不再赘述。" class="headerlink" title="注意  app.conf内的空格需要写对，关于写法，官方也有说明，这里不再赘述。"></a>注意  <code>app.conf</code>内的空格需要写对，关于写法，官方也有说明，这里不再赘述。</h4><h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
            <tag> BAE </tag>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>悬空寺</title>
      <link href="/2017/08/08/20170810004.html"/>
      <url>/2017/08/08/20170810004.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年8月8日<br>地点：悬空寺</p></blockquote><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/18292508.jpg" alt></p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/74795816.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/77566126.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/94011744.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/9152278.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/51471.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/97120940.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/34752299.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/97062294.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/81402457.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/79281567.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/3524536.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/27916149.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/39411597.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/26179567.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>云冈石窟</title>
      <link href="/2017/08/07/20170810003.html"/>
      <url>/2017/08/07/20170810003.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年8月7日<br>地点：云冈石窟</p></blockquote><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/76196621.jpg" alt></p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/31837442.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/11006440.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/28422967.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/62397056.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/48534572.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/13468770.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/28176806.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二连浩特</title>
      <link href="/2017/08/05/20170810002.html"/>
      <url>/2017/08/05/20170810002.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年8月5日至8月6日<br>地点：二连浩特</p></blockquote><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/4814694.jpg" alt></p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/71459628.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/26112591.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/56063893.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/28661168.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/12144078.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/52183938.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/20416656.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/10305560.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/33984415.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/66832295.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/44658995.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/63847395.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/53582259.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/31925870.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/71397797.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/44151062.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/8761146.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/51342216.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/53482547.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/32437369.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/5539343.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/12432988.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>锡林浩特</title>
      <link href="/2017/08/04/20170810001.html"/>
      <url>/2017/08/04/20170810001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年8月4日<br>地点：锡林浩特</p></blockquote><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/75184732.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/65573564.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/84294317.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/50799935.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/36719225.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/26746306.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/40222044.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/97153767.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/58747990.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/96851614.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/67376453.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/84168133.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>意式风情街--天津</title>
      <link href="/2017/07/29/20170731001.html"/>
      <url>/2017/07/29/20170731001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年7月29日<br>地点：天津<br>天津意式风情街位于天津市河北区，原意大利租界，由河北区五经路、河北区博爱道、河北区胜利路、河北区建国道这四条河北区的道路合围起来的四方形地区统称为意大利风情区，目前保存完整的欧洲建筑近200余栋。</p></blockquote><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/16757531.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/99565834.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/23358837.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/85559065.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一杯清茶，一丛绿荫，君可来否？</title>
      <link href="/2017/07/22/20170722001.html"/>
      <url>/2017/07/22/20170722001.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>时间：2017年7月22日<br>地点：北京·海淀区·阳台山<br>阳台山山脉主峰海拔1278米，位于北清路西边的起点，也就是北安河桥附近。风景不错，目前人还是比较少的，喜欢安静的同学可以去试试。</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/35019277.jpg" alt></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/23118026.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/16874339.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/60036830.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/69380316.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/92953014.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/34128469.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/37246689.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/95148257.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/80582778.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/90744250.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/44974561.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/26634668.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/22639861.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/1875022.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/37632190.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/24578825.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/16135243.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/73509990.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/11858392.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/77821847.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/73161736.jpg" alt><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/79901016.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx 配置</title>
      <link href="/2017/07/21/20170721001.html"/>
      <url>/2017/07/21/20170721001.html</url>
      
        <content type="html"><![CDATA[<h1 id="NGINX配置"><a href="#NGINX配置" class="headerlink" title="NGINX配置"></a>NGINX配置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name b.com;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    root html/blog/public;</span><br><span class="line">    index index.php index.html;</span><br><span class="line">    try_files $uri /index.php?$uri;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~ \.php(.*)$ &#123;</span><br><span class="line">    root html/blog/public;</span><br><span class="line">    fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">    fastcgi_index index.php;</span><br><span class="line">    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">    fastcgi_param PATH_INFO $1;</span><br><span class="line">    include fastcgi_params;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <a id="more"></a><h1 id="laravel权限配置"><a href="#laravel权限配置" class="headerlink" title="laravel权限配置"></a>laravel权限配置</h1><ul><li>chmod 777 storage -R</li><li>chmod 777 bootstrap/cache -R</li><li>chmod 777 public -R</li></ul><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Nginx </tag>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP下载文件</title>
      <link href="/2017/07/21/20170721002.html"/>
      <url>/2017/07/21/20170721002.html</url>
      
        <content type="html"><![CDATA[<p>很多时候，在下载的地方，大家会选择直接链接方式进行下载。但是有一些浏览器，或者有一些文件，浏览器是默认直接打开的，那么这个结果不是开发者需要的一个结果，这个时候就需要进行一个下载方法。</p><p>下面是具体方法。当然方法很多，这不是唯一的。开发这件事情，就是需要灵活运用。</p> <a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public function download()&#123;</span><br><span class="line">        $filedir = &apos;upload/abc.jpg&apos;;</span><br><span class="line">        $filename =substr($filedir,strrpos($filedir,&apos;/&apos;)+1);</span><br><span class="line"></span><br><span class="line">        $file =  fopen($filedir ,&quot;r&quot;); // 打开文件</span><br><span class="line">        // 输入文件标签</span><br><span class="line">        Header(&quot;Content-type: application/octet-stream&quot;);</span><br><span class="line">        Header(&quot;Accept-Ranges: bytes&quot;);</span><br><span class="line">        Header(&quot;Accept-Length: &quot;.filesize($filedir));</span><br><span class="line">        Header(&quot;Content-Disposition: attachment; filename=&quot; . $filename);</span><br><span class="line">        // 输出文件内容</span><br><span class="line">        echo fread($file,filesize($filedir));</span><br><span class="line">        fclose($file);</span><br><span class="line">        exit();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各浏览器的Hack写法</title>
      <link href="/2017/07/21/20170721003.html"/>
      <url>/2017/07/21/20170721003.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>虽然在这里介绍各浏览器的Hack的写法，但我还是要说“Hack对于一位专业的前端攻程师来说并不是一样很好的东西，我力求处理浏览器兼容，尽量不使用Hack写法来处理，除非实在没有办法的情况下，再加以使用。”下面我们先来简单的了解一下什么是CSS Hack。</p></blockquote><p> Hack是针对不同的浏览器去写不同的CSS样式，从而让各浏览器能达到一致的渲染效果，那么针对不同的浏览器写不同的CSS CODE的过程，就叫CSS HACK，同时也叫写CSS Hack。然后将Hack放在浏览器特定的CSS文件中，让其符合条件的浏览器解析这些代码，就如前面所说的条件样式，我们将CSS Hack代码放入条件样式文件中，符合条件的浏览器就解析，不符合的将不解析，从面达到您所需要的页面渲染效果。总的一句话来说使用CSS  Hack将会使用你的CSS代码部分失去作用，然后借助条件样式，使用其原CSS代码在一些浏览器解析，而CSS Hack代码在符合条件要求的浏览器中替代原CSS那部分代码。常见的就是在IE6下使用，不具体说，我想大家都有碰到过了。下面我们就一起来看看所有浏览器都具有什么Hack，换句话说，各种浏览器都能识别哪些CSS的写法。</p><h3 id="下面是我收集有关于各浏览器下Hack的写法"><a href="#下面是我收集有关于各浏览器下Hack的写法" class="headerlink" title="下面是我收集有关于各浏览器下Hack的写法"></a>下面是我收集有关于各浏览器下Hack的写法</h3><h3 id="Firefox"><a href="#Firefox" class="headerlink" title="Firefox"></a>Firefox</h3> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">document</span> url-prefix() &#123;</span><br><span class="line">       <span class="selector-class">.demo</span> &#123;</span><br><span class="line">           <span class="attribute">color</span>: lime;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>  <a id="more"></a><h3 id="Webkit枘核浏览器-chrome-and-safari"><a href="#Webkit枘核浏览器-chrome-and-safari" class="headerlink" title="Webkit枘核浏览器(chrome and safari)"></a>Webkit枘核浏览器(chrome and safari)</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@media screen and (-webkit-min-device-pixel-ratio: 0) &#123;</span><br><span class="line">       .demo &#123;</span><br><span class="line">           color: #f36;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="Opera浏览器"><a href="#Opera浏览器" class="headerlink" title="Opera浏览器"></a>Opera浏览器</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@media all and (min-width: 0) &#123;</span><br><span class="line">       Selector &#123;</span><br><span class="line">           property: value;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   或者：</span><br><span class="line"></span><br><span class="line">   @media all and (-webkit-min-device-pixel-ratio: 10000), not all and (-webkit-min-device-pixel-ratio: 0) &#123;</span><br><span class="line">       head ~ body Selector &#123;</span><br><span class="line">           property: value;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="iPhone-mobile-webkit"><a href="#iPhone-mobile-webkit" class="headerlink" title="iPhone / mobile webkit"></a>iPhone / mobile webkit</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@media screen and (max-device-width: 480px) &#123;</span><br><span class="line">      .demo &#123;</span><br><span class="line">          color: red</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="IE9"><a href="#IE9" class="headerlink" title="IE9"></a>IE9</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:root .demo &#123;color: #ff0\9;&#125;</span><br></pre></td></tr></table></figure><h3 id="经济实惠型定法"><a href="#经济实惠型定法" class="headerlink" title="经济实惠型定法"></a>经济实惠型定法</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">.demo &#123;</span><br><span class="line">       color: red; /*所有现代浏览器*/</span><br><span class="line">       color: green \9; /*所有IE浏览器*/</span><br><span class="line">       color: lime \0; /*IE8-9浏览器*/</span><br><span class="line">       *color: red; /*IE6-7浏览器*/</span><br><span class="line">       +color: blue; /*IE7浏览器*/</span><br><span class="line">       _color: orange; /*IE6浏览器*/</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @media all and (min-width: 0px) &#123;</span><br><span class="line">       color: #000;/*Webkit和Opera浏览器*/</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @media screen and (-webkit-min-device-pixel-ratio: 0) &#123;</span><br><span class="line">       color: #f36;/*Webkit内核浏览器*/</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @media all and (-wekit-min-device-pixel-ratio: 10000), not all and (-webkit-min-device-pixel-ratio: 0) &#123;</span><br><span class="line">       head ~ body .demo &#123;</span><br><span class="line">           color: #369;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       /*Opera*/</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @-moz-document url-prefix() &#123;</span><br><span class="line">       .demo &#123;</span><br><span class="line">           color: #ccc;</span><br><span class="line">       &#125;</span><br><span class="line">       /* all firefox */</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p> 如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于PHP定时发布文章解决办法</title>
      <link href="/2017/07/21/20170721004.html"/>
      <url>/2017/07/21/20170721004.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>最近一直在想如何用PHP做定时发布文章的功能</p></blockquote><h3 id="被思路限制"><a href="#被思路限制" class="headerlink" title="被思路限制"></a>被思路限制</h3><p>为这么这样说,为什么说一直被思路限制.因为我一直在思考如何做定时发布,去找各种办法,但是效果都不是很好.</p><h5 id="思路一"><a href="#思路一" class="headerlink" title="思路一"></a>思路一</h5><p>这个办法是使用<code>ignore_user_abort(true)</code>函数进行的一个操作,这个函数如果被设置为true,那么当执行完成文件之后,即使关闭浏览器,该页面的方法还会继续执行,在配合上<code>sleep</code>函数,去做一个页面的无限死循环.</p><blockquote><p>这样的办法固然可以,但是,对于资源的消耗也是很高的,当执行文件之后,那么这个执行会常驻运行容易,无法得到释放.</p></blockquote> <a id="more"></a><h5 id="思路二"><a href="#思路二" class="headerlink" title="思路二"></a>思路二</h5><p>该方法是使用Linux的<code>CronTab</code>去执行一个定时任务,也就是说,需要Linux定时去执行某个php文件,当然这个方法相对于上面的思路一,是再好不过的了.把定时任务交给生产工具去做,既稳定,有低消耗.单是我个人不太喜欢这个方法.不是每个站长的网站都运行在ECS上,大部分站长使用的是SAE上,那么对于这个方法是绝对行不通的.</p><h5 id="思路三"><a href="#思路三" class="headerlink" title="思路三"></a>思路三</h5><p>这是我目前想到的比较适合大部分站长的办法,当然目前还没有找到其他合适的办法.该方法的理念就是让访问你网站的用户帮你进行定时任务发布.具体点就是,当用户访问网站的时候,去检测是否有等待发布的文章,并且文章已经过了定时发布的时间,如果是,那么进行发布,并同时对搜索引擎发出推送.如果不是,那么继续保持当前状态.</p><p>其实想对于一部分站长来说,这个办法是不可行的,他们希望自己的文章及时的被搜索引擎进收录,那么就可以结合这个办法,然后配合思路二,进行发布.</p><p>当然这个办法还有很大的优化空间,目前本人还没有想到.如果你有更好的解决办法,那么请通过邮件形式告诉我.</p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将远程图片保存到WordPress特色图片中，并与文章相关联</title>
      <link href="/2017/07/21/20170721005.html"/>
      <url>/2017/07/21/20170721005.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>本篇讲解如何将远程图片保存到wordpress特色图片中,并且与文章相关联.由于特色图片的特殊性,很多朋友对于如何直接自定义保存文章特色图片中一直发愁.</p></blockquote><p>由于wordpress 特色图片的特殊性,这个保存还是比较简单的,为什么说特殊.是因为文章特色图片会与文章一起被保存到<code>wp_posts</code>数据表中.并且占用一条文章资源,这也就是为什么一些朋友使用wordpress发布文章会发现文章ID并不是紧挨着的,而是相差1个或2个数字.这是由于wordpress的自动保存和特色图片占用了这些资源,当然这里不进行讲解如何将这些东西保存到其他表中或者其他的优化方式.</p><h3 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h3><p>本次将使用到``方法,该方法需要使用wordpress的内置image处理方法.当然这个只是对于直接使用API独立方式.如果是正常引用,那么这个可以不用管.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用地址</span></span><br><span class="line"><span class="keyword">require_once</span>( ABSPATH . <span class="string">'wp-admin/includes/image.php'</span> );</span><br></pre></td></tr></table></figure> <a id="more"></a><h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//测试用例数据</span></span><br><span class="line"></span><br><span class="line">$postArr[ <span class="string">'img'</span> ] = <span class="string">'https://raw.githubusercontent.com/meaoo/blog_img/master/1475555917_5126.jpg'</span>;<span class="comment">//图片LOGO</span></span><br><span class="line">$postArr[ <span class="string">'userid'</span> ] = <span class="string">'223'</span>;<span class="comment">//用户ID 这里的ID是指发布者ID</span></span><br><span class="line">$postArr[ <span class="string">'catid'</span> ] = <span class="string">'123'</span>;<span class="comment">//文章分类ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//远程图片地址</span></span><br><span class="line">$filepath = $pos[ <span class="string">'img'</span> ];</span><br><span class="line"><span class="comment">//使用函数将远程图片获取到wordpress服务器端</span></span><br><span class="line">$get = wp_remote_get ( $filepath );</span><br><span class="line"><span class="comment">//获取文件格式</span></span><br><span class="line">$type = wp_remote_retrieve_header ( $get , <span class="string">'content-type'</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否图片格式文件</span></span><br><span class="line"><span class="keyword">if</span>( is_numeric(strpos( $type,<span class="string">'image'</span>)))&#123;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//进行文件重命名,并用MD5进行命名混淆</span></span><br><span class="line">    $file_title = md5 ( date ( <span class="string">'Ymd'</span> , time () ) . mt_rand ( <span class="number">1000</span> , <span class="number">9999</span> ) );</span><br><span class="line">    <span class="comment">//拼接文件地址</span></span><br><span class="line">    $file_name = $file_title . substr ( $filepath , strrpos ( $filepath , <span class="string">"."</span> ) );</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    $file_content = wp_remote_retrieve_body ( $get );</span><br><span class="line">    $mirror = wp_upload_bits ( $file_name , <span class="keyword">null</span> , $file_content );</span><br><span class="line"></span><br><span class="line">    <span class="comment">//写入特色图片需要的数据</span></span><br><span class="line">    $thum[ <span class="string">'post_author'</span> ] = $userID;<span class="comment">//发布者ID</span></span><br><span class="line">    $thum[ <span class="string">'post_title'</span> ] = $file_title;<span class="comment">//文章标题</span></span><br><span class="line">    $thum[ <span class="string">'post_parent'</span> ] = $aid;</span><br><span class="line">    $thum[ <span class="string">'guid'</span> ] = $mirror[ <span class="string">'url'</span> ];</span><br><span class="line">    $thum[ <span class="string">'post_type'</span> ] = <span class="string">'attachment'</span>;</span><br><span class="line">    $thum[ <span class="string">'post_mime_type'</span> ] = $type;</span><br><span class="line">    $thum[ <span class="string">'post_status'</span> ] = <span class="string">'inherit'</span>;<span class="comment">//文章状态</span></span><br><span class="line">    <span class="comment">//以文章形式写入到数据库</span></span><br><span class="line">    $attachment_id = wp_insert_post ( $thum );</span><br><span class="line">    set_post_thumbnail ( $aid , $attachment_id );</span><br><span class="line">    update_post_meta ( $aid , <span class="string">'_thumbnail_id'</span> , $attachment_id );</span><br><span class="line"></span><br><span class="line">    update_post_meta($attachment_id,<span class="string">'_wp_attached_file'</span>, ltrim( wp_upload_dir()[<span class="string">'subdir'</span>],<span class="string">'/'</span>) .<span class="string">'/'</span>.$file_name );</span><br><span class="line">    $attach_data = wp_generate_attachment_metadata( $attachment_id, ltrim( wp_upload_dir()[<span class="string">'path'</span>],<span class="string">'/'</span>) .<span class="string">'/'</span>.$file_name );</span><br><span class="line">    wp_update_attachment_metadata( $attachment_id, $attach_data  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用外部程序向WordPress写入文章</title>
      <link href="/2017/07/21/20170721006.html"/>
      <url>/2017/07/21/20170721006.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>手动创建用户，并等到用户ID，用户ID在<code>wp_users</code>表中<br>分类需要手动添加，添加分类之后，在<code>wp_terms</code>表中找到<code>term_id</code>，然后再根据找到的<code>term_id</code>到<code>wp_term_taxonomy</code>表中找对应的<code>term_taxonomy_id</code><br>这个文章写入方法已经有<a href="https://www.meaoo.cn/2017/07/21/20170721007.html">改进版</a></p></blockquote><a id="more"></a><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量</span></span><br><span class="line">        $userID = <span class="number">291</span>;<span class="comment">//发布者ID</span></span><br><span class="line">        $tagID = <span class="number">297</span>;<span class="comment">//分类ID</span></span><br><span class="line"></span><br><span class="line">        $post = <span class="keyword">new</span> T();<span class="comment">//初始化POST库</span></span><br><span class="line">        <span class="comment">//文章表操作</span></span><br><span class="line">        $post-&gt;post_author = $userID;<span class="comment">//发布者ID</span></span><br><span class="line">        $post-&gt;post_date = date ( <span class="string">'Y-m-d H:i:s'</span> );<span class="comment">//发布时间</span></span><br><span class="line">        $post-&gt;post_date_gmt = date ( <span class="string">'Y-m-d H:i:s'</span> , time () - date ( <span class="string">'Z'</span> ) );<span class="comment">//格林威治时间</span></span><br><span class="line">        $post-&gt;post_title = <span class="string">'新华社消息'</span>;<span class="comment">//文章标题</span></span><br><span class="line">        $post-&gt;post_content = <span class="string">'白宫被中国土豪全资购买'</span>;<span class="comment">//文章内容</span></span><br><span class="line">        $post-&gt;post_status = <span class="string">'publish'</span>;<span class="comment">//文章状态</span></span><br><span class="line">        $post-&gt;comment_status = <span class="string">'open'</span>;<span class="comment">//文章评论状态</span></span><br><span class="line">        $post-&gt;ping_status = <span class="string">'open'</span>;<span class="comment">//ping状态</span></span><br><span class="line">        $post-&gt;post_modified = date ( <span class="string">'Y-m-d H:i:s'</span> );</span><br><span class="line">        $post-&gt;post_modified_gmt = date ( <span class="string">'Y-m-d H:i:s'</span> , time () - date ( <span class="string">'Z'</span> ) );</span><br><span class="line"></span><br><span class="line">        $post-&gt;save ();<span class="comment">//写入数据库</span></span><br><span class="line"></span><br><span class="line">        $aid = $post-&gt;ID;<span class="comment">//刚入库的文章ID</span></span><br><span class="line"></span><br><span class="line">        $rela = <span class="keyword">new</span> rela();<span class="comment">//初始化wp_term_relationships库</span></span><br><span class="line">        $rela-&gt;object_id = $aid;</span><br><span class="line">        $rela-&gt;term_taxonomy_id = $tagID;</span><br><span class="line">        $rela-&gt;term_order = <span class="number">0</span>;</span><br><span class="line">        $rela-&gt;save ();</span><br><span class="line"></span><br><span class="line">        $te = <span class="keyword">new</span> terms();<span class="comment">//初始化wp_term_taxonomy库</span></span><br><span class="line">        $te-&gt;where ( <span class="string">'term_taxonomy_id'</span> , <span class="string">'='</span> , $tagID )-&gt;increment ( <span class="string">'count'</span> );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//循环四次写入数据库</span></span><br><span class="line">        <span class="keyword">for</span> ( $i = <span class="number">0</span> ; $i &lt; <span class="number">4</span> ; $i++ ) &#123;</span><br><span class="line">            $meat = <span class="keyword">new</span> postmeat();<span class="comment">//初始化wp_postmeta库</span></span><br><span class="line">            $meat-&gt;post_id = $aid;<span class="comment">//文章ID</span></span><br><span class="line">            <span class="keyword">switch</span> ( $i ) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    $meat-&gt;meta_key = <span class="string">'_edit_lock'</span>;</span><br><span class="line">                    $meat-&gt;meta_value = time () . <span class="string">':'</span> . $userID;</span><br><span class="line">                    $meat-&gt;save ();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    $meat-&gt;meta_key = <span class="string">'_edit_last'</span>;</span><br><span class="line">                    $meat-&gt;meta_value = $userID;</span><br><span class="line">                    $meat-&gt;save ();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                    $meat-&gt;meta_key = <span class="string">'fromname_value'</span>;</span><br><span class="line">                    $meat-&gt;meta_value = <span class="string">'新华社'</span>;</span><br><span class="line">                    $meat-&gt;save ();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                    $meat-&gt;meta_key = <span class="string">'fromurl_value'</span>;</span><br><span class="line">                    $meat-&gt;meta_value = <span class="string">'http://news.baidu.com'</span>;</span><br><span class="line">                    $meat-&gt;save ();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用外部程序向WordPress写入文章改进版</title>
      <link href="/2017/07/21/20170721007.html"/>
      <url>/2017/07/21/20170721007.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>之前写过一篇  <a href="https://www.meaoo.cn/2017/07/21/20170721006.html">使用外部程序像wordpress写入文章</a>,随着时间在对wordpress的开发中,发现了该方法的改进版,这里分享出来.</p></blockquote><blockquote><p>当然还可以在此基础上可以进一步改进,那就是个人定制化的需求了,这里就不再赘述.</p></blockquote> <a id="more"></a><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量定义</span></span><br><span class="line">$userID = <span class="number">291</span>;<span class="comment">//发布者ID</span></span><br><span class="line">$tagID = <span class="number">297</span>;<span class="comment">//分类ID</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//文章数据</span></span><br><span class="line">$postArr[<span class="string">'title'</span>]=<span class="string">'biaot'</span>;</span><br><span class="line">$postArr[<span class="string">'con'</span>]=<span class="string">'ewjkllqwejklqweioqwe'</span>;</span><br><span class="line">$postArr[<span class="string">'source'</span>]=<span class="string">'qudao '</span>;</span><br><span class="line">$postArr[<span class="string">'url'</span>]=<span class="string">'http'</span>;</span><br><span class="line">$postArr[ <span class="string">'id'</span>]=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">postArt($postArr,$userID,$tagID);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">postArt</span><span class="params">($pos,$userID,$termID)</span></span>&#123;</span><br><span class="line">date_default_timezone_set(<span class="string">'Asia/Shanghai'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(mb_strlen($pos[<span class="string">'con'</span>],<span class="string">'utf8'</span>) &gt;=<span class="number">500</span>)&#123;</span><br><span class="line">    <span class="keyword">unset</span>($termID[<span class="string">'business'</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文章数据</span></span><br><span class="line">$art[<span class="string">'post_author'</span>]       = $userID;<span class="comment">//发布者ID</span></span><br><span class="line">$art[<span class="string">'post_title'</span>]        = $pos[<span class="string">'title'</span>];<span class="comment">//文章标题</span></span><br><span class="line">$art[<span class="string">'post_content'</span>]      = $pos[<span class="string">'con'</span>];<span class="comment">//文章内容</span></span><br><span class="line">$art[<span class="string">'post_status'</span>]       = <span class="string">'publish'</span>;<span class="comment">//文章状态</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//文章数据入库</span></span><br><span class="line">$aid = wp_insert_post($art);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">empty</span>($aid))&#123;</span><br><span class="line">    <span class="keyword">exit</span>(msgInfo(<span class="string">'Data write to database failed'</span>,$pos[<span class="string">'id'</span>]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//往分类中表添加文章对应的分类,同时自动添加分类的数量</span></span><br><span class="line">wp_set_object_terms($aid,$termID,<span class="string">'category'</span>,<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//写入相关元数据表数据</span></span><br><span class="line">update_post_meta($aid,<span class="string">'_edit_lock'</span>,time().<span class="string">':'</span>.$userID);</span><br><span class="line">update_post_meta($aid,<span class="string">'_edit_last'</span>,$userID);</span><br><span class="line">update_post_meta($aid,<span class="string">'fromname_value'</span>,trim($pos[<span class="string">'source'</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用GitHub-Pages服务进行页面跳转</title>
      <link href="/2017/07/21/20170721008.html"/>
      <url>/2017/07/21/20170721008.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>如果你有一个简书账号，或者是其他的社区账号，有想使用一个自己的域名访问自己的主页，那么恰巧，这个社区不允许独立域名绑定或者不接受解析，那该怎么办？下面将告诉你如何解决这个小问题。</p></blockquote><blockquote><p>注 ： 由于时间有限，这里暂时只介绍使用js的重定向进行，这个最简单，也不会影响搜索引擎的SEO</p></blockquote><h3 id="需要准备"><a href="#需要准备" class="headerlink" title="需要准备"></a>需要准备</h3><ul><li><p>GitHub账号，如果没有GitHub账号或者对GitHub不了解的同学，请先了解GitHub，<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLw==" title="https://github.com/">GitHub官网<i class="fa fa-external-link"></i></span>，注意，注册账号的时候，用户名使用英文，项目名称也使用英文，后面有地方需要用到</p></li><li><p>然后需要拥有一个自己的域名，当然如果你没有域名，或者不知道域名是什么，那么请自行百度，域名注册可以选择<span class="exturl" data-url="aHR0cHM6Ly93YW53YW5nLmFsaXl1bi5jb20v" title="https://wanwang.aliyun.com/">万网<i class="fa fa-external-link"></i></span></p><a id="more"></a></li></ul><h3 id="跳转页面"><a href="#跳转页面" class="headerlink" title="跳转页面"></a>跳转页面</h3><ol><li><p>新建一个<code>txt</code>文件，重命名为<code>index</code>，文件文件格式（也就是txt）改成<code>html</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    this.location = &quot;你需要跳转的页面网址&quot; ;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li><li><p>新建一个没有后缀的文件<code>CNAME</code>，注意，大写，名字一定大写。然后在CNAME文件中，写上你的域名如<code>www.xxx.com</code></p></li><li><p>将这两个文件上传到GitHub项目里</p></li><li><p>然后你的GitHub项目里会有下面两个文件<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/91919959.jpg" alt="GitHub项目中的文件"></p></li></ol><h3 id="GitHub-Pages设置"><a href="#GitHub-Pages设置" class="headerlink" title="GitHub Pages设置"></a>GitHub Pages设置</h3><ol><li>在GitHub的项目文件里，点击<code>settings</code><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/74586899.jpg" alt="settings"></li><li>找到<code>GitHub Pages</code>设置</li><li><code>Source</code>设置为<code>master branch</code>，然后点击<code>Save</code><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/36651192.jpg" alt="GitHub Pages设置"></li><li>这时候，你将会看到之前写在<code>CNAME</code>文件里的域名会显示出来<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/23396768.jpg" alt="域名绑定"></li><li>然后访问GitHub给你的这个网址，试试是否可以跳转到你想要跳转的地方，如果不行，请检查上面步骤是否正确</li></ol><h3 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h3><ol><li>对你购买的域名进行<code>cname</code>解析，记录值写上GitHub给你的地址，这里需要去掉项目名，并且去掉前缀，也就是<code>http://</code>或<code>https://</code>，也就是你需要填写上的地址是<code>用户名.github.io</code>这样的形式</li><li>当然主机记录填写的也就是域名的前缀，一般会填写<code>www</code>，然后域名会拼接成<code>www.你的域名.com</code>这样的地址，也就是你上传到<code>GitHub</code>里的<code>CNAME</code>里面所写的内容<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/30412534.jpg" alt="域名解析"></li><li>解析完成之后，需要等待2分钟左右，访问你的域名，如果不成功，那么请检查上面的步骤是否正确</li></ol><h3 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h3><p>至此，使用GitHub的Pages服务进行页面跳转就成功了，当然有很多方式进行这些，国内也有类似的托管服务，以后有机会我会对其他方式的跳转进行讲解</p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>最后，感谢伟大的<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLw==" title="https://github.com/">GitHub<i class="fa fa-external-link"></i></span>为我们提供的免费空间以及免费的技术支持</p><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Tool </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用JS判断页面是否在微信中打开</title>
      <link href="/2017/07/21/20170721009.html"/>
      <url>/2017/07/21/20170721009.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>随着现在使用微信的群体越来越庞大,但是又由于微信个方面的限制,比如下载功能的限制,开发者们不得不让自己的网站适配微信,但是又无法阻止微信的各方面限制,所以下面给各位分享一段JS代码,进行判断你的WEB程序当前是否使用微信打开.</p></blockquote><h3 id="JS代码非常简单-确是很实用的"><a href="#JS代码非常简单-确是很实用的" class="headerlink" title="JS代码非常简单.确是很实用的"></a>JS代码非常简单.确是很实用的</h3><p>经测试,兼容各种设备的微信内打开,包括苹果和ipad设备.</p> <a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function is_weixn()&#123;</span><br><span class="line">        var ua = navigator.userAgent.toLowerCase();</span><br><span class="line"></span><br><span class="line">        if(ua.match(/MicroMessenger/i)==&quot;micromessenger&quot;) &#123;</span><br><span class="line">            $(&quot;#aa&quot;).html(&apos;在微信中打开的&apos;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            $(&quot;#aa&quot;).html(&apos;在浏览器中打开的&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Tool </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在WordPress中开发API接口</title>
      <link href="/2017/07/21/20170721010.html"/>
      <url>/2017/07/21/20170721010.html</url>
      
        <content type="html"><![CDATA[<h2 id="相信很多朋友都有在wordpress中开发API接口的需求"><a href="#相信很多朋友都有在wordpress中开发API接口的需求" class="headerlink" title="相信很多朋友都有在wordpress中开发API接口的需求"></a>相信很多朋友都有在wordpress中开发API接口的需求</h2><p>其实wordpress中进行API开发也不是有多大的难度。不过我走了很多弯路，所以在这里写下方法，以免更多人再走这条弯路。</p><p>在刚接到开发wordpress的API开发任务的时候，我首先想到的是把API以单页面形式进行处理，这样就可以随时对API进行上下线的控制，当然，这是一个不错的选择。当然还有另外一种方式，那就是直接在wordpress的根目录下创建一个php，进行api开发，这需要说明的是，这两个方法都是可以达到同样的效果，开发过过程基本一样。</p><h3 id="方法一：使用单页面形式开发wordpress的API"><a href="#方法一：使用单页面形式开发wordpress的API" class="headerlink" title="方法一：使用单页面形式开发wordpress的API"></a>方法一：使用单页面形式开发wordpress的API</h3><p>当然，这种方式是比较简单的，直接在当前使用的模板目录下的<code>pages</code>目录下，创建一个新的php页面,在开头写上模板的名称即可，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">/**</span><br><span class="line"> * Template name: Test</span><br><span class="line"> * Description:   The channel page of test.</span><br><span class="line"> */</span><br></pre></td></tr></table></figure><p>是的，就是这样简单，当然API的内容各位自己进行开发，这里就不赘述，需求不同，逻辑自然就不同。这个大家都是知道的。</p><h3 id="方法二：在wordpress目录下直接创建php文件开发wordpress的API"><a href="#方法二：在wordpress目录下直接创建php文件开发wordpress的API" class="headerlink" title="方法二：在wordpress目录下直接创建php文件开发wordpress的API"></a>方法二：在wordpress目录下直接创建php文件开发wordpress的API</h3><p>这种方法，稍微复杂，原因在于，使用单页面的话，全局变量<code>$wpdb</code>是不需要我们自己加载组件进行声明的。不过加载组件也很简单，代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">require_once(dirname(__FILE__).&apos;/wp-load.php&apos;);</span><br></pre></td></tr></table></figure><p>这样，我们就可以尽情的进行API开发了。</p><blockquote><p>wordpress开发API就是这样，不过对于第一次开发wordpress API的我来说，走了很多弯路。在引用组件的时候，百度了很多，不能说全都是错误的，但是我基本点了10几个链接，只有2个网站进行了相关描述，不过都是介绍<code>wp_load.php</code>这个的工作原理的。就是这些，其他也不啰嗦。</p></blockquote><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android实现购物车动画</title>
      <link href="/2017/07/21/20170721012.html"/>
      <url>/2017/07/21/20170721012.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>需求：点击触发事件，使一个圆点或者其他的什么东西，移动到另外一个元素上。由于是使用坐标进行移动，所以，会出现起始点位置，中途的路径，落点位置的点不是中心点，而是做小X轴和Y轴焦点。当然这个案例会考虑这个问题，并解决这个问题。</p></blockquote><h3 id="示例图"><a href="#示例图" class="headerlink" title="示例图"></a>示例图</h3><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/9133460.jpg" alt="Android实现购物车动画示例图"></p> <a id="more"></a><h3 id="activity-main-xml代码"><a href="#activity-main-xml代码" class="headerlink" title="activity_main.xml代码"></a><code>activity_main.xml</code>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;android.support.constraint.ConstraintLayout</span><br><span class="line">        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">        xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot; android:id=&quot;@+id/activity_main&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;Button android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:text=&quot;测试&quot; android:id=&quot;@+id/btn&quot;</span><br><span class="line">            app:layout_constraintTop_toTopOf=&quot;parent&quot;</span><br><span class="line">            android:layout_marginTop=&quot;8dp&quot;</span><br><span class="line">            android:layout_marginRight=&quot;8dp&quot;</span><br><span class="line">            app:layout_constraintRight_toRightOf=&quot;parent&quot;/&gt;</span><br><span class="line">    &lt;Button android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:text=&quot;盒子&quot;</span><br><span class="line">            android:id=&quot;@+id/box&quot;</span><br><span class="line">            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">            android:layout_marginBottom=&quot;8dp&quot;</span><br><span class="line">            android:layout_marginLeft=&quot;8dp&quot;</span><br><span class="line">            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;/&gt;</span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure><h3 id="MainActivity代码"><a href="#MainActivity代码" class="headerlink" title="MainActivity代码"></a><code>MainActivity</code>代码</h3><blockquote><p>这个方法就没啥说的了.初始化调用,以及动画效果在这里定义.</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">package cn.meaoo.myapplication;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.os.Handler;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">/**</span><br><span class="line"> * 物体抛物线移动</span><br><span class="line"> * Created by meaoo on 2017/4/14.</span><br><span class="line"> */</span><br><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line">    private View startView, toView;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main_dot);</span><br><span class="line">        //起始点元素</span><br><span class="line">        startView = findViewById(R.id.btn);</span><br><span class="line">        //结束点元素</span><br><span class="line">        toView = findViewById(R.id.box);</span><br><span class="line"></span><br><span class="line">        startView.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                clickK();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private void clickK() &#123;</span><br><span class="line">        FlyView fly = new FlyView(this, startView, toView, R.drawable.ic_action_name);</span><br><span class="line">        fly.startFly(3000, new Runnable() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                //结束点元素动画变化</span><br><span class="line">                toView.animate().scaleX(1.5f);</span><br><span class="line">                toView.animate().scaleY(1.3f);</span><br><span class="line">                new Handler().postDelayed(new Runnable() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void run() &#123;</span><br><span class="line">                        toView.animate().scaleX(1f);</span><br><span class="line">                        toView.animate().scaleY(1f);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, 200);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="FlyView代码"><a href="#FlyView代码" class="headerlink" title="FlyView代码"></a><code>FlyView</code>代码</h3><blockquote><p>使物体进行点与点之间移动方法,或者叫两点之间飞行,并使用贝塞尔曲线,进行一个比较漂亮的飞行姿态.并处理动画效果</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">package cn.meaoo.myapplication;</span><br><span class="line"></span><br><span class="line">import android.animation.Animator;</span><br><span class="line">import android.animation.ValueAnimator;</span><br><span class="line">import android.graphics.Bitmap;</span><br><span class="line">import android.graphics.BitmapFactory;</span><br><span class="line">import android.graphics.Path;</span><br><span class="line">import android.graphics.PathMeasure;</span><br><span class="line">import android.support.annotation.Nullable;</span><br><span class="line">import android.support.v7.app.ActionBar;</span><br><span class="line">import android.support.v7.app.AppCompatActivity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line">import android.view.ViewGroup.LayoutParams;</span><br><span class="line">import android.view.animation.LinearInterpolator;</span><br><span class="line">import android.widget.ImageView;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by meaoo on 2017/4/14.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">public class FlyView &#123;</span><br><span class="line">    private View fromView, toView;</span><br><span class="line"></span><br><span class="line">    private ImageView flyView;</span><br><span class="line">    private ViewGroup container;</span><br><span class="line">    private Bitmap bitmap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //贝塞尔曲线中间过程的点的坐标</span><br><span class="line">    final float[] mCurrentPosition = new float[2];</span><br><span class="line">    //计算中间动画的插值坐标</span><br><span class="line">    Path mPath = new Path();</span><br><span class="line">    PathMeasure mPathMeasure = new PathMeasure();</span><br><span class="line">    int actionBarHeight = 0;</span><br><span class="line"></span><br><span class="line">    public FlyView(AppCompatActivity context, View from, View to, int flyImageResourceId) &#123;</span><br><span class="line">        fromView = from;</span><br><span class="line">        toView = to;</span><br><span class="line">        container = (ViewGroup) ((ViewGroup) context.findViewById(android.R.id.content)).getChildAt(0);</span><br><span class="line">        flyView = new ImageView(context);</span><br><span class="line">        flyView.setLayoutParams(new LayoutParams(100, 100));</span><br><span class="line">        // flyView.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));</span><br><span class="line">        flyView.setImageResource(flyImageResourceId);</span><br><span class="line"></span><br><span class="line">        //由于imageView无法获取宽度和高度，这里使用bitmap获取</span><br><span class="line">        bitmap = BitmapFactory.decodeResource(flyView.getResources(), flyImageResourceId);</span><br><span class="line"></span><br><span class="line">        ActionBar bar = context.getSupportActionBar();</span><br><span class="line">        if (bar != null) &#123;</span><br><span class="line">            actionBarHeight = bar.getHeight();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 启动飞行</span><br><span class="line">     *</span><br><span class="line">     * @param duration</span><br><span class="line">     * @param runnable</span><br><span class="line">     */</span><br><span class="line">    public void startFly(long duration, @Nullable final Runnable runnable) &#123;</span><br><span class="line">        //添加移动飞行物体到页面</span><br><span class="line">        container.addView(flyView);</span><br><span class="line">        //起始点坐标</span><br><span class="line">        //计算起始点中心点</span><br><span class="line">        final float startX = CommonUtil.getContentX(fromView) + fromView.getWidth() / 2;</span><br><span class="line">        final float startY = CommonUtil.getContentY(fromView) + fromView.getHeight() / 2;</span><br><span class="line"></span><br><span class="line">        //设置移动点起始坐标</span><br><span class="line">        if (bitmap != null) &#123;</span><br><span class="line">            CommonUtil.setContentX(flyView, startX - bitmap.getWidth() / 2);</span><br><span class="line">            CommonUtil.setContentY(flyView, startY - bitmap.getHeight() / 2);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            CommonUtil.setContentX(flyView, startX);</span><br><span class="line">            CommonUtil.setContentY(flyView, startY);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        final float flyX = CommonUtil.getContentX(flyView);</span><br><span class="line">        final float flyY = CommonUtil.getContentY(flyView);</span><br><span class="line"></span><br><span class="line">        //结束点坐标</span><br><span class="line">        //结束点坐标的Y轴不进行居中计算原因是为了实现当物体移动到结束点的时候，即刻消失的效果，</span><br><span class="line">        //而不是当物体移动到结束点中心再小时</span><br><span class="line">        final float toX = CommonUtil.getContentX(toView) + toView.getWidth() / 2;</span><br><span class="line">        final float toY = CommonUtil.getContentY(toView);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //贝塞尔曲线起始点</span><br><span class="line">        mPath.moveTo(flyX, flyY);</span><br><span class="line">        //使用二次贝塞尔曲线</span><br><span class="line">        //第一个参数，值越大，横向移动距离越大</span><br><span class="line">        mPath.quadTo((startX + toX) / 2, startY, toX, toY);</span><br><span class="line"></span><br><span class="line">        //计算贝塞尔曲线的曲线长度和贝塞尔曲线中间插值的坐标</span><br><span class="line">        //第二个参数如果是true,Path将会形成一个闭环</span><br><span class="line">        mPathMeasure.setPath(mPath, false);</span><br><span class="line"></span><br><span class="line">        //从0到贝塞尔曲线的长度之间进行插值计算，获取中间过程的距离值</span><br><span class="line">        final ValueAnimator valueAnimator = ValueAnimator.ofFloat(0, mPathMeasure.getLength());</span><br><span class="line">        //动画执行时长，毫秒单位</span><br><span class="line">        valueAnimator.setDuration(duration);</span><br><span class="line"></span><br><span class="line">        //匀速插值器</span><br><span class="line">        LinearInterpolator linearInterpolator = new LinearInterpolator();</span><br><span class="line">        valueAnimator.setInterpolator(linearInterpolator);</span><br><span class="line"></span><br><span class="line">        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onAnimationUpdate(ValueAnimator valueAnimator) &#123;</span><br><span class="line">                //当插值计算进行时，获取中间的每个值</span><br><span class="line">                //这里这个值是中间过程中的曲线长度（下面根据这个值来得出中间点的坐标值）</span><br><span class="line">                float value = (Float) valueAnimator.getAnimatedValue();</span><br><span class="line">                // 获取当前点坐标封装到mCurrentPosition</span><br><span class="line">                //传入一个距离distance(0&lt;=distance&lt;=getLength())，然后会计算当前距离的坐标点和切线，pos会自动填充上坐标，这个方法很重要</span><br><span class="line">                mPathMeasure.getPosTan(value, mCurrentPosition, null);</span><br><span class="line">                //移动（动画图片）的坐标设置为该中间点的坐标</span><br><span class="line">                flyView.setTranslationX(mCurrentPosition[0] - flyView.getWidth() / 2);</span><br><span class="line">                flyView.setTranslationY(mCurrentPosition[1]);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        //动画监听</span><br><span class="line">        valueAnimator.addListener(new Animator.AnimatorListener() &#123;</span><br><span class="line">            //动画启动</span><br><span class="line">            @Override</span><br><span class="line">            public void onAnimationStart(Animator animator) &#123;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //动画结束</span><br><span class="line">            @Override</span><br><span class="line">            public void onAnimationEnd(Animator animator) &#123;</span><br><span class="line">                if (runnable != null) &#123;</span><br><span class="line">                    runnable.run();</span><br><span class="line">                &#125;</span><br><span class="line">                container.removeView(flyView);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //动画取消</span><br><span class="line">            @Override</span><br><span class="line">            public void onAnimationCancel(Animator animator) &#123;</span><br><span class="line">                container.removeView(flyView);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            //动画重复执行</span><br><span class="line">            @Override</span><br><span class="line">            public void onAnimationRepeat(Animator animator) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        //执行动画</span><br><span class="line">        valueAnimator.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="CommonUtil代码"><a href="#CommonUtil代码" class="headerlink" title="CommonUtil代码"></a><code>CommonUtil</code>代码</h3><blockquote><p>由于系统提供方法无法准确获取元素准确坐标.所以使用该方法辅助<code>FlyView</code>计算开始点和结束点以及移动物体在屏幕中的真实坐标</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">package cn.meaoo.myapplication;</span><br><span class="line"></span><br><span class="line">import android.app.Activity;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by meaoo on 2017/4/14.</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">public class CommonUtil &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取view在全局中的X轴坐标点</span><br><span class="line">     *</span><br><span class="line">     * @param view</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static float getContentX(View view) &#123;</span><br><span class="line">        int x = 0;</span><br><span class="line">        Activity context = (Activity) view.getContext();</span><br><span class="line">        View content = ((ViewGroup) context.findViewById(android.R.id.content)).getChildAt(0);</span><br><span class="line">        x += view.getX();</span><br><span class="line">        ViewGroup parent = (ViewGroup) view.getParent();</span><br><span class="line"></span><br><span class="line">        while (parent != content) &#123;</span><br><span class="line">            x += parent.getX();</span><br><span class="line">            parent = (ViewGroup) parent.getParent();</span><br><span class="line">        &#125;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取view在全局中的Y轴坐标点</span><br><span class="line">     *</span><br><span class="line">     * @param view</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static float getContentY(View view) &#123;</span><br><span class="line">        int y = 0;</span><br><span class="line">        Activity context = (Activity) view.getContext();</span><br><span class="line">        View content = ((ViewGroup) context.findViewById(android.R.id.content)).getChildAt(0);</span><br><span class="line">        y += view.getY();</span><br><span class="line">        ViewGroup parent = (ViewGroup) view.getParent();</span><br><span class="line"></span><br><span class="line">        while (parent != content) &#123;</span><br><span class="line">            y += parent.getY();</span><br><span class="line">            parent = (ViewGroup) parent.getParent();</span><br><span class="line">        &#125;</span><br><span class="line">        return y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置view在全局中的X轴坐标点</span><br><span class="line">     *</span><br><span class="line">     * @param view</span><br><span class="line">     * @param x</span><br><span class="line">     */</span><br><span class="line">    public static void setContentX(View view, float x) &#123;</span><br><span class="line">        Activity context = (Activity) view.getContext();</span><br><span class="line">        View content = ((ViewGroup) context.findViewById(android.R.id.content)).getChildAt(0);</span><br><span class="line">        ViewGroup parent = (ViewGroup) view.getParent();</span><br><span class="line">        while (parent != content) &#123;</span><br><span class="line">            x -= parent.getX();</span><br><span class="line">            parent = (ViewGroup) parent.getParent();</span><br><span class="line">        &#125;</span><br><span class="line">        view.setX(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 设置view在全局中的Y轴坐标点</span><br><span class="line">     *</span><br><span class="line">     * @param view</span><br><span class="line">     * @param y</span><br><span class="line">     */</span><br><span class="line">    public static void setContentY(View view, float y) &#123;</span><br><span class="line">        Activity context = (Activity) view.getContext();</span><br><span class="line">        View content = ((ViewGroup) context.findViewById(android.R.id.content)).getChildAt(0);</span><br><span class="line">        ViewGroup parent = (ViewGroup) view.getParent();</span><br><span class="line">        while (parent != content) &#123;</span><br><span class="line">            y -= parent.getY();</span><br><span class="line">            parent = (ViewGroup) parent.getParent();</span><br><span class="line">        &#125;</span><br><span class="line">        view.setY(y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure><h3 id="源码下载"><a href="#源码下载" class="headerlink" title="源码下载"></a>源码下载</h3><p> <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21lYW9vL2Jsb2dDb2RlRm9yR2l0SHViL3RyZWUvbWFzdGVyL0FuZHJvaWRUb0FjaGlldmVTaG9wcGluZ0NhcnRBbmltYXRpb24=" title="https://github.com/meaoo/blogCodeForGitHub/tree/master/AndroidToAchieveShoppingCartAnimation">GitHub<i class="fa fa-external-link"></i></span><br><span class="exturl" data-url="aHR0cDovL2dpdC5vc2NoaW5hLm5ldC9tZWFvby9ibG9nY29kZWZvcmdpdGh1Yi90cmVlL21hc3Rlci9BbmRyb2lkVG9BY2hpZXZlU2hvcHBpbmdDYXJ0QW5pbWF0aW9u" title="http://git.oschina.net/meaoo/blogcodeforgithub/tree/master/AndroidToAchieveShoppingCartAnimation">码云<i class="fa fa-external-link"></i></span> </p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android中OptionsMenu基本使用方法</title>
      <link href="/2017/07/21/20170721013.html"/>
      <url>/2017/07/21/20170721013.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>Android应用中，菜单的出现频率还是相当高的，但是如何在应用中创建一个菜单？这个不是问题，因为安卓提供了几种菜单的方式，比如，<code>popupmenu</code>和<code>optionmenu</code>等，今天在这里介绍一下<code>optionmenu</code>的基本使用法法，具体灵活使用，还有待各位去发现。</p></blockquote><h3 id="创建menu-xml"><a href="#创建menu-xml" class="headerlink" title="创建menu.xml"></a>创建menu.xml</h3><ul><li>在<code>res</code>目录上，右键，新建文件，选择<code>android resource file</code>，然后会出现下面的创建xml选项，这里注意<code>resource type</code>需要选择<code>menu</code>，<code>file name</code>自己决定就好了，如下图。</li></ul><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/81740394.jpg" alt="选择android resource file"></p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/54017466.jpg" alt="创建menu文件"></p><ul><li>点击确定，IDE会再<code>res</code>目录下，创建<code>menu</code>目录，同时还会创建一个刚才咱们选择的<code>menu</code>的xml文件。如下图</li></ul><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/23647557.jpg" alt="IDE创建的结果"></p><ul><li>然后在xml文件里，写<code>item</code>内容，当然,<code>item</code>里的就是菜单选项了。如下代码。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;item android:title=&quot;设置&quot;</span><br><span class="line">       android:id=&quot;@+id/menu_1&quot;/&gt;</span><br><span class="line"></span><br><span class="line"> &lt;item android:id=&quot;@+id/menu_2&quot;</span><br><span class="line">       android:title=&quot;搜索&quot;/&gt;</span><br><span class="line"></span><br><span class="line"> &lt;item android:title=&quot;我的&quot;</span><br><span class="line">       android:id=&quot;@+id/menu_3&quot;/&gt;</span><br></pre></td></tr></table></figure></li></ul><p>菜单xml创建好之后，我们就可以开始让菜单显示到页面上了。</p> <a id="more"></a><h3 id="构造菜单"><a href="#构造菜单" class="headerlink" title="构造菜单"></a>构造菜单</h3><p>在创建的<code>activity</code>文件里，重写<code>onCreateOptionsMenu</code>方法，代码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//构造菜单</span><br><span class="line">    @Override</span><br><span class="line">    public boolean onCreateOptionsMenu(Menu menu) &#123;</span><br><span class="line">        //动态向菜单中添加选项</span><br><span class="line">        //meu.add(menu组ID,menu的ID,上级menu的ID,需要显示的文本内容)</span><br><span class="line">        //上级menu的ID，只能是int类型，</span><br><span class="line">        //Menu.NONE的值为0</span><br><span class="line">        //动态创建出来的菜单ID是不会再R.ID中出现的，</span><br><span class="line">        //所以，如果需要使用到的话，就需要自行定制规则方便使用</span><br><span class="line">        menu.add(Menu.NONE, 123, Menu.NONE, &quot;急急急&quot;);</span><br><span class="line">        //菜单填充</span><br><span class="line">        getMenuInflater().inflate(R.menu.menu_def, menu);</span><br><span class="line"></span><br><span class="line">        //使菜单显示出来</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>菜单构造之后，我们运行一下，就会看到如下图界面，当然，这时候的菜单点击之后是没有任何反应的。</p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/72491101.jpg" alt="菜单显示效果"></p><h3 id="菜单触发事件"><a href="#菜单触发事件" class="headerlink" title="菜单触发事件"></a>菜单触发事件</h3><p>菜单触发事件，需要我们重写<code>onOptionsItemSelected</code>方法来实现。这里只写了一个简单的例子，剩余的需要各位自行探索。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//菜单触发事件</span><br><span class="line">    @Override</span><br><span class="line">    public boolean onOptionsItemSelected(MenuItem item) &#123;</span><br><span class="line">        switch (item.getItemId()) &#123;</span><br><span class="line">            case R.id.menu_1:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;设置&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.menu_2:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;搜索&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.menu_3:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;选择错误&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return super.onOptionsItemSelected(item);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>这时候，我们的菜单点击之后，就会有反应了，如下图。</p><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/13510774.jpg" alt="菜单点击触发事件"></p><h3 id="Avtivity完整代码"><a href="#Avtivity完整代码" class="headerlink" title="Avtivity完整代码"></a>Avtivity完整代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //构造菜单</span><br><span class="line">    @Override</span><br><span class="line">    public boolean onCreateOptionsMenu(Menu menu) &#123;</span><br><span class="line">        //动态向菜单中添加选项</span><br><span class="line">        //meu.add(menu组ID,menu的ID,上级menu的ID,需要显示的文本内容)</span><br><span class="line">        //上级menu的ID，只能是int类型，</span><br><span class="line">        //Menu.NONE的值为0</span><br><span class="line">        //动态创建出来的菜单ID是不会再R.ID中出现的，</span><br><span class="line">        //所以，如果需要使用到的话，就需要自行定制规则方便使用</span><br><span class="line">        menu.add(Menu.NONE, 123, Menu.NONE, &quot;急急急&quot;);</span><br><span class="line">        //菜单填充</span><br><span class="line">        getMenuInflater().inflate(R.menu.menu_def, menu);</span><br><span class="line"></span><br><span class="line">        //使菜单显示出来</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //菜单触发事件</span><br><span class="line">    @Override</span><br><span class="line">    public boolean onOptionsItemSelected(MenuItem item) &#123;</span><br><span class="line">        switch (item.getItemId()) &#123;</span><br><span class="line">            case R.id.menu_1:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;设置&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.menu_2:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;搜索&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            case R.id.menu_3:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;选择错误&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        return super.onOptionsItemSelected(item);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS修改IP地址</title>
      <link href="/2017/07/21/20170721014.html"/>
      <url>/2017/07/21/20170721014.html</url>
      
        <content type="html"><![CDATA[<h1 id="CentOS-修改IP地址"><a href="#CentOS-修改IP地址" class="headerlink" title="CentOS 修改IP地址"></a>CentOS 修改IP地址</h1><ul><li>修改IP都需要找到网卡配置文件<br><code>/etc/sysconfig/network-scripts/ifcfg-eth0</code></li><li>都需要进行DNS配置<br><code>/etc/resolv.conf</code></li><li>关闭防火墙<ol><li>关闭命令 <code>service iptables stop</code></li><li>永久关闭 <code>chkconfig iptables off</code></li></ol></li></ul> <a id="more"></a><hr><h2 id="CentOS-6-0版本修改方式"><a href="#CentOS-6-0版本修改方式" class="headerlink" title="CentOS 6.0版本修改方式"></a>CentOS 6.0版本修改方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet #网卡类型</span><br><span class="line">DEVICE=eth0 #网卡接口名称</span><br><span class="line">ONBOOT=yes #系统启动时是否自动加载</span><br><span class="line">BOOTPROTO=static #启用地址协议 --static:静态 IP --dhcp 自动获取</span><br><span class="line">IPADDR=192.168.1.11 #网卡 IP 地址</span><br><span class="line">NETMASK=255.255.255.0 #网卡网络地址</span><br><span class="line">GATEWAY=192.168.1.1 #网卡网关地址</span><br><span class="line">HWADDR=00:0C:29:13:5D:74 #网卡设备 MAC 地址[一般不能改]</span><br><span class="line">BROADCAST=192.168.1.255 #网卡广播地址 [可不写]</span><br></pre></td></tr></table></figure><h2 id="执行命令-service-network-restart-重启网络"><a href="#执行命令-service-network-restart-重启网络" class="headerlink" title=" 执行命令 service network restart 重启网络"></a> 执行命令 <code>service network restart</code> 重启网络</h2><h2 id="CentOS-7-0版本修改方式"><a href="#CentOS-7-0版本修改方式" class="headerlink" title="CentOS 7.0版本修改方式"></a>CentOS 7.0版本修改方式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">TYPE=Ethernet</span><br><span class="line">BOOTPROTO=static #启用地址协议 --static:静态 IP --dhcp 自动获取</span><br><span class="line">IPADDR=192.168.110.151 #网卡 IP 地址</span><br><span class="line">NETMASK=255.255.255.0 #网卡网管地址</span><br><span class="line">NM-CONTROLLED=no #该接口将通过该配置文件进行设置，而不是通过网络管理器进行管理</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">PEERDNS=yes</span><br><span class="line">PEERROUTES=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_PEERDNS=yes</span><br><span class="line">IPV6_PEERROUTES=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">NAME=enp0s3</span><br><span class="line">UUID=0532de27-d837-4c91-ac97-72c65c54051a</span><br><span class="line">DEVICE=enp0s3</span><br><span class="line">ONBOOT=yes #系统启动时是否自动加载</span><br></pre></td></tr></table></figure><ul><li>执行命令 <code>systemctl restart network.service</code> 重启网络</li><li>执行 <code>ip add</code> 查看是否配置正确</li></ul><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Tool </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx 开启GZIP压缩</title>
      <link href="/2017/07/21/20170721016.html"/>
      <url>/2017/07/21/20170721016.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gzip on;  #开启Gzip</span><br><span class="line">gzip_min_length 1k; #不压缩临界值，大于1K的才压缩，一般不用改</span><br><span class="line">gzip_buffers 4 16k;</span><br><span class="line">#gzip_http_version 1.0; #反向代理，一般不用开启</span><br><span class="line">gzip_comp_level 4; #压缩级别</span><br><span class="line">gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line">gzip_vary off; #压缩文件类型</span><br><span class="line">gzip_disable &quot;MSIE [1-6]\.&quot;; #ie浏览器不发送gzip</span><br></pre></td></tr></table></figure> <a id="more"></a><p>第1行：开启Gzip</p><p>第2行：不压缩临界值，大于1K的才压缩，一般不用改</p><p>第3行：buffer，就是，嗯，算了不解释了，不用改</p><p>第4行：用了反向代理的话，末端通信是HTTP/1.0，有需求的应该也不用看我这科普文了；有这句的话注释了就行了，默认是HTTP/1.1</p><p>第5行：压缩级别，1-10，数字越大压缩的越好，时间也越长，看心情随便改吧</p><p>第6行：进行压缩的文件类型，缺啥补啥就行了，JavaScript有两种写法，最好都写上吧，总有人抱怨js文件没有压缩，其实多写一种格式就行了</p><p>第7行：跟Squid等缓存服务有关，on的话会在Header里增加”Vary: Accept-Encoding”，我不需要这玩意，自己对照情况看着办吧</p><p>第8行：IE6对Gzip不怎么友好，不给它Gzip了</p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Nginx </tag>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android中Toast用法</title>
      <link href="/2017/07/21/20170721011.html"/>
      <url>/2017/07/21/20170721011.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>在Android开发中，我们经常会遇到需要给用户一个提示，但是又不想影响整体的体验，那么Toast出现了。Toast是Android中用来显示显示信息的一种机制，和Dialog不一样的是，Toast是没有焦点的，而且Toast显示的时间有限，过一定的时间就会自动消失。而且Toast主要用于向用户显示提示消息。</p></blockquote><h3 id="传参介绍"><a href="#传参介绍" class="headerlink" title="传参介绍"></a>传参介绍</h3><p><code>Toast.makeText(Context context, CharSequence text, @Duration int duration)</code></p><ul><li><code>contentx</code> ： 当前的上下文环境。可用<code>getApplicationContext()</code>或<code>this</code></li><li><code>text</code> ： 要显示的字符串。</li><li><code>duration</code> ： 显示的时间长短，以毫秒为单位。Toast默认的有两个<code>LENGTH_LONG</code>(长)和<code>LENGTH_SHORT</code>(短)，也可以使用毫秒如2000 </li></ul> <a id="more"></a><h3 id="显示的几种方式"><a href="#显示的几种方式" class="headerlink" title="显示的几种方式"></a>显示的几种方式</h3><ol><li>默认</li><li>自定义位置</li><li>带图片</li><li>完全自定义</li></ol><h3 id="页面布局"><a href="#页面布局" class="headerlink" title="页面布局"></a>页面布局</h3><p>几个<code>button</code>按钮，方便测试使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:layout_width=&quot;match_parent&quot;</span><br><span class="line">          android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">          android:text=&quot;默认的Toast&quot;</span><br><span class="line">          android:id=&quot;@+id/defaultToastBtn&quot;</span><br><span class="line">          android:textSize=&quot;20dp&quot;</span><br><span class="line">  /&gt;</span><br><span class="line"></span><br><span class="line"> &lt;Button android:layout_width=&quot;match_parent&quot;</span><br><span class="line">         android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">         android:text=&quot;自定义位置的Toast&quot;</span><br><span class="line">         android:id=&quot;@+id/customLocationBtn&quot;</span><br><span class="line">         android:layout_below=&quot;@id/defaultToastBtn&quot;</span><br><span class="line">         android:textSize=&quot;20dp&quot;</span><br><span class="line"> /&gt;</span><br><span class="line"></span><br><span class="line"> &lt;Button android:layout_width=&quot;match_parent&quot;</span><br><span class="line">         android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">         android:text=&quot;带图片的Toast&quot;</span><br><span class="line">         android:id=&quot;@+id/imageToastBtn&quot;</span><br><span class="line">         android:layout_below=&quot;@id/customLocationBtn&quot;</span><br><span class="line">         android:textSize=&quot;20dp&quot;</span><br><span class="line"> /&gt;</span><br><span class="line"></span><br><span class="line"> &lt;Button android:layout_width=&quot;match_parent&quot;</span><br><span class="line">         android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">         android:text=&quot;完全自定义的Toast&quot;</span><br><span class="line">         android:id=&quot;@+id/customToastBtn&quot;</span><br><span class="line">         android:layout_below=&quot;@id/imageToastBtn&quot;</span><br><span class="line">         android:textSize=&quot;20dp&quot;</span><br><span class="line"> /&gt;</span><br></pre></td></tr></table></figure><p><strong>显示效果</strong><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/90923882.jpg" alt="按钮布局效果"></p><h3 id="完全自定义页面"><a href="#完全自定义页面" class="headerlink" title="完全自定义页面"></a>完全自定义页面</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;ImageView android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:id=&quot;@+id/imageView&quot;</span><br><span class="line"> /&gt;</span><br><span class="line"> &lt;TextView android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">           android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">           android:id=&quot;@+id/textView&quot;</span><br><span class="line">           android:layout_below=&quot;@id/imageView&quot;</span><br><span class="line"> /&gt;</span><br></pre></td></tr></table></figure><h3 id="Activity处理"><a href="#Activity处理" class="headerlink" title="Activity处理"></a>Activity处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        //绑定监听事件</span><br><span class="line">        findViewById(R.id.defaultToastBtn).setOnClickListener(toastBtn);</span><br><span class="line">        findViewById(R.id.customLocationBtn).setOnClickListener(toastBtn);</span><br><span class="line">        findViewById(R.id.imageToastBtn).setOnClickListener(toastBtn);</span><br><span class="line">        findViewById(R.id.customToastBtn).setOnClickListener(toastBtn);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    View.OnClickListener toastBtn;</span><br><span class="line">    Handler handler;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        toastBtn = new View.OnClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            //监听事件处理方法</span><br><span class="line">            public void onClick(View v) &#123;</span><br><span class="line">                int what = 0;</span><br><span class="line">                Object obj = &quot;&quot;;</span><br><span class="line">                switch (v.getId()) &#123;</span><br><span class="line">                    case R.id.defaultToastBtn:</span><br><span class="line">                        what = 1;</span><br><span class="line">                        obj = &quot;默认的Toast&quot;;</span><br><span class="line">                        break;</span><br><span class="line">                    case R.id.customLocationBtn:</span><br><span class="line">                        what = 2;</span><br><span class="line">                        obj = &quot;自定义位置的Toast&quot;;</span><br><span class="line">                        break;</span><br><span class="line">                    case R.id.imageToastBtn:</span><br><span class="line">                        what = 3;</span><br><span class="line">                        obj = &quot;带图片的Toast&quot;;</span><br><span class="line">                        break;</span><br><span class="line">                    case R.id.customToastBtn:</span><br><span class="line">                        what = 4;</span><br><span class="line">                        obj = &quot;完全自定义的Toast&quot;;</span><br><span class="line">                        break;</span><br><span class="line">                    default:</span><br><span class="line">                        what = 0;</span><br><span class="line">                        obj = &quot;数据错误&quot;;</span><br><span class="line">                        break;</span><br><span class="line">                &#125;</span><br><span class="line">                handler.obtainMessage(what, obj).sendToTarget();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        handler = new Handler(Looper.getMainLooper()) &#123;</span><br><span class="line">            @Override</span><br><span class="line">            //消息提示处理</span><br><span class="line">            public void handleMessage(Message message) &#123;</span><br><span class="line">                Toast toast;</span><br><span class="line">                ImageView imageView;</span><br><span class="line">                switch (message.what) &#123;</span><br><span class="line">                    case 0:</span><br><span class="line">                        Toast.makeText(getApplicationContext(), message.obj.toString(), Toast.LENGTH_SHORT).show();</span><br><span class="line">                        break;</span><br><span class="line">                    case 1:</span><br><span class="line">                        //默认</span><br><span class="line">                        Toast.makeText(getApplicationContext(), message.obj.toString(), Toast.LENGTH_SHORT).show();</span><br><span class="line">                        break;</span><br><span class="line">                    case 2:</span><br><span class="line">                        //自定义</span><br><span class="line">                        toast = Toast.makeText(getApplicationContext(), message.obj.toString(), Toast.LENGTH_LONG);</span><br><span class="line">                        toast.setGravity(Gravity.CENTER, 0, 0);// 居中显示</span><br><span class="line">                        toast.show();</span><br><span class="line">                        break;</span><br><span class="line">                    case 3:</span><br><span class="line">                        //带图片</span><br><span class="line">                        toast = Toast.makeText(getApplicationContext(), message.obj.toString(), Toast.LENGTH_LONG);</span><br><span class="line">                        toast.setGravity(Gravity.TOP, 0, 0);// 最上方显示</span><br><span class="line">                        LinearLayout toastLayout = (LinearLayout) toast.getView();</span><br><span class="line">                        imageView = new ImageView(getApplicationContext());</span><br><span class="line">                        imageView.setImageResource(R.drawable.ic_launcher);</span><br><span class="line">                        toastLayout.addView(imageView, 0);// 0 图片在文字的上方 ， 1 图片在文字的下方</span><br><span class="line">                        toast.show();</span><br><span class="line">                        break;</span><br><span class="line">                    case 4:</span><br><span class="line">                        //完全自定义，需要创建一个xml模板</span><br><span class="line">                        LayoutInflater inflater = getLayoutInflater();// LayoutInflater对象</span><br><span class="line">                        View layout = inflater.inflate(R.layout.custom_view, null);</span><br><span class="line">                        imageView = (ImageView) layout.findViewById(R.id.imageView);</span><br><span class="line">                        TextView text = (TextView) layout.findViewById(R.id.textView);</span><br><span class="line">                        imageView.setImageResource(R.drawable.ic_launcher);</span><br><span class="line">                        text.setText(message.obj.toString());</span><br><span class="line"></span><br><span class="line">                        toast = new Toast(getApplicationContext());</span><br><span class="line">                        // 底部 、水平居中,X偏移50 Y偏移50</span><br><span class="line">                        toast.setGravity(Gravity.CENTER_HORIZONTAL | Gravity.BOTTOM, 50, 50);</span><br><span class="line">                        toast.setDuration(Toast.LENGTH_SHORT);</span><br><span class="line">                        toast.setView(layout);</span><br><span class="line">                        toast.show();</span><br><span class="line">                        break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>运行效果图</strong></p><ul><li>默认<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/86789629.jpg" alt="默认"></li><li>自定义位置<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/85657168.jpg" alt="自定义位置"></li><li>带图片<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/32648017.jpg" alt="带图片"></li><li>完全自定义<br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/40741446.jpg" alt="完全自定义"></li></ul><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP函数mb_strlen函数由于版本问题导致中文字符截断问题</title>
      <link href="/2017/07/21/20170721017.html"/>
      <url>/2017/07/21/20170721017.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>由于个版本之间的差别,本文使用在线php运行测试,<code>5.4</code>,<code>5.5</code>,<code>5.6</code>版本之间的差别</p></blockquote><h1 id="5-4-版本运行代码及运行结果"><a href="#5-4-版本运行代码及运行结果" class="headerlink" title="5.4 版本运行代码及运行结果"></a>5.4 版本运行代码及运行结果</h1><p>这里不知道是在线运行平台的原因还是版本确实不支持,这里的提示为没有找到相关的函数.但是官方明确表明,该函数在<code>4.0.6</code>版本中已经加入.如果各位感兴趣可以在本地使用<code>5.4</code>版本进行测试一下,如果提示不相同或者是可以运行,还望邮件提醒我一下.</p><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> PHP_VERSION;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/br&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> mb_strlen(<span class="string">'测试一段文字'</span>,<span class="string">'utf8'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5.4</span><span class="number">.43</span></span><br><span class="line">PHP Fatal error: Call to undefined <span class="function"><span class="keyword">function</span> <span class="title">mb_strlen</span><span class="params">()</span> <span class="title">in</span> /<span class="title">tmp</span>/<span class="title">f3735731</span>-<span class="title">fefa</span>-4<span class="title">fbb</span>-823<span class="title">e</span>-268<span class="title">a0af5ceff</span>/<span class="title">code</span> <span class="title">on</span> <span class="title">line</span> 4</span></span><br></pre></td></tr></table></figure> <a id="more"></a><h1 id="5-5-版本运行代码及运行结果"><a href="#5-5-版本运行代码及运行结果" class="headerlink" title="5.5 版本运行代码及运行结果"></a>5.5 版本运行代码及运行结果</h1><p>在<code>5.5</code>这个版本测试中,会出现一个奇怪的现象.如果第二个参数不传递,会统计错误.但是官方的说明中,已经明确说出,<code>encoding 参数为字符编码。如果省略，则使用内部字符编码。</code>.但是在测试中,如果省略,会被当做英文字符进行统计.当然这个说法是相对于<code>5.6</code>版本来说的.</p><h5 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> PHP_VERSION;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/br&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> mb_strlen(<span class="string">'测试一段文字'</span>,<span class="string">'utf8'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="运行结果-1"><a href="#运行结果-1" class="headerlink" title="运行结果"></a>运行结果</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5.5.9-1ubuntu4</span><br><span class="line">6</span><br></pre></td></tr></table></figure><h3 id="5-5不传传递编码格式参数的运行代码及运行结果"><a href="#5-5不传传递编码格式参数的运行代码及运行结果" class="headerlink" title="5.5不传传递编码格式参数的运行代码及运行结果"></a><code>5.5</code>不传传递编码格式参数的运行代码及运行结果</h3><h5 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> PHP_VERSION;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/br&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> mb_strlen(<span class="string">'测试一段文字'</span>,<span class="string">'utf8'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="运行结果-2"><a href="#运行结果-2" class="headerlink" title="运行结果"></a>运行结果</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5.5.9-1ubuntu4</span><br><span class="line">18</span><br></pre></td></tr></table></figure><h1 id="5-6版本运行代码及运行结果"><a href="#5-6版本运行代码及运行结果" class="headerlink" title="5.6版本运行代码及运行结果"></a>5.6版本运行代码及运行结果</h1><p>在<code>5.6</code>版本中运行,对于我个人理解,是一个比较正确可以接受的结果.</p><h5 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> PHP_VERSION;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/br&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> mb_strlen(<span class="string">'测试一段文字'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="运行结果-3"><a href="#运行结果-3" class="headerlink" title="运行结果"></a>运行结果</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5.6</span><span class="number">.9</span><span class="number">-0</span>+deb8u1</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure><h3 id="5-6传递编码格式参数的运行代码及运行结果"><a href="#5-6传递编码格式参数的运行代码及运行结果" class="headerlink" title="5.6传递编码格式参数的运行代码及运行结果"></a><code>5.6</code>传递编码格式参数的运行代码及运行结果</h3><h5 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> PHP_VERSION;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;/br&gt;'</span>;</span><br><span class="line"><span class="keyword">echo</span> mb_strlen(<span class="string">'测试一段文字'</span>,<span class="string">'utf8'</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h5 id="运行结果-4"><a href="#运行结果-4" class="headerlink" title="运行结果"></a>运行结果</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5.6</span><span class="number">.9</span><span class="number">-0</span>+deb8u1</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure><h5 id="测试就到这里-另外我个人还测试了一下7-0版本的运行结果-与5-6版本运行结果是相同的"><a href="#测试就到这里-另外我个人还测试了一下7-0版本的运行结果-与5-6版本运行结果是相同的" class="headerlink" title="测试就到这里,另外我个人还测试了一下7.0版本的运行结果,与5.6版本运行结果是相同的."></a>测试就到这里,另外我个人还测试了一下<code>7.0</code>版本的运行结果,与<code>5.6</code>版本运行结果是相同的.</h5><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git常用命令</title>
      <link href="/2017/07/21/20170721015.html"/>
      <url>/2017/07/21/20170721015.html</url>
      
        <content type="html"><![CDATA[<h1 id="GIT常用命令"><a href="#GIT常用命令" class="headerlink" title="GIT常用命令"></a>GIT常用命令</h1> <a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name #你是谁</span><br><span class="line"></span><br><span class="line">$ git config --global user.email #怎么联系你</span><br><span class="line">$ git config --add core.filemode false #不检测文件模式</span><br><span class="line"></span><br><span class="line">$ cd E:/ #切换目录</span><br><span class="line">$ mkdir test #创建目录</span><br><span class="line">$ git init  #创建git文件</span><br><span class="line"></span><br><span class="line">$ git status  #查看仓库状态</span><br><span class="line">$ git add . #添加文件</span><br><span class="line">$ git commit -m &apos;备注&apos; #提交到仓库</span><br><span class="line">$ git rm a.php #删除a.php</span><br><span class="line"></span><br><span class="line">$ git remote add origin 远程仓库地址 #设置远程仓库地址  (设置一次即可)</span><br><span class="line">$ git push origin master  #推送代码到远程服务器的master分支</span><br><span class="line"></span><br><span class="line">$ git clone 远程仓库地址 #团队协作，新加入成员克隆仓库到本地</span><br><span class="line">$ git log #查看日志</span><br><span class="line">$ git log --pretty=online #让日志单行显示</span><br><span class="line">$ git reset --hard HEAD~1  #切换到版本1</span><br><span class="line"></span><br><span class="line">$ git branch 版本名 #创建版本分支</span><br><span class="line">$ git branch #查看分支</span><br><span class="line">$ git branch -r #查看远程分支</span><br><span class="line">$ git branch -r -d origin/branch-name #删除远程分支  </span><br><span class="line">$ git push origin :branch-name #提交分支删除</span><br><span class="line">$ git checkout 版本名 #切换版本</span><br><span class="line">$ git branch -d 版本名 #删除版本</span><br><span class="line">$ git merge 版本名 #合并分支</span><br><span class="line">$ git remote -v #查看远程库</span><br><span class="line">$ git remote remove 远程库名 #删除远程库别名</span><br><span class="line"></span><br><span class="line">$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot; #根据邮件地址，生成公共密匙 （一直回车）</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Tool </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHP计算两时间差</title>
      <link href="/2017/07/21/20170721018.html"/>
      <url>/2017/07/21/20170721018.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>这个需求是计算两个时间的差值,当然PHP在5.3版本已经提供了相关的计算函数,本文也会有该函数的示例,除了PHP提供的解决方法之外,这里会再提供几种解决方式以供参考.<br>需求如下</p><ol><li>差值小于24小时,为今天</li><li>差值小于30天,直接显示剩余天数</li><li>差值大于30天,显示1月之后</li></ol></blockquote><h3 id="内置函数解决方案"><a href="#内置函数解决方案" class="headerlink" title="内置函数解决方案"></a>内置函数解决方案</h3><p>使用函数<code>date_diff</code>计算两日期差值,返回的是<code>DateInterval</code>的object数据,直接根据相关需求进行数据处理即可.==注意:传入日期格式,对传入日期进行格式化==,当然关于天的计算标准,需要根据情况来看,比如1月1号到1月5号,系统计算出来的是4天,但是人们会认为1号到5号是5天,这个根据实际情况来进行一个细节处理.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 传入日期格式 2017-01-23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $begin_time</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> $end_time</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> DateInterval|false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">time_difference</span> <span class="params">( $begin_time , $end_time )</span> </span>&#123;</span><br><span class="line">    $datetime1 = date_create ( $begin_time );</span><br><span class="line">    $datetime2 = date_create ( $end_time );</span><br><span class="line">    $interval = date_diff ( $datetime1 , $datetime2 );</span><br><span class="line">    <span class="keyword">return</span> $interval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> <a id="more"></a><p>输出与结果</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输出</span></span><br><span class="line">$a = time_difference(<span class="string">'2017-1-1'</span>,<span class="string">'2017-1-5'</span>);</span><br><span class="line">var_dump($a);</span><br><span class="line"></span><br><span class="line"><span class="comment">//结果</span></span><br><span class="line"></span><br><span class="line">object(DateInterval)<span class="comment">#3 (15) &#123;</span></span><br><span class="line">  [<span class="string">"y"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"m"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"d"</span>]=&gt;</span><br><span class="line">  int(<span class="number">4</span>)</span><br><span class="line">  [<span class="string">"h"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"i"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"s"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"weekday"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"weekday_behavior"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"first_last_day_of"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"invert"</span>]=&gt;</span><br><span class="line">  int(<span class="number">1</span>)</span><br><span class="line">  [<span class="string">"days"</span>]=&gt;</span><br><span class="line">  int(<span class="number">4</span>)</span><br><span class="line">  [<span class="string">"special_type"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"special_amount"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"have_weekday_relative"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">  [<span class="string">"have_special_relative"</span>]=&gt;</span><br><span class="line">  int(<span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="简单粗暴方式"><a href="#简单粗暴方式" class="headerlink" title="简单粗暴方式"></a>简单粗暴方式</h3><p>根据需求,直接使用比较原始,比较有效的方式进行计算即可.当然这种方式的局限性比较大,根据情况自行决定是否使用.<br>代码示例</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$num = strtotime(<span class="string">'2017-1-5'</span>) - strtotime(<span class="string">'2017-1-1'</span>);</span><br><span class="line">$diff = floor($num/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>);</span><br><span class="line"><span class="keyword">if</span>($diff &gt;= <span class="number">30</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'1月'</span>;</span><br><span class="line">&#125;<span class="keyword">elseif</span>($diff &gt;=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> ($diff+<span class="number">1</span>).<span class="string">'天'</span>; <span class="comment">//这里是否+1自己决定,上面已经说过,不再赘述</span></span><br><span class="line">&#125;<span class="keyword">elseif</span>($diff &lt; <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">'今天'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果<code>5天</code></p><h3 id="时间差计算"><a href="#时间差计算" class="headerlink" title="时间差计算"></a>时间差计算</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">time2Units</span> <span class="params">( $time )</span> </span>&#123;</span><br><span class="line">    $year = floor ( $time / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span> / <span class="number">365</span> );</span><br><span class="line">    $time -= $year * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">365</span>;</span><br><span class="line">    $month = floor ( $time / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span> / <span class="number">30</span> );</span><br><span class="line">    $time -= $month * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">30</span>;</span><br><span class="line">    $week = floor ( $time / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span> / <span class="number">7</span> );</span><br><span class="line">    $time -= $week * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">7</span>;</span><br><span class="line">    $day = floor ( $time / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span> );</span><br><span class="line">    $time -= $day * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span>;</span><br><span class="line">    $hour = floor ( $time / <span class="number">60</span> / <span class="number">60</span> );</span><br><span class="line">    $time -= $hour * <span class="number">60</span> * <span class="number">60</span>;</span><br><span class="line">    $minute = floor ( $time / <span class="number">60</span> );</span><br><span class="line">    $time -= $minute * <span class="number">60</span>;</span><br><span class="line">    $second = $time;</span><br><span class="line">    $elapse = <span class="string">''</span>;</span><br><span class="line">    </span><br><span class="line">    $unitArr = <span class="keyword">array</span> ( <span class="string">'年'</span> =&gt; <span class="string">'year'</span> , </span><br><span class="line">                       <span class="string">'个月'</span> =&gt; <span class="string">'month'</span> ,</span><br><span class="line">                       <span class="string">'周'</span> =&gt; <span class="string">'week'</span> , </span><br><span class="line">                       <span class="string">'天'</span> =&gt; <span class="string">'day'</span> ,</span><br><span class="line">                       <span class="string">'小时'</span> =&gt; <span class="string">'hour'</span> ,</span><br><span class="line">                       <span class="string">'分钟'</span> =&gt; <span class="string">'minute'</span> , </span><br><span class="line">                       <span class="string">'秒'</span> =&gt; <span class="string">'second'</span></span><br><span class="line">                       );</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">foreach</span> ( $unitArr <span class="keyword">as</span> $cn =&gt; $u ) &#123;</span><br><span class="line">        <span class="keyword">if</span> ( $$u &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">            $elapse = $$u . $cn;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> $elapse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出与解决</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line">$num = strtotime(<span class="string">'2017-1-5'</span>) - strtotime(<span class="string">'2017-1-1'</span>);</span><br><span class="line"><span class="keyword">echo</span> time2Units ( $num );</span><br><span class="line"></span><br><span class="line"><span class="comment">//结果</span></span><br><span class="line"><span class="number">4</span>天</span><br></pre></td></tr></table></figure><p>这里就介绍着三种计算时间差的方法,当然计算时间差方法不只是这三种,可以说这种方法根据自己的想法来做,会出现很多种计算方式,可能每个人的做法都不相同,当然最后的计算结果对了才是最重要的.</p><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redio和CheckBox自定义样式，模仿Check</title>
      <link href="/2017/07/21/20170721019.html"/>
      <url>/2017/07/21/20170721019.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>模仿ICheck制作轻量级<code>redio</code>和<code>checkbox</code>样式修改</p></blockquote><a id="more"></a><h3 id="CSS部分"><a href="#CSS部分" class="headerlink" title="CSS部分"></a>CSS部分</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">            margin: 0px;</span><br><span class="line">            padding: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox, .radio &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            *display: inline;</span><br><span class="line">            *zoom: 1;</span><br><span class="line">            height: 24px;</span><br><span class="line">            line-height: 24px;</span><br><span class="line">            margin-right: 20px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox ins, .radio ins &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            *display: inline;</span><br><span class="line">            *zoom: 1;</span><br><span class="line">            width: 23px;</span><br><span class="line">            height: 22px;</span><br><span class="line">            vertical-align: middle;</span><br><span class="line">            background: url(http://www.bootcss.com/p/icheck/skins/square/blue.png) no-repeat;</span><br><span class="line">            margin-right: 8px;</span><br><span class="line">            -webkit-transition: all 0.1s linear;</span><br><span class="line">            -moz-transition: all 0.1s linear;</span><br><span class="line">            -o-transition: all 0.1s linear;</span><br><span class="line">            -ms-transition: all 0.1s linear;</span><br><span class="line">            transition: all 0.1s linear;</span><br><span class="line">            vertical-align: middle;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox ins &#123;</span><br><span class="line">            background-position: 0px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .radio ins &#123;</span><br><span class="line">            background-position: -120px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox .hover &#123;</span><br><span class="line">            background-position: -24px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox .checked &#123;</span><br><span class="line">            background-position: -48px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox .enable &#123;</span><br><span class="line">            background-position: -96px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox .disabled &#123;</span><br><span class="line">            background-position: -72px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .radio .hover &#123;</span><br><span class="line">            background-position: -144px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .radio .checked &#123;</span><br><span class="line">            background-position: -168px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .radio .enable &#123;</span><br><span class="line">            background-position: -214px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .radio .disabled &#123;</span><br><span class="line">            background-position: -191px 0px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .checkbox span, .radio span &#123;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            *display: inline;</span><br><span class="line">            *zoom: 1;</span><br><span class="line">            vertical-align: middle;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .sport, .sex &#123;</span><br><span class="line">            width: 950px;</span><br><span class="line">            margin: 100px auto;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="HTML部分"><a href="#HTML部分" class="headerlink" title="HTML部分"></a>HTML部分</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;sport&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;checkbox&quot; name=&quot;sport&quot; value=&quot;basketball&quot;&gt;</span><br><span class="line">        &lt;ins&gt;&lt;/ins&gt;</span><br><span class="line">        &lt;span&gt;篮球&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;checkbox&quot; name=&quot;sport&quot; value=&quot;football&quot;&gt;</span><br><span class="line">        &lt;ins&gt;&lt;/ins&gt;</span><br><span class="line">        &lt;span&gt;足球&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;checkbox&quot; name=&quot;sport&quot; value=&quot;volleyball&quot;&gt;</span><br><span class="line">        &lt;ins&gt;&lt;/ins&gt;</span><br><span class="line">        &lt;span&gt;排球&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;checkbox&quot; name=&quot;sport&quot; value=&quot;unsport&quot;&gt;</span><br><span class="line">        &lt;ins class=&quot;disabled&quot;&gt;&lt;/ins&gt;</span><br><span class="line">        &lt;span&gt;未选中不可点击&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;checkbox&quot; name=&quot;sport&quot; value=&quot;sported&quot;&gt;</span><br><span class="line">        &lt;ins class=&quot;enable&quot;&gt;&lt;/ins&gt;</span><br><span class="line">        &lt;span&gt;选中不可点击&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="JS部分"><a href="#JS部分" class="headerlink" title="JS部分"></a>JS部分</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">(function ($) &#123;</span><br><span class="line">        $.icheck = &#123;</span><br><span class="line">            init: function () &#123;</span><br><span class="line">                var _this = this;</span><br><span class="line">                _this._checkbox = &quot;checkbox&quot;;</span><br><span class="line">                _this._radio = &quot;radio&quot;;</span><br><span class="line">                _this._disabled = &quot;disabled&quot;;</span><br><span class="line">                _this._enable = &quot;enable&quot;;</span><br><span class="line">                _this._checked = &quot;checked&quot;;</span><br><span class="line">                _this._hover = &quot;hover&quot;;</span><br><span class="line">                _this._arrtype = [_this._checkbox, _this._radio];</span><br><span class="line">                _this._mobile = /ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);</span><br><span class="line">                $.each(_this._arrtype, function (k, v) &#123;</span><br><span class="line">                    _this.click(v);</span><br><span class="line">                    if (!_this._mobile) &#123;</span><br><span class="line">                        _this.mouseover(v);</span><br><span class="line">                        _this.mouseout(v);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            click: function (elem) &#123;</span><br><span class="line">                var _this = this;</span><br><span class="line">                elem = &quot;.&quot; + elem;</span><br><span class="line">                $(document).on(&quot;click&quot;, elem, function () &#123;</span><br><span class="line">                    var $this = $(this),</span><br><span class="line">                        _ins = $this.find(&quot;ins&quot;);</span><br><span class="line">                    if (!(_ins.hasClass(_this._disabled) || _ins.hasClass(_this._enable))) &#123;</span><br><span class="line">                        if (!!_ins.hasClass(_this._checked)) &#123;</span><br><span class="line">                            _ins.removeClass(_this._checked).addClass(_this._hover);</span><br><span class="line">                        &#125; else &#123;</span><br><span class="line">                            if (/radio/ig.test(elem)) &#123;</span><br><span class="line">                                var _name = $this.attr(&quot;name&quot;);</span><br><span class="line">                                $(elem + &quot;[name=&quot; + _name + &quot;]&quot;).find(&quot;ins&quot;).removeClass(_this._checked);</span><br><span class="line">                            &#125;</span><br><span class="line">                            $(elem).find(&quot;ins&quot;).removeClass(_this._hover);</span><br><span class="line">                            _ins.addClass(_this._checked);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            mouseover: function (elem) &#123;</span><br><span class="line">                var _this = this;</span><br><span class="line">                elem = &quot;.&quot; + elem;</span><br><span class="line">                $(document).on(&quot;mouseover&quot;, elem, function () &#123;</span><br><span class="line">                    var $this = $(this);</span><br><span class="line">                    var _ins = $this.find(&quot;ins&quot;);</span><br><span class="line">                    if (!(_ins.hasClass(_this._disabled) || _ins.hasClass(_this._enable) || _ins.hasClass(_this._checked))) &#123;</span><br><span class="line">                        _ins.addClass(_this._hover);</span><br><span class="line">                        $this.css(&quot;cursor&quot;, &quot;pointer&quot;);</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        $this.css(&quot;cursor&quot;, &quot;default&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            mouseout: function (elem) &#123;</span><br><span class="line">                var _this = this;</span><br><span class="line">                elem = &quot;.&quot; + elem;</span><br><span class="line">                $(document).on(&quot;mouseout&quot;, elem, function () &#123;</span><br><span class="line">                    $(elem).find(&quot;ins&quot;).removeClass(_this._hover);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        $.icheck.init();</span><br><span class="line"></span><br><span class="line">    &#125;)(jQuery);</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> Tool </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WordPress富文本编辑器添加按钮</title>
      <link href="/2017/07/21/20170721020.html"/>
      <url>/2017/07/21/20170721020.html</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>需求描述：</li><li>在wordpress富文本编辑器中，添加按钮，进行站外视频添加。</li></ul></blockquote><h3 id="当前使用模板的function-php添加"><a href="#当前使用模板的function-php添加" class="headerlink" title="当前使用模板的function.php添加"></a>当前使用模板的function.php添加</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// 挂载函数到正确的钩子</span><br><span class="line">function my_add_mce_button() &#123;</span><br><span class="line">    // 检查用户权限</span><br><span class="line">    if ( !current_user_can( &apos;edit_posts&apos; ) &amp;&amp; !current_user_can( &apos;edit_pages&apos; ) ) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    // 检查是否启用可视化编辑</span><br><span class="line">    if ( &apos;true&apos; == get_user_option( &apos;rich_editing&apos; ) ) &#123;</span><br><span class="line">        add_filter( &apos;mce_external_plugins&apos;, &apos;my_add_tinymce_plugin&apos; );</span><br><span class="line">        add_filter( &apos;mce_buttons&apos;, &apos;my_register_mce_button&apos; );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">add_action(&apos;admin_head&apos;, &apos;my_add_mce_button&apos;);</span><br><span class="line"></span><br><span class="line">// 声明新按钮的脚本</span><br><span class="line">function my_add_tinymce_plugin( $plugin_array ) &#123;</span><br><span class="line">    $plugin_array[&apos;iframe_video_button&apos;] = get_template_directory_uri() .&apos;/js/media_button.js&apos;;</span><br><span class="line">    return $plugin_array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 在编辑器上注册新按钮</span><br><span class="line">function my_register_mce_button( $buttons ) &#123;</span><br><span class="line">    array_push( $buttons, &apos;iframe_video_button&apos; );</span><br><span class="line">    return $buttons;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="在当前使用模板的-js目录下创建media-buton-js"><a href="#在当前使用模板的-js目录下创建media-buton-js" class="headerlink" title="在当前使用模板的/js目录下创建media.buton.js"></a>在当前使用模板的/js目录下创建media.buton.js</h3><blockquote><p>将下面代码复制到media.buton.js内</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">(function () &#123;</span><br><span class="line">    tinymce.PluginManager.add(&apos;iframe_video_button&apos;, function (editor, url) &#123;</span><br><span class="line">        editor.addButton(&apos;iframe_video_button&apos;, &#123;</span><br><span class="line">            text: &apos;添加视频&apos;,</span><br><span class="line">            icon: false,</span><br><span class="line">            onclick: function () &#123;</span><br><span class="line">                //editor.insertContent(&apos;WPExplorer.com is awesome!&apos;);</span><br><span class="line">                editor.windowManager.open(&#123;</span><br><span class="line">                    title: &apos;请输入视频地址&apos;,</span><br><span class="line">                    body: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            type: &apos;textbox&apos;,</span><br><span class="line">                            name: &apos;videoUrl&apos;,</span><br><span class="line">                            minWidth: 400,</span><br><span class="line">                            minHeight: 30,</span><br><span class="line">                            multiline: true,</span><br><span class="line">                            value: &apos;&apos;</span><br><span class="line">                        &#125;</span><br><span class="line">                    ],</span><br><span class="line">                    onsubmit: function (e) &#123;</span><br><span class="line">                        //获取输入内容</span><br><span class="line">                        var str = e.data.videoUrl;</span><br><span class="line">                        var videoUrl = &apos;&apos;;</span><br><span class="line">                        var pxStr = &apos;&apos;;</span><br><span class="line">                        if (str.indexOf(&apos;iframe&apos;) &lt; 1) &#123;</span><br><span class="line">                            var videoId = &apos;&apos;;</span><br><span class="line"></span><br><span class="line">                            //直接输入浏览器地址处理</span><br><span class="line">                            if (str.indexOf(&apos;youku&apos;) &gt; 0) &#123;</span><br><span class="line">                                //优酷处理</span><br><span class="line"></span><br><span class="line">                                //截取视频ID</span><br><span class="line">                                str = str.substr(str.indexOf(&apos;id_&apos;) + 3);</span><br><span class="line">                                videoId = str.substr(0, str.indexOf(&apos;.&apos;));</span><br><span class="line">                                //将地址拼接到iframe ，输出到编辑器</span><br><span class="line">                                editor.insertContent(&apos;&lt;iframe frameborder=&quot;0&quot; width=&quot;99%&quot; height=&quot;498&quot; src=&quot;http://player.youku.com/embed/&apos; + videoId + &apos;&quot; allowfullscreen&gt;&lt;/iframe&gt; &apos;);</span><br><span class="line">                                return true;</span><br><span class="line">                            &#125; else if (str.indexOf(&apos;qq&apos;) &gt; 0) &#123;</span><br><span class="line">                                //腾讯视频处理</span><br><span class="line"></span><br><span class="line">                                //截取视频ID</span><br><span class="line">                                if(str.indexOf(&apos;vid&apos;) &gt;0)&#123;</span><br><span class="line">                                    videoId = str.substr(str.indexOf(&apos;vid&apos;)+4);</span><br><span class="line">                                &#125;else&#123;</span><br><span class="line">                                    str = str.substr(0, str.indexOf(&apos;.html&apos;));</span><br><span class="line">                                    videoId = str.substr(str.lastIndexOf(&apos;/&apos;) + 1);</span><br><span class="line">                                &#125;</span><br><span class="line">                                //将地址拼接到iframe ，输出到编辑器</span><br><span class="line">                                editor.insertContent(&apos;&lt;iframe frameborder=&quot;0&quot; width=&quot;99%&quot; height=&quot;498&quot; src=&quot;http://v.qq.com/iframe/player.html?vid=&apos; + videoId +  &apos;&amp;tiny=0&amp;auto=0&quot; allowfullscreen&gt;&lt;/iframe&gt; &apos;);</span><br><span class="line">                                return true;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                alert(&apos;输入地址错误，请重新输入&apos;);</span><br><span class="line">                                return false;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        //截取http之前一个标识符，方便配对结束标识符</span><br><span class="line">                        pxStr = str.substr(str.indexOf(&apos;http&apos;) - 1, 1);</span><br><span class="line">                        //截取前半部分地址</span><br><span class="line">                        str = str.substr(str.indexOf(&apos;http&apos;));</span><br><span class="line">                        videoUrl = str.substr(0, str.indexOf(pxStr));</span><br><span class="line"></span><br><span class="line">                        //将地址拼接到iframe ，输出到编辑器</span><br><span class="line">                        editor.insertContent(&apos;&lt;iframe frameborder=&quot;0&quot; width=&quot;99%&quot; height=&quot;498&quot; src=&quot;&apos; + videoUrl + &apos;&quot; allowfullscreen&gt;&lt;/iframe&gt; &apos;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WordPress通过Filters更改qurey_posts()产生的SQL语句</title>
      <link href="/2017/07/21/20170721021.html"/>
      <url>/2017/07/21/20170721021.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>通过<code>query_posts()</code>的<code>filters</code>更改其产生的SQL语句,可以做想针对复杂的查询,如与其他数据库表进行联合查询,更改<code>select</code>选择的字段等等.并且可以享用<code>query_posts()</code>带来的好处,例如分页.</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可用的filters有</span></span><br><span class="line"></span><br><span class="line">posts_join</span><br><span class="line">posts_groupby</span><br><span class="line">posts_orderby</span><br><span class="line">posts_distinct</span><br><span class="line">posts_fields</span><br><span class="line">post_limits</span><br><span class="line">posts_where_paged</span><br><span class="line">posts_join_paged</span><br><span class="line">posts_request</span><br></pre></td></tr></table></figure> <a id="more"></a><h3 id="例如增加where查询语句"><a href="#例如增加where查询语句" class="headerlink" title="例如增加where查询语句"></a>例如增加<code>where</code>查询语句</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">posts_where_field</span> <span class="params">($fields)</span></span>&#123;</span><br><span class="line">    <span class="keyword">global</span> $wp_query ;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>($_GET[<span class="string">'are'</span>]))&#123;</span><br><span class="line">        $fields .= <span class="string">" AND  wp_posts.post_exhibition_are = "</span>.$_GET[<span class="string">'are'</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>($_GET[<span class="string">'city'</span>]))&#123;</span><br><span class="line">        $fields .= <span class="string">" AND wp_posts.post_exhibition_city = "</span>.$_GET[<span class="string">'city'</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $fields;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add_filter(<span class="string">'posts_where_paged'</span>,<span class="string">'posts_where_field'</span>);</span><br></pre></td></tr></table></figure><h3 id="例如增加order查询语句"><a href="#例如增加order查询语句" class="headerlink" title="例如增加order查询语句"></a>例如增加<code>order</code>查询语句</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">posts_orderby_field</span><span class="params">($fields)</span></span>&#123;</span><br><span class="line">    <span class="keyword">global</span> $wp_query ;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">empty</span>($_GET[<span class="string">'fa'</span>]))&#123;</span><br><span class="line">        <span class="keyword">switch</span>($_GET[<span class="string">'fa'</span>])&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                $fields = <span class="string">" wp_posts.post_fa_begintime ASC "</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                $fields = <span class="string">" wp_posts.post_fa_begintime DESC "</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                $fields = <span class="string">" wp_posts.post_date DESC"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                $fields = <span class="string">" wp_posts.post_date ASC"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $fields;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add_filter(<span class="string">'posts_where_paged'</span>,<span class="string">'posts_where_field'</span>);</span><br></pre></td></tr></table></figure><h3 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h3><p>如果对上面的内容有任何疑问或者问题，无法得到解决，请与我联系</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//发送邮件或者添加QQ，请说明什么问题，以及文章链接，这样方便对您的问题进行更详尽的回答</span><br><span class="line">E-mail：blog.meaoo@icloud.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> WordPress </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Coder </tag>
            
            <tag> WordPress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>君开吾未来，君去吾正艳</title>
      <link href="/2017/07/21/20170721023.html"/>
      <url>/2017/07/21/20170721023.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/97356743.jpg" alt="君开吾未来，君去吾正艳"></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/97333924.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/21857681.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/29596519.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/22685653.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/90741192.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/80179167.jpg" alt="君开吾未来，君去吾正艳"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/51172598.jpg" alt="君开吾未来，君去吾正艳"></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>汇宗寺</title>
      <link href="/2017/07/21/20170721022.html"/>
      <url>/2017/07/21/20170721022.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>地理位置: 锡林郭勒盟多伦县</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/15147709.jpg" alt="汇宗寺"></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/9365020.jpg" alt="汇宗寺"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/96073884.jpg" alt="汇宗寺"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/94268312.jpg" alt="汇宗寺"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/74495838.jpg" alt="汇宗寺"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/4955232.jpg" alt="汇宗寺"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/69232456.jpg" alt="汇宗寺"></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>日坛公园郁金香</title>
      <link href="/2017/07/21/20170721024.html"/>
      <url>/2017/07/21/20170721024.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/85439541.jpg" alt="日坛公园郁金香"></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/98188007.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/69640595.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/6812203.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/56173424.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/59106633.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/54010621.jpg" alt="日坛公园郁金香"><br><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/36715298.jpg" alt="日坛公园郁金香"></p>]]></content>
      
      
      <categories>
          
          <category> Travel </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>摩擦摩擦</title>
      <link href="/2017/05/22/moca.html"/>
      <url>/2017/05/22/moca.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>设备： 小米5<br>地点：北京.朝阳门SOHO<br>时间：2017年5月22日</p></blockquote><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/7970165.jpg" alt></p><a id="more"></a><p><img src="https://raw.githubusercontent.com/meaoo/blog_img/master/2018/02/11/33940609.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> Life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
